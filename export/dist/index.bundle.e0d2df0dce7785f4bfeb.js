/*! For license information please see index.bundle.e0d2df0dce7785f4bfeb.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,a,o={954:(e,t,n)=>{var r=n(482),a=n(584);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){var e=p(),t=e.m(i),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,u(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(i=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new y(e,t)},AsyncIterator:f,async:function(e,t,n,a,i){return(r(t)?d:s)(o(e),t,n,a,i)},keys:c,values:u}})()}function u(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(o(e)+" is not iterable")}function c(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function s(e,t,n,r,a){var o=d(e,t,n,r,a);return o.next().then(function(e){return e.done?e.value:o.next()})}function d(e,t,n,r,a){return new f(p().w(e,t,n,r),a||Promise)}function f(e,t){function n(r,a,o,i){try{var u=e[r](a),c=u.value;return c instanceof y?t.resolve(c.v).then(function(e){n("next",e,o,i)},function(e){n("throw",e,o,i)}):t.resolve(c).then(function(e){u.value=e,o(u)},function(e){return n("throw",e,o,i)})}catch(e){i(e)}}var r;this.next||(l(f.prototype),l(f.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),l(this,"_invoke",function(e,a,o){function i(){return new t(function(t,r){n(e,o,t,r)})}return r=r?r.then(i,i):i()},!0)}function p(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return l(s,"_invoke",function(n,r,a){var o,u,c,s=0,d=a||[],f=!1,p={p:0,n:0,v:e,a:l,f:l.bind(e,4),d:function(t,n){return o=t,u=0,c=e,p.n=n,i}};function l(n,r){for(u=n,c=r,t=0;!f&&s&&!a&&t<d.length;t++){var a,o=d[t],l=p.p,y=o[2];n>3?(a=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=l&&((a=n<2&&l<o[1])?(u=0,p.v=r,p.n=o[1]):l<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(a||n>1)return i;throw f=!0,r}return function(a,d,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===d&&l(d,y),u=d,c=y;(t=u<2?e:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),l(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,a,o),!0),s}var i={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(d);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,l(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=s,l(f,"constructor",s),l(s,"constructor",c),c.displayName="GeneratorFunction",l(s,a,"GeneratorFunction"),l(f),l(f,a,"Generator"),l(f,r,function(){return this}),l(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:o,m:y}})()}function l(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}l=function(e,t,n,r){function o(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},l(e,t,n,r)}function y(e,t){this.v=e,this.k=t}function v(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)})}}window.TKHQ=r;var g=null,m=new AbortController,h=new AbortController,w=function(){var e=b(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data||"INJECT_KEY_EXPORT_BUNDLE"!=t.data.type){e.next=10;break}return r.logMessage("⬇️ Received message ".concat(t.data.type,": ").concat(t.data.value,", ").concat(t.data.keyFormat,", ").concat(t.data.organizationId)),e.prev=2,e.next=5,S(t.data.value,t.data.keyFormat,t.data.organizationId,t.data.requestId);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r.sendMessageUp("ERROR",e.t0.toString(),t.data.requestId);case 10:if(!t.data||"INJECT_WALLET_EXPORT_BUNDLE"!=t.data.type){e.next=20;break}return r.logMessage("⬇️ Received message ".concat(t.data.type,": ").concat(t.data.value,", ").concat(t.data.organizationId)),e.prev=12,e.next=15,P(t.data.value,t.data.organizationId,t.data.requestId);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),r.sendMessageUp("ERROR",e.t1.toString(),t.data.requestId);case 20:if(!t.data||"APPLY_SETTINGS"!=t.data.type){e.next=29;break}return e.prev=21,e.next=24,T(t.data.value,t.data.requestId);case 24:e.next=29;break;case 26:e.prev=26,e.t2=e.catch(21),r.sendMessageUp("ERROR",e.t2.toString(),t.data.requestId);case 29:if(t.data&&"RESET_EMBEDDED_KEY"==t.data.type){r.logMessage("⬇️ Received message ".concat(t.data.type));try{r.onResetEmbeddedKey()}catch(e){r.sendMessageUp("ERROR",e.toString())}}case 30:case"end":return e.stop()}},e,null,[[2,7],[12,17],[21,26]])}));return function(t){return e.apply(this,arguments)}}();function x(e){Array.from(document.body.children).forEach(function(e){"SCRIPT"!==e.tagName&&"key-div"!==e.id&&(e.style.display="none")});var t={border:"none",color:"#555b64",fontSize:".875rem",lineHeight:"1.25rem",overflowWrap:"break-word",textAlign:"left"},n=document.getElementById("key-div");for(var a in n.innerText=e,t)n.style[a]=t[a];document.body.appendChild(n),r.applySettings(r.getSettings())}function E(e,t){return k.apply(this,arguments)}function k(){return(k=b(i().mark(function e(t,n){var o,u,c,s,d;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(t),e.t0=c.version,e.next="v1.0.0"===e.t0?4:31;break;case 4:if(c.data){e.next=6;break}throw new Error('missing "data" in bundle');case 6:if(c.dataSignature){e.next=8;break}throw new Error('missing "dataSignature" in bundle');case 8:if(c.enclaveQuorumPublic){e.next=10;break}throw new Error('missing "enclaveQuorumPublic" in bundle');case 10:if(r.verifyEnclaveSignature){e.next=12;break}throw new Error("method not loaded");case 12:return e.next=14,r.verifyEnclaveSignature(c.enclaveQuorumPublic,c.dataSignature,c.data);case 14:if(e.sent){e.next=17;break}throw new Error("failed to verify enclave signature: ".concat(t));case 17:if(s=JSON.parse((new TextDecoder).decode(r.uint8arrayFromHexString(c.data))),n){e.next=22;break}console.warn('we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass "organizationId" for security purposes.'),e.next=24;break;case 22:if(s.organizationId&&s.organizationId===n){e.next=24;break}throw new Error("organization id does not match expected value. Expected: ".concat(n,". Found: ").concat(s.organizationId,"."));case 24:if(s.encappedPublic){e.next=26;break}throw new Error('missing "encappedPublic" in bundle signed data');case 26:if(s.ciphertext){e.next=28;break}throw new Error('missing "ciphertext" in bundle signed data');case 28:return o=r.uint8arrayFromHexString(s.encappedPublic),u=r.uint8arrayFromHexString(s.ciphertext),e.abrupt("break",32);case 31:throw new Error("unsupported version: ".concat(c.version));case 32:return e.next=34,r.getEmbeddedKey();case 34:return d=e.sent,e.next=37,(0,a.u)({ciphertextBuf:u,encappedKeyBuf:o,receiverPrivJwk:d});case 37:return e.abrupt("return",e.sent);case 38:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=b(i().mark(function e(t,n,a,o){var u,c,s,d,f;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,a);case 2:if(u=e.sent,r.onResetEmbeddedKey(),s=new Uint8Array(u),"SOLANA"!==n){e.next=13;break}return d=r.uint8arrayToHexString(s.subarray(0,32)),f=r.getEd25519PublicKey(d),e.next=10,r.encodeKey(s,n,f);case 10:c=e.sent,e.next=16;break;case 13:return e.next=15,r.encodeKey(s,n);case 15:c=e.sent;case 16:x(c),r.sendMessageUp("BUNDLE_INJECTED",!0,o);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t,n){return _.apply(this,arguments)}function _(){return(_=b(i().mark(function e(t,n,a){var o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n);case 2:o=e.sent,r.onResetEmbeddedKey(),x(r.encodeWallet(new Uint8Array(o)).mnemonic),r.sendMessageUp("BUNDLE_INJECTED",!0,a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return I.apply(this,arguments)}function I(){return(I=b(i().mark(function e(t,n){var a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r.applySettings(t),r.setSettings(a),r.sendMessageUp("SETTINGS_APPLIED",!0,n);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",b(i().mark(function e(){var t,n,a,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.initEmbeddedKey();case 2:return e.next=4,r.getEmbeddedKey();case 4:return t=e.sent,e.next=7,r.p256JWKPrivateToPublic(t);case 7:n=e.sent,a=r.uint8arrayToHexString(n),document.getElementById("embedded-key").value=a,window.addEventListener("message",w,{capture:!1,signal:m.signal}),m.signal.aborted||((o=r.getSettings())&&r.applySettings(o),r.sendMessageUp("PUBLIC_KEY_READY",a));case 12:case"end":return e.stop()}},e)})),!1),window.addEventListener("message",function(){var e=b(i().mark(function e(t){var n,a,o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data||"TURNKEY_INIT_MESSAGE_CHANNEL"!=t.data.type||null===(n=t.ports)||void 0===n||!n[0]){e.next=17;break}return m.abort(),(g=t.ports[0]).onmessage=w,r.setParentFrameMessageChannelPort(g),e.next=7,r.initEmbeddedKey();case 7:return e.next=9,r.getEmbeddedKey();case 9:return a=e.sent,e.next=12,r.p256JWKPrivateToPublic(a);case 12:o=e.sent,u=r.uint8arrayToHexString(o),document.getElementById("embedded-key").value=u,r.sendMessageUp("PUBLIC_KEY_READY",u),h.abort();case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),{signal:h.signal})}},i={};function u(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,u),n.exports}u.m=o,e=[],u.O=(t,n,r,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,a]=e[d],i=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(u.O).every(e=>u.O[e](n[c]))?n.splice(c--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);u.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;("object"==typeof i||"function"==typeof i)&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach(t=>o[t]=()=>e[t]);return o.default=()=>e,u.d(a,o),a},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce((t,n)=>(u.f[n](e,t),t),[])),u.u=e=>e+".bundle."+{291:"7a021a78b825e05e9dc5",825:"cc79276508bd3ade610e"}[e]+".js",u.miniCssF=e=>{},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="export-tests:",u.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var i,c;if(void 0!==n)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var f=s[d];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==a+n){i=f;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",u.nc&&i.setAttribute("nonce",u.nc),i.setAttribute("data-webpack",a+n),i.src=e),r[e]=[t];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(l);var a=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(n)),t)return t(n)},l=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="/",(()=>{var e={57:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((n,a)=>r=e[t]=[n,a]);n.push(r[2]=a);var o=u.p+u.u(t),i=new Error;u.l(o,n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}},"chunk-"+t,t)}},u.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,i,c]=n,s=0;if(o.some(t=>0!==e[t])){for(r in i)u.o(i,r)&&(u.m[r]=i[r]);if(c)var d=c(u)}for(t&&t(n);s<o.length;s++)a=o[s],u.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return u.O(d)},n=self.webpackChunkexport_tests=self.webpackChunkexport_tests||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=u.O(void 0,[96,551],()=>u(954));c=u.O(c)})();
//# sourceMappingURL=index.bundle.e0d2df0dce7785f4bfeb.js.map