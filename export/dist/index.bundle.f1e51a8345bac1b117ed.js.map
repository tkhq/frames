{"version":3,"file":"index.bundle.f1e51a8345bac1b117ed.js","mappings":"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","sources":["webpack://export-tests/webpack/runtime/chunk loaded","webpack://export-tests/webpack/runtime/create fake namespace object","webpack://export-tests/webpack/runtime/load script","webpack://export-tests/../shared/turnkey-core.js","webpack://export-tests/./src/turnkey-core.js","webpack://export-tests/../shared/crypto-utils.js","webpack://export-tests/./src/index.js","webpack://export-tests/webpack/bootstrap","webpack://export-tests/webpack/runtime/define property getters","webpack://export-tests/webpack/runtime/ensure chunk","webpack://export-tests/webpack/runtime/get javascript chunk filename","webpack://export-tests/webpack/runtime/get mini-css chunk filename","webpack://export-tests/webpack/runtime/global","webpack://export-tests/webpack/runtime/hasOwnProperty shorthand","webpack://export-tests/webpack/runtime/make namespace object","webpack://export-tests/webpack/runtime/publicPath","webpack://export-tests/webpack/runtime/jsonp chunk loading","webpack://export-tests/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"export-tests:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { bech32 } from \"bech32\";\n\n/**\n * Turnkey Core Module - Shared\n * Contains all the core cryptographic and utility functions shared across frames\n */\n\n/** constants for LocalStorage */\nconst TURNKEY_EMBEDDED_KEY = \"TURNKEY_EMBEDDED_KEY\";\nconst TURNKEY_TARGET_EMBEDDED_KEY = \"TURNKEY_TARGET_EMBEDDED_KEY\";\nconst TURNKEY_SETTINGS = \"TURNKEY_SETTINGS\";\n/** 48 hours in milliseconds */\nconst TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS = 1000 * 60 * 60 * 48;\nconst TURNKEY_EMBEDDED_KEY_ORIGIN = \"TURNKEY_EMBEDDED_KEY_ORIGIN\";\n\nlet parentFrameMessageChannelPort = null;\nvar cryptoProviderOverride = null;\n\n/*\n * Returns a reference to the WebCrypto subtle interface regardless of the host environment.\n */\nfunction getSubtleCrypto() {\n  if (cryptoProviderOverride && cryptoProviderOverride.subtle) {\n    return cryptoProviderOverride.subtle;\n  }\n  if (\n    typeof globalThis !== \"undefined\" &&\n    globalThis.crypto &&\n    globalThis.crypto.subtle\n  ) {\n    return globalThis.crypto.subtle;\n  }\n  if (typeof window !== \"undefined\" && window.crypto && window.crypto.subtle) {\n    return window.crypto.subtle;\n  }\n  if (typeof global !== \"undefined\" && global.crypto && global.crypto.subtle) {\n    return global.crypto.subtle;\n  }\n  if (typeof crypto !== \"undefined\" && crypto.subtle) {\n    return crypto.subtle;\n  }\n\n  return null;\n}\n\n/*\n * Allows tests to explicitly set the crypto provider (e.g. crypto.webcrypto) when the runtime\n * environment does not expose one on the global/window objects.\n */\nfunction setCryptoProvider(cryptoProvider) {\n  cryptoProviderOverride = cryptoProvider || null;\n}\n\n/* Security functions */\n\nfunction isDoublyIframed() {\n  if (window.location.ancestorOrigins !== undefined) {\n    // Does not exist in IE and firefox.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Location/ancestorOrigins for how this works\n    return window.location.ancestorOrigins.length > 1;\n  } else {\n    return window.parent !== window.top;\n  }\n}\n\n/*\n * Loads the quorum public key as a CryptoKey.\n */\nasync function loadQuorumKey(quorumPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.importKey(\n    \"raw\",\n    quorumPublic,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"verify\"]\n  );\n}\n\n/*\n * Load a key to encrypt to as a CryptoKey and return it as a JSON Web Key.\n */\nasync function loadTargetKey(targetPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const targetKey = await subtle.importKey(\n    \"raw\",\n    targetPublic,\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n\n  return await subtle.exportKey(\"jwk\", targetKey);\n}\n\n/**\n * Creates a new public/private key pair and persists it in localStorage\n */\nasync function initEmbeddedKey() {\n  if (isDoublyIframed()) {\n    throw new Error(\"Doubly iframed\");\n  }\n  const retrievedKey = await getEmbeddedKey();\n  if (retrievedKey === null) {\n    const targetKey = await generateTargetKey();\n    setEmbeddedKey(targetKey);\n  }\n  // Nothing to do, key is correctly initialized!\n}\n\n/*\n * Generate a key to encrypt to and export it as a JSON Web Key.\n */\nasync function generateTargetKey() {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const p256key = await subtle.generateKey(\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"deriveBits\"]\n  );\n\n  return await subtle.exportKey(\"jwk\", p256key.privateKey);\n}\n\n/**\n * Gets the current embedded private key JWK. Returns `null` if not found.\n */\nfunction getEmbeddedKey() {\n  const jwtKey = getItemWithExpiry(TURNKEY_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the embedded private key JWK with the default expiration time.\n * @param {JsonWebKey} targetKey\n */\nfunction setEmbeddedKey(targetKey) {\n  setItemWithExpiry(\n    TURNKEY_EMBEDDED_KEY,\n    JSON.stringify(targetKey),\n    TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS\n  );\n}\n\n/**\n * Gets the current target embedded private key JWK. Returns `null` if not found.\n */\nfunction getTargetEmbeddedKey() {\n  const jwtKey = window.localStorage.getItem(TURNKEY_TARGET_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the target embedded public key JWK.\n * @param {JsonWebKey} targetKey\n */\nfunction setTargetEmbeddedKey(targetKey) {\n  window.localStorage.setItem(\n    TURNKEY_TARGET_EMBEDDED_KEY,\n    JSON.stringify(targetKey)\n  );\n}\n\n/**\n * Resets the current embedded private key JWK.\n */\nfunction onResetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY);\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY_ORIGIN);\n}\n\n/**\n * Resets the current target embedded private key JWK.\n */\nfunction resetTargetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_TARGET_EMBEDDED_KEY);\n}\n\nfunction setParentFrameMessageChannelPort(port) {\n  parentFrameMessageChannelPort = port;\n}\n\n/**\n * Gets the current settings.\n */\nfunction getSettings() {\n  const settings = window.localStorage.getItem(TURNKEY_SETTINGS);\n  return settings ? JSON.parse(settings) : null;\n}\n\n/**\n * Sets the settings object.\n * @param {Object} settings\n */\nfunction setSettings(settings) {\n  window.localStorage.setItem(TURNKEY_SETTINGS, JSON.stringify(settings));\n}\n\n/**\n * Set an item in localStorage with an expiration time\n * @param {string} key\n * @param {string} value\n * @param {number} ttl expiration time in milliseconds\n */\nfunction setItemWithExpiry(key, value, ttl) {\n  const now = new Date();\n  const item = {\n    value: value,\n    expiry: now.getTime() + ttl,\n  };\n  window.localStorage.setItem(key, JSON.stringify(item));\n}\n\n/**\n * Get an item from localStorage. Returns `null` and\n * removes the item from localStorage if expired or\n * expiry time is missing.\n * @param {string} key\n */\nfunction getItemWithExpiry(key) {\n  const itemStr = window.localStorage.getItem(key);\n  if (!itemStr) {\n    return null;\n  }\n  const item = JSON.parse(itemStr);\n  if (\n    !Object.prototype.hasOwnProperty.call(item, \"expiry\") ||\n    !Object.prototype.hasOwnProperty.call(item, \"value\")\n  ) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  const now = new Date();\n  if (now.getTime() > item.expiry) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  return item.value;\n}\n\n/**\n * Takes a hex string (e.g. \"e4567ab\" or \"0xe4567ab\") and returns an array buffer (Uint8Array)\n * @param {string} hexString - Hex string with or without \"0x\" prefix\n * @returns {Uint8Array}\n */\nfunction uint8arrayFromHexString(hexString) {\n  if (!hexString || typeof hexString !== \"string\") {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n\n  // Remove 0x prefix if present\n  const hexWithoutPrefix =\n    hexString.startsWith(\"0x\") || hexString.startsWith(\"0X\")\n      ? hexString.slice(2)\n      : hexString;\n\n  var hexRegex = /^[0-9A-Fa-f]+$/;\n  if (hexWithoutPrefix.length % 2 != 0 || !hexRegex.test(hexWithoutPrefix)) {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n  return new Uint8Array(\n    hexWithoutPrefix.match(/../g).map((h) => parseInt(h, 16))\n  );\n}\n\n/**\n * Takes a Uint8Array and returns a hex string\n * @param {Uint8Array} buffer\n * @return {string}\n */\nfunction uint8arrayToHexString(buffer) {\n  return [...buffer].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n}\n\n/**\n * Function to normalize padding of byte array with 0's to a target length\n */\nfunction normalizePadding(byteArray, targetLength) {\n  const paddingLength = targetLength - byteArray.length;\n\n  // Add leading 0's to array\n  if (paddingLength > 0) {\n    const padding = new Uint8Array(paddingLength).fill(0);\n    return new Uint8Array([...padding, ...byteArray]);\n  }\n\n  // Remove leading 0's from array\n  if (paddingLength < 0) {\n    const expectedZeroCount = paddingLength * -1;\n    let zeroCount = 0;\n    for (let i = 0; i < expectedZeroCount && i < byteArray.length; i++) {\n      if (byteArray[i] === 0) {\n        zeroCount++;\n      }\n    }\n    // Check if the number of zeros found equals the number of zeroes expected\n    if (zeroCount !== expectedZeroCount) {\n      throw new Error(\n        `invalid number of starting zeroes. Expected number of zeroes: ${expectedZeroCount}. Found: ${zeroCount}.`\n      );\n    }\n    return byteArray.slice(expectedZeroCount, expectedZeroCount + targetLength);\n  }\n  return byteArray;\n}\n\n/**\n * Additional Associated Data (AAD) in the format dictated by the enclave_encrypt crate.\n */\nfunction additionalAssociatedData(senderPubBuf, receiverPubBuf) {\n  const s = Array.from(new Uint8Array(senderPubBuf));\n  const r = Array.from(new Uint8Array(receiverPubBuf));\n  return new Uint8Array([...s, ...r]);\n}\n\n/**\n * Converts an ASN.1 DER-encoded ECDSA signature to the raw format that WebCrypto uses.\n */\nfunction fromDerSignature(derSignature) {\n  const derSignatureBuf = uint8arrayFromHexString(derSignature);\n\n  // Check and skip the sequence tag (0x30)\n  let index = 2;\n\n  // Parse 'r' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for r\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const rLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const r = derSignatureBuf.slice(index, index + rLength);\n  index += rLength; // Move to the start of s\n\n  // Parse 's' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for s\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const sLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const s = derSignatureBuf.slice(index, index + sLength);\n\n  // Normalize 'r' and 's' to 32 bytes each\n  const rPadded = normalizePadding(r, 32);\n  const sPadded = normalizePadding(s, 32);\n\n  // Concatenate and return the raw signature\n  return new Uint8Array([...rPadded, ...sPadded]);\n}\n\n/**\n * Function to verify enclave signature on import bundle received from the server.\n * @param {string} enclaveQuorumPublic uncompressed public key for the quorum key which produced the signature\n * @param {string} publicSignature signature bytes encoded as a hexadecimal string\n * @param {string} signedData signed bytes encoded as a hexadecimal string. This could be public key bytes directly, or JSON-encoded bytes\n */\nasync function verifyEnclaveSignature(\n  enclaveQuorumPublic,\n  publicSignature,\n  signedData\n) {\n  /** Turnkey Signer enclave's public keys */\n  const TURNKEY_SIGNERS_ENCLAVES = {\n    prod: \"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\",\n    preprod:\n      \"04f3422b8afbe425d6ece77b8d2469954715a2ff273ab7ac89f1ed70e0a9325eaa1698b4351fd1b23734e65c0b6a86b62dd49d70b37c94606aac402cbd84353212\",\n  };\n\n  // Use window.__TURNKEY_SIGNER_ENVIRONMENT__ if available (for testing), otherwise use the webpack replacement\n  const environment =\n    (typeof window !== \"undefined\" && window.__TURNKEY_SIGNER_ENVIRONMENT__) ||\n    \"__TURNKEY_SIGNER_ENVIRONMENT__\";\n  const TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY =\n    TURNKEY_SIGNERS_ENCLAVES[environment];\n\n  if (TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY === undefined) {\n    throw new Error(\n      `Configuration error: TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY is undefined`\n    );\n  }\n\n  // todo(olivia): throw error if enclave quorum public is null once server changes are deployed\n  if (enclaveQuorumPublic) {\n    if (enclaveQuorumPublic !== TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY) {\n      throw new Error(\n        `enclave quorum public keys from client and bundle do not match. Client: ${TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY}. Bundle: ${enclaveQuorumPublic}.`\n      );\n    }\n  }\n\n  const encryptionQuorumPublicBuf = new Uint8Array(\n    uint8arrayFromHexString(TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY)\n  );\n  const quorumKey = await loadQuorumKey(encryptionQuorumPublicBuf);\n  if (!quorumKey) {\n    throw new Error(\"failed to load quorum key\");\n  }\n\n  // The ECDSA signature is ASN.1 DER encoded but WebCrypto uses raw format\n  const publicSignatureBuf = fromDerSignature(publicSignature);\n  const signedDataBuf = uint8arrayFromHexString(signedData);\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.verify(\n    { name: \"ECDSA\", hash: \"SHA-256\" },\n    quorumKey,\n    publicSignatureBuf,\n    signedDataBuf\n  );\n}\n\n/**\n * Function to send a message.\n *\n * If this page is embedded as an iframe we'll send a postMessage\n * in one of two ways depending on the version of @turnkey/iframe-stamper:\n *   1. newer versions (>=v2.1.0) pass a MessageChannel MessagePort from the parent frame for postMessages.\n *   2. older versions (<v2.1.0) still use the contentWindow so we will postMessage to the window.parent for backwards compatibility.\n *\n * Otherwise we'll display it in the DOM.\n * @param type message type. Can be \"PUBLIC_KEY_CREATED\" or \"BUNDLE_INJECTED\"\n * @param value message value\n * @param requestId serves as an idempotency key to match incoming requests. Backwards compatible: if not provided, it isn't passed in.\n */\nfunction sendMessageUp(type, value, requestId) {\n  const message = {\n    type: type,\n    value: value,\n  };\n\n  // Only include requestId if it was provided\n  if (requestId) {\n    message.requestId = requestId;\n  }\n\n  if (parentFrameMessageChannelPort) {\n    parentFrameMessageChannelPort.postMessage(message);\n  } else if (window.parent !== window) {\n    window.parent.postMessage(\n      {\n        type: type,\n        value: value,\n      },\n      \"*\"\n    );\n  }\n  logMessage(` Sent message ${type}: ${value}`);\n}\n\n/**\n * Function to log a message and persist it in the page's DOM.\n */\nfunction logMessage(content) {\n  const messageLog = document.getElementById(\"message-log\");\n  if (messageLog) {\n    const message = document.createElement(\"p\");\n    message.innerText = content;\n    messageLog.appendChild(message);\n  }\n}\n\n/**\n * Convert a JSON Web Key private key to a public key and export the public\n * key in raw format.\n * @return {Uint8array}\n */\nasync function p256JWKPrivateToPublic(jwkPrivate) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  // make a copy so we don't modify the underlying object\n  const jwkPrivateCopy = { ...jwkPrivate };\n  // change jwk so it will be imported as a public key\n  delete jwkPrivateCopy.d;\n  jwkPrivateCopy.key_ops = [\"verify\"];\n\n  const publicKey = await subtle.importKey(\n    \"jwk\",\n    jwkPrivateCopy,\n    { name: \"ECDSA\", namedCurve: \"P-256\" },\n    true,\n    [\"verify\"]\n  );\n  const buffer = await subtle.exportKey(\"raw\", publicKey);\n  return new Uint8Array(buffer);\n}\n\n/**\n * Encodes a buffer into a base58-encoded string.\n * @param {Uint8Array} bytes The buffer to encode.\n * @return {string} The base58-encoded string.\n */\nfunction base58Encode(bytes) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  const alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  let result = \"\";\n  let digits = [0];\n  for (let i = 0; i < bytes.length; i++) {\n    let carry = bytes[i];\n    for (let j = 0; j < digits.length; ++j) {\n      carry += digits[j] << 8;\n      digits[j] = carry % 58;\n      carry = (carry / 58) | 0;\n    }\n\n    while (carry > 0) {\n      digits.push(carry % 58);\n      carry = (carry / 58) | 0;\n    }\n  }\n  // Convert digits to a base58 string\n  for (let k = 0; k < digits.length; k++) {\n    result = alphabet[digits[k]] + result;\n  }\n\n  // Add '1' for each leading 0 byte\n  for (let i = 0; bytes[i] === 0 && i < bytes.length - 1; i++) {\n    result = \"1\" + result;\n  }\n  return result;\n}\n\n/**\n * Decodes a base58-encoded string into a buffer\n * This function throws an error when the string contains invalid characters.\n * @param {string} s The base58-encoded string.\n * @return {Uint8Array} The decoded buffer.\n */\nfunction base58Decode(s) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  var alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  var decodedBytes = [];\n  var leadingZeros = [];\n  for (var i = 0; i < s.length; i++) {\n    if (alphabet.indexOf(s[i]) === -1) {\n      throw new Error(`cannot base58-decode: ${s[i]} isn't a valid character`);\n    }\n    var carry = alphabet.indexOf(s[i]);\n\n    // If the current base58 digit is 0, append a 0 byte.\n    // \"i == leadingZeros.length\" can only be true if we have not seen non-zero bytes so far.\n    // If we had seen a non-zero byte, carry wouldn't be 0, and i would be strictly more than `leadingZeros.length`\n    if (carry == 0 && i === leadingZeros.length) {\n      leadingZeros.push(0);\n    }\n\n    var j = 0;\n    while (j < decodedBytes.length || carry > 0) {\n      var currentByte = decodedBytes[j];\n\n      // shift the current byte 58 units and add the carry amount\n      // (or just add the carry amount if this is a new byte -- undefined case)\n      if (currentByte === undefined) {\n        currentByte = carry;\n      } else {\n        currentByte = currentByte * 58 + carry;\n      }\n\n      // find the new carry amount (1-byte shift of current byte value)\n      carry = currentByte >> 8;\n      // reset the current byte to the remainder (the carry amount will pass on the overflow)\n      decodedBytes[j] = currentByte % 256;\n      j++;\n    }\n  }\n\n  var result = leadingZeros.concat(decodedBytes.reverse());\n  return new Uint8Array(result);\n}\n\n/**\n * Decodes a base58check-encoded string and verifies the checksum.\n * Base58Check encoding includes a 4-byte checksum at the end to detect errors.\n * The checksum is the first 4 bytes of SHA256(SHA256(payload)).\n * This function throws an error if the checksum is invalid.\n * @param {string} s The base58check-encoded string.\n * @return {Promise<Uint8Array>} The decoded payload (without checksum).\n */\nasync function base58CheckDecode(s) {\n  const decoded = base58Decode(s);\n\n  if (decoded.length < 5) {\n    throw new Error(\n      `invalid base58check length: expected at least 5 bytes, got ${decoded.length}`\n    );\n  }\n\n  const payload = decoded.subarray(0, decoded.length - 4);\n  const checksum = decoded.subarray(decoded.length - 4);\n\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n\n  // Compute double SHA256 hash\n  const hash1Buf = await subtle.digest(\"SHA-256\", payload);\n  const hash1 = new Uint8Array(hash1Buf);\n  const hash2Buf = await subtle.digest(\"SHA-256\", hash1);\n  const hash2 = new Uint8Array(hash2Buf);\n  const computedChecksum = hash2.subarray(0, 4);\n\n  // Verify checksum\n  const mismatch =\n    (checksum[0] ^ computedChecksum[0]) |\n    (checksum[1] ^ computedChecksum[1]) |\n    (checksum[2] ^ computedChecksum[2]) |\n    (checksum[3] ^ computedChecksum[3]);\n  if (mismatch !== 0) {\n    throw new Error(\"invalid base58check checksum\");\n  }\n\n  return payload;\n}\n\n/**\n * Encodes a Uint8Array into a base58-check-encoded string\n * Throws an error if the input is invalid or the checksum is invalid.\n * @param {Uint8Array} payload The raw payload to encode.\n * @return {Promise<string>} The base58check-encoded string.\n */\nasync function base58CheckEncode(payload) {\n  const hash1Buf = await crypto.subtle.digest(\"SHA-256\", payload);\n  const hash1 = new Uint8Array(hash1Buf);\n\n  const hash2Buf = await crypto.subtle.digest(\"SHA-256\", hash1);\n  const hash2 = new Uint8Array(hash2Buf);\n\n  const checksum = hash2.slice(0, 4);\n\n  const full = new Uint8Array(payload.length + 4);\n  full.set(payload, 0);\n  full.set(checksum, payload.length);\n\n  return base58Encode(full);\n}\n\n/**\n * Returns private key bytes from a private key, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {string} privateKey\n * @param {string} keyFormat Can be \"HEXADECIMAL\", \"SUI_BECH32\", \"BITCOIN_MAINNET_WIF\", \"BITCOIN_TESTNET_WIF\" or \"SOLANA\"\n * @return {Promise<Uint8Array>}\n */\nasync function decodeKey(privateKey, keyFormat) {\n  switch (keyFormat) {\n    case \"SOLANA\": {\n      const decodedKeyBytes = base58Decode(privateKey);\n      if (decodedKeyBytes.length !== 64) {\n        throw new Error(\n          `invalid key length. Expected 64 bytes. Got ${decodedKeyBytes.length}.`\n        );\n      }\n      return decodedKeyBytes.subarray(0, 32);\n    }\n    case \"HEXADECIMAL\":\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n    case \"BITCOIN_MAINNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0x80 = mainnet\n      if (version !== 0x80) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0x80 (mainnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"BITCOIN_TESTNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0xEF = testnet\n      if (version !== 0xef) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0xEF (testnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"SUI_BECH32\": {\n      const { prefix, words } = bech32.decode(privateKey);\n\n      if (prefix !== \"suiprivkey\") {\n        throw new Error(\n          `invalid SUI private key human-readable part (HRP): expected \"suiprivkey\"`\n        );\n      }\n\n      const bytes = bech32.fromWords(words);\n      if (bytes.length !== 33) {\n        throw new Error(\n          `invalid SUI private key length: expected 33 bytes, got ${bytes.length}`\n        );\n      }\n\n      const schemeFlag = bytes[0];\n      const privkey = bytes.slice(1);\n\n      // schemeFlag = 0 is Ed25519; We currently only support Ed25519 keys for SUI.\n      if (schemeFlag !== 0) {\n        throw new Error(\n          `invalid SUI private key scheme flag: expected 0 (Ed25519). Turnkey only supports Ed25519 keys for SUI.`\n        );\n      }\n\n      return new Uint8Array(privkey);\n    }\n    default:\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n  }\n}\n\n/**\n * Returns a private key from private key bytes, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {Uint8Array} privateKeyBytes\n * @param {string} keyFormat Can be \"HEXADECIMAL\", \"SUI_BECH32\", \"BITCOIN_MAINNET_WIF\", \"BITCOIN_TESTNET_WIF\" or \"SOLANA\"\n */\nasync function encodeKey(privateKeyBytes, keyFormat, publicKeyBytes) {\n  switch (keyFormat) {\n    case \"SOLANA\":\n      if (!publicKeyBytes) {\n        throw new Error(\n          \"public key must be specified for SOLANA key format\"\n        );\n      }\n      if (privateKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid private key length. Expected 32 bytes. Got ${privateKeyBytes.length}.`\n        );\n      }\n      if (publicKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid public key length. Expected 32 bytes. Got ${publicKeyBytes.length}.`\n        );\n      }\n      const concatenatedBytes = new Uint8Array(64);\n      concatenatedBytes.set(privateKeyBytes, 0);\n      concatenatedBytes.set(publicKeyBytes, 32);\n      return base58Encode(concatenatedBytes);\n    case \"HEXADECIMAL\":\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n    case \"BITCOIN_MAINNET_WIF\":\n    case \"BITCOIN_TESTNET_WIF\": {\n      if (privateKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid private key length. Expected 32 bytes. Got ${privateKeyBytes.length}.`\n        );\n      }\n\n      const version = keyFormat === \"BITCOIN_MAINNET_WIF\" ? 0x80 : 0xef;\n      const wifPayload = new Uint8Array(34);\n      wifPayload[0] = version;\n      wifPayload.set(privateKeyBytes, 1);\n      wifPayload[33] = 0x01; // compressed flag\n\n      return await base58CheckEncode(wifPayload);\n    }\n    case \"SUI_BECH32\":\n      if (privateKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid private key length. Expected 32 bytes. Got ${privateKeyBytes.length}.`\n        );\n      }\n\n      const schemeFlag = 0x00; // ED25519 | We only support ED25519 keys for Sui currently\n      const bech32Payload = new Uint8Array(1 + 32);\n      bech32Payload[0] = schemeFlag;\n      bech32Payload.set(privateKeyBytes, 1);\n\n      return bech32.encode(\"suiprivkey\", bech32.toWords(bech32Payload));\n    default:\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n  }\n}\n\n// Helper to parse a private key into a Solana base58 private key.\n// To be used if a wallet account is exported without the `SOLANA` address format.\nfunction parsePrivateKey(privateKey) {\n  if (Array.isArray(privateKey)) {\n    return new Uint8Array(privateKey);\n  }\n\n  if (typeof privateKey === \"string\") {\n    // Remove 0x prefix if present\n    if (privateKey.startsWith(\"0x\")) {\n      privateKey = privateKey.slice(2);\n    }\n\n    // Check if it's hex-formatted correctly (i.e. 64 hex chars)\n    if (privateKey.length === 64 && /^[0-9a-fA-F]+$/.test(privateKey)) {\n      return uint8arrayFromHexString(privateKey);\n    }\n\n    // Otherwise assume it's base58 format (for Solana)\n    try {\n      return base58Decode(privateKey);\n    } catch (error) {\n      throw new Error(\n        \"Invalid private key format. Use hex (64 chars) or base58 format.\"\n      );\n    }\n  }\n\n  throw new Error(\"Private key must be a string (hex/base58) or number array\");\n}\n\n/**\n * Function to validate and sanitize the styles object using the accepted map of style keys and values (as regular expressions).\n * Any invalid style throws an error. Returns an object of valid styles.\n * @param {Object} styles\n * @param {HTMLElement} element - Optional element parameter (for import frame)\n * @return {Object}\n */\nfunction validateStyles(styles, element) {\n  const validStyles = {};\n\n  const cssValidationRegex = {\n    padding: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    margin: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    borderWidth: \"^(\\\\d+(px|em|rem) ?){1,4}$\",\n    borderStyle:\n      \"^(none|solid|dashed|dotted|double|groove|ridge|inset|outset)$\",\n    borderColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    borderRadius: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    fontSize: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax))$\",\n    fontWeight: \"^(normal|bold|bolder|lighter|\\\\d{3})$\",\n    fontFamily: '^[^\";<>]*$', // checks for the absence of some characters that could lead to CSS/HTML injection\n    color:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    labelColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    backgroundColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    width: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    height: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    maxWidth: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    maxHeight:\n      \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    lineHeight:\n      \"^(\\\\d+(\\\\.\\\\d+)?(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|normal)$\",\n    boxShadow:\n      \"^(none|(\\\\d+(px|em|rem) ?){2,4} (#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)) ?(inset)?)$\",\n    textAlign: \"^(left|right|center|justify|initial|inherit)$\",\n    overflowWrap: \"^(normal|break-word|anywhere)$\",\n    wordWrap: \"^(normal|break-word)$\",\n    resize: \"^(none|both|horizontal|vertical|block|inline)$\",\n  };\n\n  Object.entries(styles).forEach(([property, value]) => {\n    const styleProperty = property.trim();\n    if (styleProperty.length === 0) {\n      throw new Error(\"css style property cannot be empty\");\n    }\n    const styleRegexStr = cssValidationRegex[styleProperty];\n    if (!styleRegexStr) {\n      throw new Error(\n        `invalid or unsupported css style property: \"${styleProperty}\"`\n      );\n    }\n    const styleRegex = new RegExp(styleRegexStr);\n    const styleValue = value.trim();\n    if (styleValue.length == 0) {\n      throw new Error(`css style for \"${styleProperty}\" is empty`);\n    }\n    const isValidStyle = styleRegex.test(styleValue);\n    if (!isValidStyle) {\n      throw new Error(\n        `invalid css style value for property \"${styleProperty}\"`\n      );\n    }\n    validStyles[styleProperty] = styleValue;\n  });\n\n  return validStyles;\n}\n\n// Export all shared functions\nexport {\n  setCryptoProvider,\n  getSubtleCrypto,\n  isDoublyIframed,\n  loadQuorumKey,\n  loadTargetKey,\n  initEmbeddedKey,\n  generateTargetKey,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  getTargetEmbeddedKey,\n  setTargetEmbeddedKey,\n  onResetEmbeddedKey,\n  resetTargetEmbeddedKey,\n  setParentFrameMessageChannelPort,\n  getSettings,\n  setSettings,\n  setItemWithExpiry,\n  getItemWithExpiry,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  normalizePadding,\n  additionalAssociatedData,\n  fromDerSignature,\n  verifyEnclaveSignature,\n  sendMessageUp,\n  logMessage,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  base58CheckDecode,\n  base58CheckEncode,\n  decodeKey,\n  encodeKey,\n  parsePrivateKey,\n  validateStyles,\n};\n","import \"./styles.css\";\nimport * as SharedTKHQ from \"@shared/turnkey-core.js\";\nimport * as nobleEd25519 from \"@noble/ed25519\";\nimport * as nobleHashes from \"@noble/hashes\"\nimport { sha512 } from \"@noble/hashes/sha2.js\";\n\nconst {\n  getSettings,\n  setSettings,\n  sendMessageUp,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  base58Decode,\n  base58Encode,\n  base58CheckEncode,\n  encodeKey,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  fromDerSignature,\n  additionalAssociatedData,\n  verifyEnclaveSignature,\n  validateStyles,\n  p256JWKPrivateToPublic,\n  setItemWithExpiry,\n  onResetEmbeddedKey,\n  setEmbeddedKey,\n  getEmbeddedKey,\n  generateTargetKey,\n  initEmbeddedKey,\n  logMessage,\n} = SharedTKHQ;\n\n/**\n * Function to apply settings on this page. For now, the only settings that can be applied\n * are for \"styles\". Upon successful application, return the valid, sanitized settings JSON string.\n * @param {string} settings\n * @return {string}\n */\nfunction applySettings(settings) {\n  const validSettings = {};\n  if (!settings) {\n    return JSON.stringify(validSettings);\n  }\n  const settingsObj = JSON.parse(settings);\n  if (settingsObj.styles) {\n    // Valid styles will be applied the \"key-div\" div HTML element.\n    const keyDivTextarea = document.getElementById(\"key-div\");\n    if (!keyDivTextarea) {\n      throw new Error(\"no key-div HTML element found to apply settings to.\");\n    }\n\n    // Validate, sanitize, and apply the styles to the \"key-div\" div element.\n    const validStyles = validateStyles(settingsObj.styles);\n    Object.entries(validStyles).forEach(([key, value]) => {\n      keyDivTextarea.style[key] = value;\n    });\n\n    if (validStyles.backgroundColor) {\n      // Apply background color to document and body as well.\n      document.documentElement.style.backgroundColor =\n        validStyles.backgroundColor;\n      document.body.style.backgroundColor = validStyles.backgroundColor;\n    }\n\n    validSettings[\"styles\"] = validStyles;\n  }\n\n  return JSON.stringify(validSettings);\n}\n\n/**\n * Returns the public key bytes for a hex-encoded Ed25519 private key.\n * @param {string} privateKeyHex\n */\nfunction getEd25519PublicKey(privateKeyHex) {\n  nobleEd25519.etc.sha512Sync = (...m) =>\n    sha512(nobleEd25519.etc.concatBytes(...m));\n\n  return nobleEd25519.getPublicKey(privateKeyHex);\n}\n\n/**\n * Returns a UTF-8 encoded wallet mnemonic + newline optional passphrase\n * from wallet bytes.\n * @param {Uint8Array} walletBytes\n */\nfunction encodeWallet(walletBytes) {\n  const decoder = new TextDecoder(\"utf-8\");\n  const wallet = decoder.decode(walletBytes);\n  let mnemonic;\n  let passphrase = null;\n\n  if (wallet.includes(\"\\n\")) {\n    const parts = wallet.split(\"\\n\");\n    mnemonic = parts[0];\n    passphrase = parts[1];\n  } else {\n    mnemonic = wallet;\n  }\n\n  return {\n    mnemonic: mnemonic,\n    passphrase: passphrase,\n  };\n}\n\n/**\n * Get an item from localStorage. Returns `null` and\n * removes the item from localStorage if expired or\n * expiry time is missing.\n * @param {string} key\n */\nfunction getItemWithExpiry(key) {\n  const itemStr = window.localStorage.getItem(key);\n  if (!itemStr) {\n    return null;\n  }\n  const item = JSON.parse(itemStr);\n  if (!item.hasOwnProperty(\"expiry\") || !item.hasOwnProperty(\"value\")) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  const now = new Date();\n  if (now.getTime() > item.expiry) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  return item.value;\n}\n\nexport {\n  initEmbeddedKey,\n  generateTargetKey,\n  setItemWithExpiry,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  onResetEmbeddedKey,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  base58CheckEncode,\n  encodeKey,\n  sendMessageUp,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  fromDerSignature,\n  additionalAssociatedData,\n  verifyEnclaveSignature,\n  validateStyles,\n  getSettings,\n  setSettings,\n  logMessage,\n  getItemWithExpiry,\n  getEd25519PublicKey,\n  applySettings,\n  encodeWallet,\n};\n","/**\n * Crypto Utilities - Shared\n * Contains HPKE encryption and decryption functions\n */\n\nimport {\n  p256JWKPrivateToPublic,\n  additionalAssociatedData,\n  uint8arrayToHexString,\n} from \"./turnkey-core.js\";\nimport {\n  CipherSuite,\n  DhkemP256HkdfSha256,\n  HkdfSha256,\n  Aes256Gcm,\n} from \"@hpke/core\";\n\n// Pre-compute const (for perf)\nconst TURNKEY_HPKE_INFO = new TextEncoder().encode(\"turnkey_hpke\");\n\n/**\n * Decrypt the ciphertext (ArrayBuffer) given an encapsulation key (ArrayBuffer)\n * and the receivers private key (JSON Web Key).\n */\nexport async function HpkeDecrypt({\n  ciphertextBuf,\n  encappedKeyBuf,\n  receiverPrivJwk,\n}) {\n  const kemContext = new DhkemP256HkdfSha256();\n  var receiverPriv = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPrivJwk },\n    false\n  );\n\n  var suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  var recipientCtx = await suite.createRecipientContext({\n    recipientKey: receiverPriv,\n    enc: encappedKeyBuf,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  var receiverPubBuf = await p256JWKPrivateToPublic(receiverPrivJwk);\n  var aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n  var res;\n  try {\n    res = await recipientCtx.open(ciphertextBuf, aad);\n  } catch (e) {\n    throw new Error(\n      \"unable to decrypt bundle using embedded key. the bundle may be incorrect. failed with error: \" +\n        e.toString()\n    );\n  }\n  return res;\n}\n\n/**\n * Encrypt plaintext using HPKE with the receiver's public key.\n * @param {Object} params\n * @param {Uint8Array} params.plaintextBuf - Plaintext to encrypt\n * @param {JsonWebKey} params.receiverPubJwk - Receiver's public key in JWK format\n * @returns {Promise<string>} JSON stringified encrypted bundle with encappedPublic and ciphertext\n */\nexport async function HpkeEncrypt({ plaintextBuf, receiverPubJwk }) {\n  const kemContext = new DhkemP256HkdfSha256();\n  const receiverPub = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPubJwk },\n    true\n  );\n\n  const suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  const senderCtx = await suite.createSenderContext({\n    recipientPublicKey: receiverPub,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  // Need to import the key again as a JWK to export as a raw key, the format needed to\n  // create the aad with the newly generated raw encapped key.\n  const receiverPubCryptoKey = await crypto.subtle.importKey(\n    \"jwk\",\n    receiverPubJwk,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n  const receiverPubRaw = await crypto.subtle.exportKey(\n    \"raw\",\n    receiverPubCryptoKey\n  );\n  const receiverPubBuf = new Uint8Array(receiverPubRaw);\n\n  const encappedKeyBuf = new Uint8Array(senderCtx.enc);\n\n  const aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n\n  var ciphertextBuf;\n  try {\n    ciphertextBuf = await senderCtx.seal(plaintextBuf, aad);\n  } catch (e) {\n    throw new Error(\"failed to encrypt import bundle: \" + e.toString());\n  }\n\n  const ciphertextHex = uint8arrayToHexString(new Uint8Array(ciphertextBuf));\n  const encappedKeyBufHex = uint8arrayToHexString(encappedKeyBuf);\n  const encryptedBundle = JSON.stringify({\n    encappedPublic: encappedKeyBufHex,\n    ciphertext: ciphertextHex,\n  });\n  return encryptedBundle;\n}\n","// Vendor @hpke/core from https://esm.sh/@hpke/core@1.2.7\n\nimport * as TKHQ from \"./turnkey-core.js\";\nimport { HpkeDecrypt } from \"@shared/crypto-utils.js\";\nimport * as hpke from \"@hpke/core\";\n\nwindow.TKHQ = TKHQ;\n\n// persist the MessageChannel object so we can use it to communicate with the parent window\nvar iframeMessagePort = null;\n\n// controllers to remove event listeners\nconst messageListenerController = new AbortController();\nconst turnkeyInitController = new AbortController();\n\n/**\n * DOM Event handlers to power the export flow in standalone mode\n * Instead of receiving events from the parent page, forms trigger them.\n * This is useful for debugging as well.\n */\nvar addDOMEventListeners = function () {\n  document.getElementById(\"inject-key\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({\n        type: \"INJECT_KEY_EXPORT_BUNDLE\",\n        value: document.getElementById(\"key-export-bundle\").value,\n        keyFormat: document.getElementById(\"key-export-format\").value,\n        organizationId: document.getElementById(\"key-organization-id\").value,\n      });\n    },\n    false\n  );\n  document.getElementById(\"inject-wallet\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({\n        type: \"INJECT_WALLET_EXPORT_BUNDLE\",\n        value: document.getElementById(\"wallet-export-bundle\").value,\n        organizationId: document.getElementById(\"wallet-organization-id\").value,\n      });\n    },\n    false\n  );\n  document.getElementById(\"reset\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({ type: \"RESET_EMBEDDED_KEY\" });\n    },\n    false\n  );\n};\n\n/**\n * Message Event Handlers to process messages from the parent frame\n */\nvar messageEventListener = async function (event) {\n  if (event.data && event.data[\"type\"] == \"INJECT_KEY_EXPORT_BUNDLE\") {\n    TKHQ.logMessage(\n      ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"keyFormat\"]}, ${event.data[\"organizationId\"]}`\n    );\n    try {\n      await onInjectKeyBundle(\n        event.data[\"value\"],\n        event.data[\"keyFormat\"],\n        event.data[\"organizationId\"],\n        event.data[\"requestId\"]\n      );\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"INJECT_WALLET_EXPORT_BUNDLE\") {\n    TKHQ.logMessage(\n      ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"organizationId\"]}`\n    );\n    try {\n      await onInjectWalletBundle(\n        event.data[\"value\"],\n        event.data[\"organizationId\"],\n        event.data[\"requestId\"]\n      );\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"APPLY_SETTINGS\") {\n    try {\n      await onApplySettings(event.data[\"value\"], event.data[\"requestId\"]);\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"RESET_EMBEDDED_KEY\") {\n    TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n    try {\n      TKHQ.onResetEmbeddedKey();\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString());\n    }\n  }\n};\n\n/**\n * Initialize the embedded key and set up the DOM and message event listeners\n */\ndocument.addEventListener(\n  \"DOMContentLoaded\",\n  async function () {\n    await TKHQ.initEmbeddedKey();\n    const embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n    const targetPubBuf = await TKHQ.p256JWKPrivateToPublic(embeddedKeyJwk);\n    const targetPubHex = TKHQ.uint8arrayToHexString(targetPubBuf);\n    document.getElementById(\"embedded-key\").value = targetPubHex;\n\n    window.addEventListener(\"message\", messageEventListener, {\n      capture: false,\n      signal: messageListenerController.signal,\n    });\n\n    addDOMEventListeners();\n\n    if (!messageListenerController.signal.aborted) {\n      // If styles are saved in local storage, sanitize and apply them.\n      const styleSettings = TKHQ.getSettings();\n      if (styleSettings) {\n        TKHQ.applySettings(styleSettings);\n      }\n      TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", targetPubHex);\n    }\n  },\n  false\n);\n\nwindow.addEventListener(\n  \"message\",\n  async function (event) {\n    /**\n     * @turnkey/iframe-stamper >= v2.1.0 is using a MessageChannel to communicate with the parent frame.\n     * The parent frame sends a TURNKEY_INIT_MESSAGE_CHANNEL event with the MessagePort.\n     * If we receive this event, we want to remove the message event listener that was added in the DOMContentLoaded event to avoid processing messages twice.\n     * We persist the MessagePort so we can use it to communicate with the parent window in subsequent calls to TKHQ.sendMessageUp\n     */\n    if (\n      event.data &&\n      event.data[\"type\"] == \"TURNKEY_INIT_MESSAGE_CHANNEL\" &&\n      event.ports?.[0]\n    ) {\n      // remove the message event listener that was added in the DOMContentLoaded event\n      messageListenerController.abort();\n\n      iframeMessagePort = event.ports[0];\n      iframeMessagePort.onmessage = messageEventListener;\n\n      TKHQ.setParentFrameMessageChannelPort(iframeMessagePort);\n\n      await TKHQ.initEmbeddedKey();\n      var embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n      var targetPubBuf = await TKHQ.p256JWKPrivateToPublic(embeddedKeyJwk);\n      var targetPubHex = TKHQ.uint8arrayToHexString(targetPubBuf);\n      document.getElementById(\"embedded-key\").value = targetPubHex;\n\n      TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", targetPubHex);\n\n      // remove the listener for TURNKEY_INIT_MESSAGE_CHANNEL after it's been processed\n      turnkeyInitController.abort();\n    }\n  },\n  { signal: turnkeyInitController.signal }\n);\n\n/**\n * Hide every HTML element in <body> except any <script> elements.\n * Then append an element containing the hex-encoded raw private key.\n * @param {string} key\n */\nfunction displayKey(key) {\n  Array.from(document.body.children).forEach((child) => {\n    if (child.tagName !== \"SCRIPT\" && child.id !== \"key-div\") {\n      child.style.display = \"none\";\n    }\n  });\n\n  const style = {\n    border: \"none\",\n    color: \"#555b64\",\n    fontSize: \".875rem\",\n    lineHeight: \"1.25rem\",\n    overflowWrap: \"break-word\",\n    textAlign: \"left\",\n  };\n\n  // Create a new div with the key material and append the new div to the body\n  const keyDiv = document.getElementById(\"key-div\");\n  keyDiv.innerText = key;\n  for (let styleKey in style) {\n    keyDiv.style[styleKey] = style[styleKey];\n  }\n  document.body.appendChild(keyDiv);\n  TKHQ.applySettings(TKHQ.getSettings());\n}\n\n/**\n * Parse and decrypt the export bundle.\n * The `bundle` param is a JSON string of the encapsulated public\n * key, encapsulated public key signature, and the ciphertext.\n * Example: {\"encappedPublic\":\"04912cb4200c40f04ae4a162f4c870c78cb4498a8efda0b94f4a9cb848d611bd40e9acccab2bf73cee1e269d8350a02f4df71864921097838f05c288d944fa2f8b\",\"encappedPublicSignature\":\"304502200cd19a3c5892f1eeab88fe0cdd7cca63736a7d15fc364186fb3c913e1e01568b022100dea49557c176f6ca052b27ad164f077cf64d2aa55fbdc4757a14767f8b8c6b48\",\"ciphertext\":\"0e5d5503f43721135818051e4c5b77b3365b66ec4020b0051d59ea9fc773c67bd4b61ed34a97b07a3074a85546721ae4\",\"enclaveQuorumPublic\":\"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\"}\n * @param {string} bundle\n * @param {string} organizationId\n */\nasync function decryptBundle(bundle, organizationId) {\n  let encappedKeyBuf;\n  let ciphertextBuf;\n  let verified;\n\n  // Parse the import bundle\n  const bundleObj = JSON.parse(bundle);\n  switch (bundleObj.version) {\n    case \"v1.0.0\":\n      // Validate fields exist\n      if (!bundleObj.data) {\n        throw new Error('missing \"data\" in bundle');\n      }\n      if (!bundleObj.dataSignature) {\n        throw new Error('missing \"dataSignature\" in bundle');\n      }\n      if (!bundleObj.enclaveQuorumPublic) {\n        throw new Error('missing \"enclaveQuorumPublic\" in bundle');\n      }\n\n      // Verify enclave signature\n      if (!TKHQ.verifyEnclaveSignature) {\n        throw new Error(\"method not loaded\");\n      }\n      verified = await TKHQ.verifyEnclaveSignature(\n        bundleObj.enclaveQuorumPublic,\n        bundleObj.dataSignature,\n        bundleObj.data\n      );\n      if (!verified) {\n        throw new Error(`failed to verify enclave signature: ${bundle}`);\n      }\n\n      // Parse the signed data. The data is produced by JSON encoding followed by hex encoding. We reverse this here.\n      const signedData = JSON.parse(\n        new TextDecoder().decode(TKHQ.uint8arrayFromHexString(bundleObj.data))\n      );\n\n      // Validate fields match\n      if (!organizationId) {\n        // todo: throw error if organization id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"organizationId\" for security purposes.'\n        );\n      } else if (\n        !signedData.organizationId ||\n        signedData.organizationId !== organizationId\n      ) {\n        throw new Error(\n          `organization id does not match expected value. Expected: ${organizationId}. Found: ${signedData.organizationId}.`\n        );\n      }\n\n      if (!signedData.encappedPublic) {\n        throw new Error('missing \"encappedPublic\" in bundle signed data');\n      }\n      if (!signedData.ciphertext) {\n        throw new Error('missing \"ciphertext\" in bundle signed data');\n      }\n      encappedKeyBuf = TKHQ.uint8arrayFromHexString(signedData.encappedPublic);\n      ciphertextBuf = TKHQ.uint8arrayFromHexString(signedData.ciphertext);\n      break;\n    default:\n      throw new Error(`unsupported version: ${bundleObj.version}`);\n  }\n\n  // Decrypt the ciphertext\n  const embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n  return await HpkeDecrypt({\n    ciphertextBuf,\n    encappedKeyBuf,\n    receiverPrivJwk: embeddedKeyJwk,\n  });\n}\n\n/**\n * Function triggered when INJECT_KEY_EXPORT_BUNDLE event is received.\n * @param {string} bundle\n * @param {string} keyFormat\n * @param {string} organizationId\n * @param {string} requestId\n */\nasync function onInjectKeyBundle(bundle, keyFormat, organizationId, requestId) {\n  // Decrypt the export bundle\n  const keyBytes = await decryptBundle(bundle, organizationId);\n\n  // Reset embedded key after using for decryption\n  TKHQ.onResetEmbeddedKey();\n\n  // Parse the decrypted key bytes\n  var key;\n  const privateKeyBytes = new Uint8Array(keyBytes);\n  if (keyFormat === \"SOLANA\") {\n    const privateKeyHex = TKHQ.uint8arrayToHexString(\n      privateKeyBytes.subarray(0, 32)\n    );\n    const publicKeyBytes = TKHQ.getEd25519PublicKey(privateKeyHex);\n    key = await TKHQ.encodeKey(privateKeyBytes, keyFormat, publicKeyBytes);\n  } else {\n    key = await TKHQ.encodeKey(privateKeyBytes, keyFormat);\n  }\n\n  // Display only the key\n  displayKey(key);\n\n  // Send up BUNDLE_INJECTED message\n  TKHQ.sendMessageUp(\"BUNDLE_INJECTED\", true, requestId);\n}\n\n/**\n * Function triggered when INJECT_WALLET_EXPORT_BUNDLE event is received.\n * @param {string} bundle\n * @param {string} organizationId\n * @param {string} requestId\n */\nasync function onInjectWalletBundle(bundle, organizationId, requestId) {\n  // Decrypt the export bundle\n  const walletBytes = await decryptBundle(bundle, organizationId);\n\n  // Reset embedded key after using for decryption\n  TKHQ.onResetEmbeddedKey();\n\n  // Parse the decrypted wallet bytes\n  const wallet = TKHQ.encodeWallet(new Uint8Array(walletBytes));\n\n  // Display only the wallet's mnemonic\n  displayKey(wallet.mnemonic);\n\n  // Send up BUNDLE_INJECTED message\n  TKHQ.sendMessageUp(\"BUNDLE_INJECTED\", true, requestId);\n}\n\n/**\n * Function triggered when APPLY_SETTINGS event is received.\n * For now, the only settings that can be applied are for \"styles\".\n * Persist them in local storage so they can be applied on every\n * page load.\n * @param {string} settings: JSON-stringified settings\n * @param {string} requestId\n */\nasync function onApplySettings(settings, requestId) {\n  // Apply settings\n  const validSettings = TKHQ.applySettings(settings);\n\n  // Persist in local storage\n  TKHQ.setSettings(validSettings);\n\n  // Send up SETTINGS_APPLIED message\n  TKHQ.sendMessageUp(\"SETTINGS_APPLIED\", true, requestId);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.\" + {\"291\":\"7a021a78b825e05e9dc5\",\"825\":\"cc79276508bd3ade610e\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkexport_tests\"] = self[\"webpackChunkexport_tests\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(503)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_OverloadYield","k","_toConsumableArray","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","toString","slice","constructor","name","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","TURNKEY_EMBEDDED_KEY","TURNKEY_SETTINGS","parentFrameMessageChannelPort","getSubtleCrypto","globalThis","crypto","subtle","window","global","isDoublyIframed","undefined","location","ancestorOrigins","parent","top","loadQuorumKey","_x","_loadQuorumKey","_regeneratorRuntime","mark","_callee","quorumPublic","wrap","_context","prev","next","Error","importKey","namedCurve","abrupt","sent","stop","_initEmbeddedKey","_callee3","_context3","getEmbeddedKey","generateTargetKey","setEmbeddedKey","_generateTargetKey","_callee4","p256key","_context4","generateKey","exportKey","privateKey","jwtKey","key","itemStr","localStorage","getItem","item","JSON","parse","hasOwnProperty","Date","getTime","expiry","removeItem","getItemWithExpiry","targetKey","setItemWithExpiry","stringify","ttl","setItem","uint8arrayFromHexString","hexString","hexWithoutPrefix","startsWith","Uint8Array","match","map","h","parseInt","uint8arrayToHexString","buffer","x","padStart","join","normalizePadding","byteArray","targetLength","paddingLength","padding","fill","concat","expectedZeroCount","zeroCount","additionalAssociatedData","senderPubBuf","receiverPubBuf","s","fromDerSignature","derSignature","derSignatureBuf","index","rLength","sLength","rPadded","sPadded","_verifyEnclaveSignature","_callee5","enclaveQuorumPublic","publicSignature","signedData","TURNKEY_SIGNERS_ENCLAVES","environment","TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY","encryptionQuorumPublicBuf","quorumKey","publicSignatureBuf","signedDataBuf","_context5","prod","preprod","__TURNKEY_SIGNER_ENVIRONMENT__","verify","hash","logMessage","content","messageLog","document","getElementById","message","createElement","innerText","appendChild","p256JWKPrivateToPublic","_x6","_p256JWKPrivateToPublic","_callee6","jwkPrivate","jwkPrivateCopy","publicKey","_context6","_objectSpread","key_ops","base58Encode","bytes","result","digits","carry","j","push","base58CheckEncode","_x8","_base58CheckEncode","_callee8","payload","hash1Buf","hash1","hash2Buf","hash2","checksum","full","_context8","digest","set","_encodeKey","_callee10","privateKeyBytes","keyFormat","publicKeyBytes","concatenatedBytes","version","wifPayload","bech32Payload","_context10","t0","bech32","encode","toWords","console","warn","getSettings","settings","setSettings","sendMessageUp","type","requestId","postMessage","SharedTKHQ","base58Decode","alphabet","decodedBytes","leadingZeros","indexOf","currentByte","reverse","encodeKey","_x11","_x12","_x13","setParentFrameMessageChannelPort","port","verifyEnclaveSignature","_x3","_x4","_x5","validateStyles","styles","element","validStyles","cssValidationRegex","margin","borderWidth","borderStyle","borderColor","borderRadius","fontSize","fontWeight","fontFamily","color","labelColor","backgroundColor","width","height","maxWidth","maxHeight","lineHeight","boxShadow","textAlign","overflowWrap","wordWrap","resize","entries","forEach","_ref","_ref2","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","property","styleProperty","trim","styleRegexStr","styleRegex","RegExp","styleValue","onResetEmbeddedKey","initEmbeddedKey","applySettings","validSettings","settingsObj","keyDivTextarea","style","documentElement","body","getEd25519PublicKey","privateKeyHex","nobleEd25519","sha512Sync","_nobleEd25519$etc","sha512","concatBytes","encodeWallet","walletBytes","mnemonic","wallet","TextDecoder","decode","passphrase","includes","parts","split","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","TURNKEY_HPKE_INFO","TextEncoder","HpkeDecrypt","_HpkeDecrypt","ciphertextBuf","encappedKeyBuf","receiverPrivJwk","kemContext","receiverPriv","suite","recipientCtx","aad","res","DhkemP256HkdfSha256","CipherSuite","kem","kdf","HkdfSha256","aead","Aes256Gcm","createRecipientContext","recipientKey","enc","info","open","TKHQ","iframeMessagePort","messageListenerController","AbortController","turnkeyInitController","addDOMEventListeners","addEventListener","preventDefault","organizationId","_callee2","_context2","_x2","_ref3","messageEventListener","_ref4","event","data","onInjectKeyBundle","onInjectWalletBundle","t1","onApplySettings","t2","displayKey","children","child","tagName","id","display","border","keyDiv","styleKey","decryptBundle","_x7","_decryptBundle","_callee7","bundle","bundleObj","embeddedKeyJwk","_context7","dataSignature","encappedPublic","ciphertext","_x9","_x10","_onInjectKeyBundle","keyBytes","subarray","_x14","_onInjectWalletBundle","_callee9","_context9","_x15","_x16","_onApplySettings","targetPubBuf","targetPubHex","styleSettings","capture","signal","aborted","_ref6","_event$ports","ports","abort","onmessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","obj","mode","this","__esModule","ns","def","current","getOwnPropertyNames","definition","get","chunkId","all","reduce","promises","miniCssF","g","Function","prop","url","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","nc","setAttribute","src","onScriptComplete","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","target","head","installedChunks","installedChunkData","promise","reject","error","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}