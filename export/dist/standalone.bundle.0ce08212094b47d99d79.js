/*! For license information please see standalone.bundle.0ce08212094b47d99d79.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,o,a={635:(e,t,n)=>{var r=n(482),o=n(584);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){var e=l(),t=e.m(i),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function a(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,a){return t.resultName=o,n(r.d,u(e),a)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(i=function(){return{wrap:function(t,n,r,o){return e.w(a(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new y(e,t)},AsyncIterator:d,async:function(e,t,n,o,i){return(r(t)?f:s)(a(e),t,n,o,i)},keys:c,values:u}})()}function u(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")}function c(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function s(e,t,n,r,o){var a=f(e,t,n,r,o);return a.next().then(function(e){return e.done?e.value:a.next()})}function f(e,t,n,r,o){return new d(l().w(e,t,n,r),o||Promise)}function d(e,t){function n(r,o,a,i){try{var u=e[r](o),c=u.value;return c instanceof y?t.resolve(c.v).then(function(e){n("next",e,a,i)},function(e){n("throw",e,a,i)}):t.resolve(c).then(function(e){u.value=e,a(u)},function(e){return n("throw",e,a,i)})}catch(e){i(e)}}var r;this.next||(p(d.prototype),p(d.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),p(this,"_invoke",function(e,o,a){function i(){return new t(function(t,r){n(e,a,t,r)})}return r=r?r.then(i,i):i()},!0)}function l(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return p(s,"_invoke",function(n,r,o){var a,u,c,s=0,f=o||[],d=!1,l={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,u=0,c=e,l.n=n,i}};function p(n,r){for(u=n,c=r,t=0;!d&&s&&!o&&t<f.length;t++){var o,a=f[t],p=l.p,y=a[2];n>3?(o=y===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,l.v=r,l.n=a[1]):p<y&&(o=n<3||a[0]>r||r>y)&&(a[4]=n,a[5]=r,l.n=y,u=0))}if(o||n>1)return i;throw d=!0,r}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(d&&1===f&&p(f,y),u=f,c=y;(t=u<2?e:c)||!d;){a||(u?u<3?(u>1&&(l.n=-1),p(u,c)):l.n=c:l.v=c);try{if(s=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(d=l.n<0)?c:n.call(r,l))!==i)break}catch(t){a=e,u=1,c=t}finally{s=1}}return{value:t,done:d}}}(n,o,a),!0),s}var i={};function u(){}function c(){}function s(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(p(t={},r,function(){return this}),t),d=s.prototype=u.prototype=Object.create(f);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,p(d,"constructor",s),p(s,"constructor",c),c.displayName="GeneratorFunction",p(s,o,"GeneratorFunction"),p(d),p(d,o,"Generator"),p(d,r,function(){return this}),p(d,"toString",function(){return"[object Generator]"}),(l=function(){return{w:a,m:y}})()}function p(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}p=function(e,t,n,r){function a(t,n){p(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},p(e,t,n,r)}function y(e,t){this.v=e,this.k=t}function v(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,u,"next",e)}function u(e){v(a,r,o,i,u,"throw",e)}i(void 0)})}}function b(e){var t=document.getElementById("message-log"),n=document.createElement("p");n.innerText=e,t.appendChild(n)}function h(e,t){null!==window.top&&window.top.postMessage({type:e,value:t},"*"),b("⬆️ Sent message ".concat(e,": ").concat(t))}function g(e){Array.from(document.body.children).forEach(function(e){"SCRIPT"!==e.tagName&&"key-div"!==e.id&&(e.style.display="none")});var t={border:"none",color:"#555b64",fontSize:".875rem",lineHeight:"1.25rem",overflowWrap:"break-word",textAlign:"left"},n=document.getElementById("key-div");for(var r in n.innerText=e,t)n.style[r]=t[r];document.body.appendChild(n)}function w(e,t){return E.apply(this,arguments)}function E(){return(E=m(i().mark(function e(t,n){var a,u,c,s,f;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(t),e.t0=c.version,e.next="v1.0.0"===e.t0?4:31;break;case 4:if(c.data){e.next=6;break}throw new Error('missing "data" in bundle');case 6:if(c.dataSignature){e.next=8;break}throw new Error('missing "dataSignature" in bundle');case 8:if(c.enclaveQuorumPublic){e.next=10;break}throw new Error('missing "enclaveQuorumPublic" in bundle');case 10:if(r.verifyEnclaveSignature){e.next=12;break}throw new Error("method not loaded");case 12:return e.next=14,r.verifyEnclaveSignature(c.enclaveQuorumPublic,c.dataSignature,c.data);case 14:if(e.sent){e.next=17;break}throw new Error("failed to verify enclave signature: ".concat(t));case 17:if(s=JSON.parse((new TextDecoder).decode(r.uint8arrayFromHexString(c.data))),n){e.next=22;break}console.warn('we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass "organizationId" for security purposes.'),e.next=24;break;case 22:if(s.organizationId&&s.organizationId===n){e.next=24;break}throw new Error("organization id does not match expected value. Expected: ".concat(n,". Found: ").concat(s.organizationId,"."));case 24:if(s.encappedPublic){e.next=26;break}throw new Error('missing "encappedPublic" in bundle signed data');case 26:if(s.ciphertext){e.next=28;break}throw new Error('missing "ciphertext" in bundle signed data');case 28:return a=r.uint8arrayFromHexString(s.encappedPublic),u=r.uint8arrayFromHexString(s.ciphertext),e.abrupt("break",32);case 31:throw new Error("unsupported version: ".concat(c.version));case 32:return e.next=34,r.getEmbeddedKey();case 34:return f=e.sent,e.next=37,(0,o.u)({ciphertextBuf:u,encappedKeyBuf:a,receiverPrivJwk:f});case 37:return e.abrupt("return",e.sent);case 38:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t,n){return k.apply(this,arguments)}function k(){return(k=m(i().mark(function e(t,n,o){var a,u,c,s,f;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,o);case 2:if(a=e.sent,r.onResetEmbeddedKey(),c=new Uint8Array(a),"SOLANA"!==n){e.next=13;break}return s=r.uint8arrayToHexString(c.subarray(0,32)),f=r.getEd25519PublicKey(s),e.next=10,r.encodeKey(c,n,f);case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,r.encodeKey(c,n);case 15:u=e.sent;case 16:g(u),h("BUNDLE_INJECTED",!0);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t){return _.apply(this,arguments)}function _(){return(_=m(i().mark(function e(t,n){var o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n);case 2:o=e.sent,r.onResetEmbeddedKey(),g(r.encodeWallet(new Uint8Array(o)).mnemonic),h("BUNDLE_INJECTED",!0);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.TKHQ=r,document.addEventListener("DOMContentLoaded",m(i().mark(function e(){var t,n,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.initEmbeddedKey();case 2:return e.next=4,r.getEmbeddedKey();case 4:return t=e.sent,e.next=7,r.p256JWKPrivateToPublic(t);case 7:n=e.sent,o=r.uint8arrayToHexString(n),document.getElementById("embedded-key").value=o,h("PUBLIC_KEY_READY",o),window.addEventListener("message",function(){var e=m(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data||"INJECT_KEY_EXPORT_BUNDLE"!=t.data.type){e.next=10;break}return b("⬇️ Received message ".concat(t.data.type,": ").concat(t.data.value,", ").concat(t.data.keyFormat,", ").concat(t.data.organizationId)),e.prev=2,e.next=5,x(t.data.value,t.data.keyFormat,t.data.organizationId);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),h("ERROR",e.t0.toString());case 10:if(!t.data||"INJECT_WALLET_EXPORT_BUNDLE"!=t.data.type){e.next=20;break}return b("⬇️ Received message ".concat(t.data.type,": ").concat(t.data.value,", ").concat(t.data.organizationId)),e.prev=12,e.next=15,O(t.data.value,t.data.organizationId);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),h("ERROR",e.t1.toString());case 20:if(t.data&&"RESET_EMBEDDED_KEY"==t.data.type){b("⬇️ Received message ".concat(t.data.type));try{r.onResetEmbeddedKey()}catch(e){h("ERROR",e.toString())}}case 21:case"end":return e.stop()}},e,null,[[2,7],[12,17]])}));return function(t){return e.apply(this,arguments)}}(),!1),document.getElementById("inject-key").addEventListener("click",function(){var e=m(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.postMessage({type:"INJECT_KEY_EXPORT_BUNDLE",value:document.getElementById("key-export-bundle").value,keyFormat:document.getElementById("key-export-format").value,organizationId:document.getElementById("key-organization-id").value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!1),document.getElementById("inject-wallet").addEventListener("click",function(){var e=m(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.postMessage({type:"INJECT_WALLET_EXPORT_BUNDLE",value:document.getElementById("wallet-export-bundle").value,organizationId:document.getElementById("wallet-organization-id").value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!1),document.getElementById("reset").addEventListener("click",function(){var e=m(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.postMessage({type:"RESET_EMBEDDED_KEY"});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),!1);case 15:case"end":return e.stop()}},e)})),!1)}},i={};function u(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,u),n.exports}u.m=a,e=[],u.O=(t,n,r,o)=>{if(!n){var a=1/0;for(f=0;f<e.length;f++){for(var[n,r,o]=e[f],i=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(u.O).every(e=>u.O[e](n[c]))?n.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(f--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[n,r,o]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);u.r(o);var a={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;("object"==typeof i||"function"==typeof i)&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach(t=>a[t]=()=>e[t]);return a.default=()=>e,u.d(o,a),o},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce((t,n)=>(u.f[n](e,t),t),[])),u.u=e=>e+".bundle."+{291:"7a021a78b825e05e9dc5",825:"cc79276508bd3ade610e"}[e]+".js",u.miniCssF=e=>{},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="export-tests:",u.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var i,c;if(void 0!==n)for(var s=document.getElementsByTagName("script"),f=0;f<s.length;f++){var d=s[f];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+n){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",u.nc&&i.setAttribute("nonce",u.nc),i.setAttribute("data-webpack",o+n),i.src=e),r[e]=[t];var l=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),c&&document.head.appendChild(i)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="/",(()=>{var e={362:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((n,o)=>r=e[t]=[n,o]);n.push(r[2]=o);var a=u.p+u.u(t),i=new Error;u.l(a,n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}},"chunk-"+t,t)}},u.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,c]=n,s=0;if(a.some(t=>0!==e[t])){for(r in i)u.o(i,r)&&(u.m[r]=i[r]);if(c)var f=c(u)}for(t&&t(n);s<a.length;s++)o=a[s],u.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return u.O(f)},n=self.webpackChunkexport_tests=self.webpackChunkexport_tests||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=u.O(void 0,[96,551],()=>u(635));c=u.O(c)})();
//# sourceMappingURL=standalone.bundle.0ce08212094b47d99d79.js.map