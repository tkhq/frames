{"version":3,"file":"bundle.3f29bf7d8e30fb1dd823.js","mappings":"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","sources":["webpack://export-and-sign/webpack/runtime/chunk loaded","webpack://export-and-sign/webpack/runtime/create fake namespace object","webpack://export-and-sign/webpack/runtime/load script","webpack://export-and-sign/../shared/turnkey-core.js","webpack://export-and-sign/./src/turnkey-core.js","webpack://export-and-sign/./src/event-handlers.js","webpack://export-and-sign/../shared/crypto-utils.js","webpack://export-and-sign/./src/index.js","webpack://export-and-sign/external var \"crypto\"","webpack://export-and-sign/webpack/bootstrap","webpack://export-and-sign/webpack/runtime/compat get default export","webpack://export-and-sign/webpack/runtime/define property getters","webpack://export-and-sign/webpack/runtime/ensure chunk","webpack://export-and-sign/webpack/runtime/get javascript chunk filename","webpack://export-and-sign/webpack/runtime/get mini-css chunk filename","webpack://export-and-sign/webpack/runtime/global","webpack://export-and-sign/webpack/runtime/hasOwnProperty shorthand","webpack://export-and-sign/webpack/runtime/make namespace object","webpack://export-and-sign/webpack/runtime/node module decorator","webpack://export-and-sign/webpack/runtime/publicPath","webpack://export-and-sign/webpack/runtime/compat","webpack://export-and-sign/webpack/runtime/jsonp chunk loading","webpack://export-and-sign/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"export-and-sign:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n\t\t\tscript.crossOrigin = \"anonymous\";\n\t\t}\n\t\tscript.integrity = __webpack_require__.sriHashes[chunkId];\n\t\tscript.crossOrigin = \"anonymous\";\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { bech32 } from \"bech32\";\n\n/**\n * Turnkey Core Module - Shared\n * Contains all the core cryptographic and utility functions shared across frames\n */\n\n/** constants for LocalStorage */\nconst TURNKEY_EMBEDDED_KEY = \"TURNKEY_EMBEDDED_KEY\";\nconst TURNKEY_TARGET_EMBEDDED_KEY = \"TURNKEY_TARGET_EMBEDDED_KEY\";\nconst TURNKEY_SETTINGS = \"TURNKEY_SETTINGS\";\nconst TURNKEY_ENCRYPTED_BUNDLES = \"TURNKEY_ENCRYPTED_BUNDLES\";\n/** 48 hours in milliseconds */\nconst TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS = 1000 * 60 * 60 * 48;\nconst TURNKEY_EMBEDDED_KEY_ORIGIN = \"TURNKEY_EMBEDDED_KEY_ORIGIN\";\n\nlet parentFrameMessageChannelPort = null;\nvar cryptoProviderOverride = null;\n\n/*\n * Returns a reference to the WebCrypto subtle interface regardless of the host environment.\n */\nfunction getSubtleCrypto() {\n  if (cryptoProviderOverride && cryptoProviderOverride.subtle) {\n    return cryptoProviderOverride.subtle;\n  }\n  if (\n    typeof globalThis !== \"undefined\" &&\n    globalThis.crypto &&\n    globalThis.crypto.subtle\n  ) {\n    return globalThis.crypto.subtle;\n  }\n  if (typeof window !== \"undefined\" && window.crypto && window.crypto.subtle) {\n    return window.crypto.subtle;\n  }\n  if (typeof global !== \"undefined\" && global.crypto && global.crypto.subtle) {\n    return global.crypto.subtle;\n  }\n  if (typeof crypto !== \"undefined\" && crypto.subtle) {\n    return crypto.subtle;\n  }\n\n  return null;\n}\n\n/*\n * Allows tests to explicitly set the crypto provider (e.g. crypto.webcrypto) when the runtime\n * environment does not expose one on the global/window objects.\n */\nfunction setCryptoProvider(cryptoProvider) {\n  cryptoProviderOverride = cryptoProvider || null;\n}\n\n/* Security functions */\n\nfunction isDoublyIframed() {\n  if (window.location.ancestorOrigins !== undefined) {\n    // Does not exist in IE and firefox.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Location/ancestorOrigins for how this works\n    return window.location.ancestorOrigins.length > 1;\n  } else {\n    return window.parent !== window.top;\n  }\n}\n\n/*\n * Loads the quorum public key as a CryptoKey.\n */\nasync function loadQuorumKey(quorumPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.importKey(\n    \"raw\",\n    quorumPublic,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"verify\"]\n  );\n}\n\n/*\n * Load a key to encrypt to as a CryptoKey and return it as a JSON Web Key.\n */\nasync function loadTargetKey(targetPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const targetKey = await subtle.importKey(\n    \"raw\",\n    targetPublic,\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n\n  return await subtle.exportKey(\"jwk\", targetKey);\n}\n\n/**\n * Creates a new public/private key pair and persists it in localStorage\n */\nasync function initEmbeddedKey() {\n  if (isDoublyIframed()) {\n    throw new Error(\"Doubly iframed\");\n  }\n  const retrievedKey = await getEmbeddedKey();\n  if (retrievedKey === null) {\n    const targetKey = await generateTargetKey();\n    setEmbeddedKey(targetKey);\n  }\n  // Nothing to do, key is correctly initialized!\n}\n\n/*\n * Generate a key to encrypt to and export it as a JSON Web Key.\n */\nasync function generateTargetKey() {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const p256key = await subtle.generateKey(\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"deriveBits\"]\n  );\n\n  return await subtle.exportKey(\"jwk\", p256key.privateKey);\n}\n\n/**\n * Gets the current embedded private key JWK. Returns `null` if not found.\n */\nfunction getEmbeddedKey() {\n  const jwtKey = getItemWithExpiry(TURNKEY_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the embedded private key JWK with the default expiration time.\n * @param {JsonWebKey} targetKey\n */\nfunction setEmbeddedKey(targetKey) {\n  setItemWithExpiry(\n    TURNKEY_EMBEDDED_KEY,\n    JSON.stringify(targetKey),\n    TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS\n  );\n}\n\n/**\n * Gets the current target embedded private key JWK. Returns `null` if not found.\n */\nfunction getTargetEmbeddedKey() {\n  const jwtKey = window.localStorage.getItem(TURNKEY_TARGET_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the target embedded public key JWK.\n * @param {JsonWebKey} targetKey\n */\nfunction setTargetEmbeddedKey(targetKey) {\n  window.localStorage.setItem(\n    TURNKEY_TARGET_EMBEDDED_KEY,\n    JSON.stringify(targetKey)\n  );\n}\n\n/**\n * Resets the current embedded private key JWK.\n */\nfunction onResetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY);\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY_ORIGIN);\n}\n\n/**\n * Resets the current target embedded private key JWK.\n */\nfunction resetTargetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_TARGET_EMBEDDED_KEY);\n}\n\nfunction setParentFrameMessageChannelPort(port) {\n  parentFrameMessageChannelPort = port;\n}\n\n/**\n * Gets the current settings.\n */\nfunction getSettings() {\n  const settings = window.localStorage.getItem(TURNKEY_SETTINGS);\n  return settings ? JSON.parse(settings) : null;\n}\n\n/**\n * Sets the settings object.\n * @param {Object} settings\n */\nfunction setSettings(settings) {\n  window.localStorage.setItem(TURNKEY_SETTINGS, JSON.stringify(settings));\n}\n\n/**\n * Gets all encrypted bundles from localStorage.\n * Returns an object mapping address -> {encappedPublic, ciphertext, organizationId, keyFormat}\n * or null if no bundles are stored.\n * @returns {Object|null}\n */\nfunction getEncryptedBundles() {\n  const data = window.localStorage.getItem(TURNKEY_ENCRYPTED_BUNDLES);\n  if (!data) {\n    return null;\n  }\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    // If the stored data is corrupted or not valid JSON, remove it to self-heal.\n    window.localStorage.removeItem(TURNKEY_ENCRYPTED_BUNDLES);\n    return null;\n  }\n}\n\n/**\n * Stores or updates an encrypted bundle for a given address.\n * @param {string} address - The wallet address\n * @param {Object} bundleData - {encappedPublic, ciphertext, organizationId, keyFormat}\n */\nfunction setEncryptedBundle(address, bundleData) {\n  const bundles = getEncryptedBundles() || {};\n  bundles[address] = bundleData;\n  window.localStorage.setItem(\n    TURNKEY_ENCRYPTED_BUNDLES,\n    JSON.stringify(bundles)\n  );\n}\n\n/**\n * Removes a single encrypted bundle by address.\n * Only removes the bundle if it belongs to the specified organization.\n * @param {string} address - The wallet address to remove\n * @param {string} organizationId - Only remove if the bundle belongs to this org\n */\nfunction removeEncryptedBundle(address, organizationId) {\n  const bundles = getEncryptedBundles();\n  if (!bundles || !bundles[address]) return;\n\n  // Only remove if the bundle belongs to the specified organization\n  if (bundles[address].organizationId !== organizationId) return;\n\n  delete bundles[address];\n  if (Object.keys(bundles).length === 0) {\n    window.localStorage.removeItem(TURNKEY_ENCRYPTED_BUNDLES);\n  } else {\n    window.localStorage.setItem(\n      TURNKEY_ENCRYPTED_BUNDLES,\n      JSON.stringify(bundles)\n    );\n  }\n}\n\n/**\n * Removes all encrypted bundles belonging to the specified organization.\n * Bundles from other organizations are preserved.\n * @param {string} organizationId - Remove bundles belonging to this org\n */\nfunction clearAllEncryptedBundles(organizationId) {\n  const bundles = getEncryptedBundles();\n  if (!bundles) return;\n\n  // Keep only bundles that do NOT belong to this organization\n  const remaining = Object.fromEntries(\n    Object.entries(bundles).filter(\n      ([, bundle]) => bundle.organizationId !== organizationId\n    )\n  );\n\n  if (Object.keys(remaining).length === 0) {\n    window.localStorage.removeItem(TURNKEY_ENCRYPTED_BUNDLES);\n  } else {\n    window.localStorage.setItem(\n      TURNKEY_ENCRYPTED_BUNDLES,\n      JSON.stringify(remaining)\n    );\n  }\n}\n\n/**\n * Set an item in localStorage with an expiration time\n * @param {string} key\n * @param {string} value\n * @param {number} ttl expiration time in milliseconds\n */\nfunction setItemWithExpiry(key, value, ttl) {\n  const now = new Date();\n  const item = {\n    value: value,\n    expiry: now.getTime() + ttl,\n  };\n  window.localStorage.setItem(key, JSON.stringify(item));\n}\n\n/**\n * Get an item from localStorage. Returns `null` and\n * removes the item from localStorage if expired or\n * expiry time is missing.\n * @param {string} key\n */\nfunction getItemWithExpiry(key) {\n  const itemStr = window.localStorage.getItem(key);\n  if (!itemStr) {\n    return null;\n  }\n  const item = JSON.parse(itemStr);\n  if (\n    !Object.prototype.hasOwnProperty.call(item, \"expiry\") ||\n    !Object.prototype.hasOwnProperty.call(item, \"value\")\n  ) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  const now = new Date();\n  if (now.getTime() > item.expiry) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  return item.value;\n}\n\n/**\n * Takes a hex string (e.g. \"e4567ab\" or \"0xe4567ab\") and returns an array buffer (Uint8Array)\n * @param {string} hexString - Hex string with or without \"0x\" prefix\n * @returns {Uint8Array}\n */\nfunction uint8arrayFromHexString(hexString) {\n  if (!hexString || typeof hexString !== \"string\") {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n\n  // Remove 0x prefix if present\n  const hexWithoutPrefix =\n    hexString.startsWith(\"0x\") || hexString.startsWith(\"0X\")\n      ? hexString.slice(2)\n      : hexString;\n\n  var hexRegex = /^[0-9A-Fa-f]+$/;\n  if (hexWithoutPrefix.length % 2 != 0 || !hexRegex.test(hexWithoutPrefix)) {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n  return new Uint8Array(\n    hexWithoutPrefix.match(/../g).map((h) => parseInt(h, 16))\n  );\n}\n\n/**\n * Takes a Uint8Array and returns a hex string\n * @param {Uint8Array} buffer\n * @return {string}\n */\nfunction uint8arrayToHexString(buffer) {\n  return [...buffer].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n}\n\n/**\n * Function to normalize padding of byte array with 0's to a target length\n */\nfunction normalizePadding(byteArray, targetLength) {\n  const paddingLength = targetLength - byteArray.length;\n\n  // Add leading 0's to array\n  if (paddingLength > 0) {\n    const padding = new Uint8Array(paddingLength).fill(0);\n    return new Uint8Array([...padding, ...byteArray]);\n  }\n\n  // Remove leading 0's from array\n  if (paddingLength < 0) {\n    const expectedZeroCount = paddingLength * -1;\n    let zeroCount = 0;\n    for (let i = 0; i < expectedZeroCount && i < byteArray.length; i++) {\n      if (byteArray[i] === 0) {\n        zeroCount++;\n      }\n    }\n    // Check if the number of zeros found equals the number of zeroes expected\n    if (zeroCount !== expectedZeroCount) {\n      throw new Error(\n        `invalid number of starting zeroes. Expected number of zeroes: ${expectedZeroCount}. Found: ${zeroCount}.`\n      );\n    }\n    return byteArray.slice(expectedZeroCount, expectedZeroCount + targetLength);\n  }\n  return byteArray;\n}\n\n/**\n * Additional Associated Data (AAD) in the format dictated by the enclave_encrypt crate.\n */\nfunction additionalAssociatedData(senderPubBuf, receiverPubBuf) {\n  const s = Array.from(new Uint8Array(senderPubBuf));\n  const r = Array.from(new Uint8Array(receiverPubBuf));\n  return new Uint8Array([...s, ...r]);\n}\n\n/**\n * Converts an ASN.1 DER-encoded ECDSA signature to the raw format that WebCrypto uses.\n */\nfunction fromDerSignature(derSignature) {\n  const derSignatureBuf = uint8arrayFromHexString(derSignature);\n\n  // Check and skip the sequence tag (0x30)\n  let index = 2;\n\n  // Parse 'r' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for r\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const rLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const r = derSignatureBuf.slice(index, index + rLength);\n  index += rLength; // Move to the start of s\n\n  // Parse 's' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for s\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const sLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const s = derSignatureBuf.slice(index, index + sLength);\n\n  // Normalize 'r' and 's' to 32 bytes each\n  const rPadded = normalizePadding(r, 32);\n  const sPadded = normalizePadding(s, 32);\n\n  // Concatenate and return the raw signature\n  return new Uint8Array([...rPadded, ...sPadded]);\n}\n\n/**\n * Function to verify enclave signature on import bundle received from the server.\n * @param {string} enclaveQuorumPublic uncompressed public key for the quorum key which produced the signature\n * @param {string} publicSignature signature bytes encoded as a hexadecimal string\n * @param {string} signedData signed bytes encoded as a hexadecimal string. This could be public key bytes directly, or JSON-encoded bytes\n */\nasync function verifyEnclaveSignature(\n  enclaveQuorumPublic,\n  publicSignature,\n  signedData\n) {\n  /** Turnkey Signer enclave's public keys */\n  const TURNKEY_SIGNERS_ENCLAVES = {\n    prod: \"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\",\n    preprod:\n      \"04f3422b8afbe425d6ece77b8d2469954715a2ff273ab7ac89f1ed70e0a9325eaa1698b4351fd1b23734e65c0b6a86b62dd49d70b37c94606aac402cbd84353212\",\n  };\n\n  // Use window.__TURNKEY_SIGNER_ENVIRONMENT__ if available (for testing), otherwise use the webpack replacement\n  const environment =\n    (typeof window !== \"undefined\" && window.__TURNKEY_SIGNER_ENVIRONMENT__) ||\n    \"__TURNKEY_SIGNER_ENVIRONMENT__\";\n  const TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY =\n    TURNKEY_SIGNERS_ENCLAVES[environment];\n\n  if (TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY === undefined) {\n    throw new Error(\n      `Configuration error: TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY is undefined`\n    );\n  }\n\n  // todo(olivia): throw error if enclave quorum public is null once server changes are deployed\n  if (enclaveQuorumPublic) {\n    if (enclaveQuorumPublic !== TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY) {\n      throw new Error(\n        `enclave quorum public keys from client and bundle do not match. Client: ${TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY}. Bundle: ${enclaveQuorumPublic}.`\n      );\n    }\n  }\n\n  const encryptionQuorumPublicBuf = new Uint8Array(\n    uint8arrayFromHexString(TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY)\n  );\n  const quorumKey = await loadQuorumKey(encryptionQuorumPublicBuf);\n  if (!quorumKey) {\n    throw new Error(\"failed to load quorum key\");\n  }\n\n  // The ECDSA signature is ASN.1 DER encoded but WebCrypto uses raw format\n  const publicSignatureBuf = fromDerSignature(publicSignature);\n  const signedDataBuf = uint8arrayFromHexString(signedData);\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.verify(\n    { name: \"ECDSA\", hash: \"SHA-256\" },\n    quorumKey,\n    publicSignatureBuf,\n    signedDataBuf\n  );\n}\n\n/**\n * Function to send a message.\n *\n * If this page is embedded as an iframe we'll send a postMessage\n * in one of two ways depending on the version of @turnkey/iframe-stamper:\n *   1. newer versions (>=v2.1.0) pass a MessageChannel MessagePort from the parent frame for postMessages.\n *   2. older versions (<v2.1.0) still use the contentWindow so we will postMessage to the window.parent for backwards compatibility.\n *\n * Otherwise we'll display it in the DOM.\n * @param type message type. Can be \"PUBLIC_KEY_CREATED\" or \"BUNDLE_INJECTED\"\n * @param value message value\n * @param requestId serves as an idempotency key to match incoming requests. Backwards compatible: if not provided, it isn't passed in.\n */\nfunction sendMessageUp(type, value, requestId) {\n  const message = {\n    type: type,\n    value: value,\n  };\n\n  // Only include requestId if it was provided\n  if (requestId) {\n    message.requestId = requestId;\n  }\n\n  if (parentFrameMessageChannelPort) {\n    parentFrameMessageChannelPort.postMessage(message);\n  } else if (window.parent !== window) {\n    window.parent.postMessage(\n      {\n        type: type,\n        value: value,\n      },\n      \"*\"\n    );\n  }\n  logMessage(` Sent message ${type}: ${value}`);\n}\n\n/**\n * Function to log a message and persist it in the page's DOM.\n */\nfunction logMessage(content) {\n  const messageLog = document.getElementById(\"message-log\");\n  if (messageLog) {\n    const message = document.createElement(\"p\");\n    message.innerText = content;\n    messageLog.appendChild(message);\n  }\n}\n\n/**\n * Convert a JSON Web Key private key to a public key and export the public\n * key in raw format.\n * @return {Uint8array}\n */\nasync function p256JWKPrivateToPublic(jwkPrivate) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  // make a copy so we don't modify the underlying object\n  const jwkPrivateCopy = { ...jwkPrivate };\n  // change jwk so it will be imported as a public key\n  delete jwkPrivateCopy.d;\n  jwkPrivateCopy.key_ops = [\"verify\"];\n\n  const publicKey = await subtle.importKey(\n    \"jwk\",\n    jwkPrivateCopy,\n    { name: \"ECDSA\", namedCurve: \"P-256\" },\n    true,\n    [\"verify\"]\n  );\n  const buffer = await subtle.exportKey(\"raw\", publicKey);\n  return new Uint8Array(buffer);\n}\n\n/**\n * Encodes a buffer into a base58-encoded string.\n * @param {Uint8Array} bytes The buffer to encode.\n * @return {string} The base58-encoded string.\n */\nfunction base58Encode(bytes) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  const alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  let result = \"\";\n  let digits = [0];\n  for (let i = 0; i < bytes.length; i++) {\n    let carry = bytes[i];\n    for (let j = 0; j < digits.length; ++j) {\n      carry += digits[j] << 8;\n      digits[j] = carry % 58;\n      carry = (carry / 58) | 0;\n    }\n\n    while (carry > 0) {\n      digits.push(carry % 58);\n      carry = (carry / 58) | 0;\n    }\n  }\n  // Convert digits to a base58 string\n  for (let k = 0; k < digits.length; k++) {\n    result = alphabet[digits[k]] + result;\n  }\n\n  // Add '1' for each leading 0 byte\n  for (let i = 0; bytes[i] === 0 && i < bytes.length - 1; i++) {\n    result = \"1\" + result;\n  }\n  return result;\n}\n\n/**\n * Decodes a base58-encoded string into a buffer\n * This function throws an error when the string contains invalid characters.\n * @param {string} s The base58-encoded string.\n * @return {Uint8Array} The decoded buffer.\n */\nfunction base58Decode(s) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  var alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  var decodedBytes = [];\n  var leadingZeros = [];\n  for (var i = 0; i < s.length; i++) {\n    if (alphabet.indexOf(s[i]) === -1) {\n      throw new Error(`cannot base58-decode: ${s[i]} isn't a valid character`);\n    }\n    var carry = alphabet.indexOf(s[i]);\n\n    // If the current base58 digit is 0, append a 0 byte.\n    // \"i == leadingZeros.length\" can only be true if we have not seen non-zero bytes so far.\n    // If we had seen a non-zero byte, carry wouldn't be 0, and i would be strictly more than `leadingZeros.length`\n    if (carry == 0 && i === leadingZeros.length) {\n      leadingZeros.push(0);\n    }\n\n    var j = 0;\n    while (j < decodedBytes.length || carry > 0) {\n      var currentByte = decodedBytes[j];\n\n      // shift the current byte 58 units and add the carry amount\n      // (or just add the carry amount if this is a new byte -- undefined case)\n      if (currentByte === undefined) {\n        currentByte = carry;\n      } else {\n        currentByte = currentByte * 58 + carry;\n      }\n\n      // find the new carry amount (1-byte shift of current byte value)\n      carry = currentByte >> 8;\n      // reset the current byte to the remainder (the carry amount will pass on the overflow)\n      decodedBytes[j] = currentByte % 256;\n      j++;\n    }\n  }\n\n  var result = leadingZeros.concat(decodedBytes.reverse());\n  return new Uint8Array(result);\n}\n\n/**\n * Decodes a base58check-encoded string and verifies the checksum.\n * Base58Check encoding includes a 4-byte checksum at the end to detect errors.\n * The checksum is the first 4 bytes of SHA256(SHA256(payload)).\n * This function throws an error if the checksum is invalid.\n * @param {string} s The base58check-encoded string.\n * @return {Promise<Uint8Array>} The decoded payload (without checksum).\n */\nasync function base58CheckDecode(s) {\n  const decoded = base58Decode(s);\n\n  if (decoded.length < 5) {\n    throw new Error(\n      `invalid base58check length: expected at least 5 bytes, got ${decoded.length}`\n    );\n  }\n\n  const payload = decoded.subarray(0, decoded.length - 4);\n  const checksum = decoded.subarray(decoded.length - 4);\n\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n\n  // Compute double SHA256 hash\n  const hash1Buf = await subtle.digest(\"SHA-256\", payload);\n  const hash1 = new Uint8Array(hash1Buf);\n  const hash2Buf = await subtle.digest(\"SHA-256\", hash1);\n  const hash2 = new Uint8Array(hash2Buf);\n  const computedChecksum = hash2.subarray(0, 4);\n\n  // Verify checksum\n  const mismatch =\n    (checksum[0] ^ computedChecksum[0]) |\n    (checksum[1] ^ computedChecksum[1]) |\n    (checksum[2] ^ computedChecksum[2]) |\n    (checksum[3] ^ computedChecksum[3]);\n  if (mismatch !== 0) {\n    throw new Error(\"invalid base58check checksum\");\n  }\n\n  return payload;\n}\n\n/**\n * Returns private key bytes from a private key, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {string} privateKey\n * @param {string} keyFormat Can be \"HEXADECIMAL\", \"SUI_BECH32\", \"BITCOIN_MAINNET_WIF\", \"BITCOIN_TESTNET_WIF\" or \"SOLANA\"\n * @return {Promise<Uint8Array>}\n */\nasync function decodeKey(privateKey, keyFormat) {\n  switch (keyFormat) {\n    case \"SOLANA\": {\n      const decodedKeyBytes = base58Decode(privateKey);\n      if (decodedKeyBytes.length !== 64) {\n        throw new Error(\n          `invalid key length. Expected 64 bytes. Got ${decodedKeyBytes.length}.`\n        );\n      }\n      return decodedKeyBytes.subarray(0, 32);\n    }\n    case \"HEXADECIMAL\":\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n    case \"BITCOIN_MAINNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0x80 = mainnet\n      if (version !== 0x80) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0x80 (mainnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"BITCOIN_TESTNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0xEF = testnet\n      if (version !== 0xef) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0xEF (testnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"SUI_BECH32\": {\n      const { prefix, words } = bech32.decode(privateKey);\n\n      if (prefix !== \"suiprivkey\") {\n        throw new Error(\n          `invalid SUI private key human-readable part (HRP): expected \"suiprivkey\"`\n        );\n      }\n\n      const bytes = bech32.fromWords(words);\n      if (bytes.length !== 33) {\n        throw new Error(\n          `invalid SUI private key length: expected 33 bytes, got ${bytes.length}`\n        );\n      }\n\n      const schemeFlag = bytes[0];\n      const privkey = bytes.slice(1);\n\n      // schemeFlag = 0 is Ed25519; We currently only support Ed25519 keys for SUI.\n      if (schemeFlag !== 0) {\n        throw new Error(\n          `invalid SUI private key scheme flag: expected 0 (Ed25519). Turnkey only supports Ed25519 keys for SUI.`\n        );\n      }\n\n      return new Uint8Array(privkey);\n    }\n    default:\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n  }\n}\n\n/**\n * Returns a private key from private key bytes, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {Uint8Array} privateKeyBytes\n * @param {string} keyFormat Can be \"HEXADECIMAL\" or \"SOLANA\"\n */\nasync function encodeKey(privateKeyBytes, keyFormat, publicKeyBytes) {\n  switch (keyFormat) {\n    case \"SOLANA\":\n      if (!publicKeyBytes) {\n        throw new Error(\"public key must be specified for SOLANA key format\");\n      }\n      if (privateKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid private key length. Expected 32 bytes. Got ${privateKeyBytes.length}.`\n        );\n      }\n      if (publicKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid public key length. Expected 32 bytes. Got ${publicKeyBytes.length}.`\n        );\n      }\n      {\n        const concatenatedBytes = new Uint8Array(64);\n        concatenatedBytes.set(privateKeyBytes, 0);\n        concatenatedBytes.set(publicKeyBytes, 32);\n        return base58Encode(concatenatedBytes);\n      }\n    case \"HEXADECIMAL\":\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n    default:\n      // keeping console.warn for debugging purposes.\n      // eslint-disable-next-line no-console\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n  }\n}\n\n// Helper to parse a private key into a Solana base58 private key.\n// To be used if a wallet account is exported without the `SOLANA` address format.\nfunction parsePrivateKey(privateKey) {\n  if (Array.isArray(privateKey)) {\n    return new Uint8Array(privateKey);\n  }\n\n  if (typeof privateKey === \"string\") {\n    // Remove 0x prefix if present\n    if (privateKey.startsWith(\"0x\")) {\n      privateKey = privateKey.slice(2);\n    }\n\n    // Check if it's hex-formatted correctly (i.e. 64 hex chars)\n    if (privateKey.length === 64 && /^[0-9a-fA-F]+$/.test(privateKey)) {\n      return uint8arrayFromHexString(privateKey);\n    }\n\n    // Otherwise assume it's base58 format (for Solana)\n    try {\n      return base58Decode(privateKey);\n    } catch (error) {\n      throw new Error(\n        \"Invalid private key format. Use hex (64 chars) or base58 format.\"\n      );\n    }\n  }\n\n  throw new Error(\"Private key must be a string (hex/base58) or number array\");\n}\n\n/**\n * Function to validate and sanitize the styles object using the accepted map of style keys and values (as regular expressions).\n * Any invalid style throws an error. Returns an object of valid styles.\n * @param {Object} styles\n * @param {HTMLElement} element - Optional element parameter (for import frame)\n * @return {Object}\n */\nfunction validateStyles(styles, element) {\n  const validStyles = {};\n\n  const cssValidationRegex = {\n    padding: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    margin: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    borderWidth: \"^(\\\\d+(px|em|rem) ?){1,4}$\",\n    borderStyle:\n      \"^(none|solid|dashed|dotted|double|groove|ridge|inset|outset)$\",\n    borderColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    borderRadius: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    fontSize: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax))$\",\n    fontWeight: \"^(normal|bold|bolder|lighter|\\\\d{3})$\",\n    fontFamily: '^[^\";<>]*$', // checks for the absence of some characters that could lead to CSS/HTML injection\n    color:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    labelColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    backgroundColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    width: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    height: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    maxWidth: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    maxHeight:\n      \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    lineHeight:\n      \"^(\\\\d+(\\\\.\\\\d+)?(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|normal)$\",\n    boxShadow:\n      \"^(none|(\\\\d+(px|em|rem) ?){2,4} (#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)) ?(inset)?)$\",\n    textAlign: \"^(left|right|center|justify|initial|inherit)$\",\n    overflowWrap: \"^(normal|break-word|anywhere)$\",\n    wordWrap: \"^(normal|break-word)$\",\n    resize: \"^(none|both|horizontal|vertical|block|inline)$\",\n  };\n\n  Object.entries(styles).forEach(([property, value]) => {\n    const styleProperty = property.trim();\n    if (styleProperty.length === 0) {\n      throw new Error(\"css style property cannot be empty\");\n    }\n    const styleRegexStr = cssValidationRegex[styleProperty];\n    if (!styleRegexStr) {\n      throw new Error(\n        `invalid or unsupported css style property: \"${styleProperty}\"`\n      );\n    }\n    const styleRegex = new RegExp(styleRegexStr);\n    const styleValue = value.trim();\n    if (styleValue.length == 0) {\n      throw new Error(`css style for \"${styleProperty}\" is empty`);\n    }\n    const isValidStyle = styleRegex.test(styleValue);\n    if (!isValidStyle) {\n      throw new Error(\n        `invalid css style value for property \"${styleProperty}\"`\n      );\n    }\n    validStyles[styleProperty] = styleValue;\n  });\n\n  return validStyles;\n}\n\n// Export all shared functions\nexport {\n  setCryptoProvider,\n  getSubtleCrypto,\n  isDoublyIframed,\n  loadQuorumKey,\n  loadTargetKey,\n  initEmbeddedKey,\n  generateTargetKey,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  getTargetEmbeddedKey,\n  setTargetEmbeddedKey,\n  onResetEmbeddedKey,\n  resetTargetEmbeddedKey,\n  setParentFrameMessageChannelPort,\n  getSettings,\n  setSettings,\n  setItemWithExpiry,\n  getItemWithExpiry,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  normalizePadding,\n  additionalAssociatedData,\n  fromDerSignature,\n  verifyEnclaveSignature,\n  sendMessageUp,\n  logMessage,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  base58CheckDecode,\n  decodeKey,\n  encodeKey,\n  parsePrivateKey,\n  validateStyles,\n  getEncryptedBundles,\n  setEncryptedBundle,\n  removeEncryptedBundle,\n  clearAllEncryptedBundles,\n};\n","import * as nobleEd25519 from \"@noble/ed25519\";\nimport * as nobleHashes from \"@noble/hashes/sha512\";\nimport { fromDerSignature } from \"@turnkey/crypto\";\nimport * as SharedTKHQ from \"@shared/turnkey-core.js\";\n\nconst {\n  initEmbeddedKey: sharedInitEmbeddedKey,\n  generateTargetKey,\n  setItemWithExpiry,\n  getItemWithExpiry,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  onResetEmbeddedKey,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  encodeKey,\n  sendMessageUp,\n  logMessage,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  additionalAssociatedData,\n  getSettings,\n  setSettings,\n  parsePrivateKey,\n  validateStyles,\n  isDoublyIframed,\n  loadQuorumKey,\n  getEncryptedBundles,\n  setEncryptedBundle,\n  removeEncryptedBundle,\n  clearAllEncryptedBundles,\n} = SharedTKHQ;\n\n/**\n * Creates a new public/private key pair and persists it in localStorage\n */\nasync function initEmbeddedKey() {\n  if (isDoublyIframed()) {\n    throw new Error(\"Doubly iframed\");\n  }\n  return await sharedInitEmbeddedKey();\n}\n\n/**\n * Function to verify enclave signature on import bundle received from the server.\n * @param {string} enclaveQuorumPublic uncompressed public key for the quorum key which produced the signature\n * @param {string} publicSignature signature bytes encoded as a hexadecimal string\n * @param {string} signedData signed bytes encoded as a hexadecimal string. This could be public key bytes directly, or JSON-encoded bytes\n */\nasync function verifyEnclaveSignature(\n  enclaveQuorumPublic,\n  publicSignature,\n  signedData\n) {\n  /** Turnkey Signer enclave's public keys */\n  const TURNKEY_SIGNERS_ENCLAVES = {\n    prod: \"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\",\n    preprod:\n      \"04f3422b8afbe425d6ece77b8d2469954715a2ff273ab7ac89f1ed70e0a9325eaa1698b4351fd1b23734e65c0b6a86b62dd49d70b37c94606aac402cbd84353212\",\n  };\n\n  // Read environment from meta tag (templated at deploy time), fall back to window variable (for testing)\n  let environment = null;\n  if (typeof document !== \"undefined\") {\n    const meta = document.querySelector(\n      'meta[name=\"turnkey-signer-environment\"]'\n    );\n    if (\n      meta &&\n      meta.content &&\n      meta.content !== \"__TURNKEY_SIGNER_ENVIRONMENT__\"\n    ) {\n      environment = meta.content;\n    }\n  }\n  if (!environment && typeof window !== \"undefined\") {\n    environment = window.__TURNKEY_SIGNER_ENVIRONMENT__;\n  }\n  const TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY =\n    TURNKEY_SIGNERS_ENCLAVES[environment];\n\n  if (TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY === undefined) {\n    throw new Error(\n      `Configuration error: TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY is undefined`\n    );\n  }\n\n  if (enclaveQuorumPublic !== TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY) {\n    throw new Error(\n      `enclave quorum public keys from client and bundle do not match. Client: ${TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY}. Bundle: ${enclaveQuorumPublic}.`\n    );\n  }\n\n  const encryptionQuorumPublicBuf = new Uint8Array(\n    uint8arrayFromHexString(TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY)\n  );\n  const quorumKey = await loadQuorumKey(encryptionQuorumPublicBuf);\n  if (!quorumKey) {\n    throw new Error(\"failed to load quorum key\");\n  }\n\n  // The ECDSA signature is ASN.1 DER encoded but WebCrypto uses raw format\n  const publicSignatureBuf = fromDerSignature(publicSignature);\n  const signedDataBuf = uint8arrayFromHexString(signedData);\n  return await crypto.subtle.verify(\n    { name: \"ECDSA\", hash: \"SHA-256\" },\n    quorumKey,\n    publicSignatureBuf,\n    signedDataBuf\n  );\n}\n\n/**\n * Returns the public key bytes for a hex-encoded Ed25519 private key.\n * @param {string} privateKeyHex\n */\nfunction getEd25519PublicKey(privateKeyHex) {\n  nobleEd25519.etc.sha512Sync = (...m) =>\n    nobleHashes.sha512(nobleEd25519.etc.concatBytes(...m));\n  return nobleEd25519.getPublicKey(privateKeyHex);\n}\n\n/**\n * Function to apply settings on this page. For now, the only settings that can be applied\n * are for \"styles\". Upon successful application, return the valid, sanitized settings JSON string.\n * @param {string} settings\n * @return {string}\n */\nfunction applySettings(settings) {\n  const validSettings = {};\n  if (!settings) {\n    return JSON.stringify(validSettings);\n  }\n  const settingsObj = JSON.parse(settings);\n  if (settingsObj.styles) {\n    // Valid styles will be applied the \"key-div\" div HTML element.\n    const keyDivTextarea = document.getElementById(\"key-div\");\n    if (!keyDivTextarea) {\n      throw new Error(\"no key-div HTML element found to apply settings to.\");\n    }\n\n    // Validate, sanitize, and apply the styles to the \"key-div\" div element.\n    const validStyles = validateStyles(settingsObj.styles);\n    Object.entries(validStyles).forEach(([key, value]) => {\n      keyDivTextarea.style[key] = value;\n    });\n\n    validSettings[\"styles\"] = validStyles;\n  }\n\n  return JSON.stringify(validSettings);\n}\n\nexport const TKHQ = {\n  initEmbeddedKey,\n  generateTargetKey,\n  setItemWithExpiry,\n  getItemWithExpiry,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  onResetEmbeddedKey,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  encodeKey,\n  sendMessageUp,\n  logMessage,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  fromDerSignature,\n  additionalAssociatedData,\n  verifyEnclaveSignature,\n  getEd25519PublicKey,\n  applySettings,\n  validateStyles,\n  getSettings,\n  setSettings,\n  parsePrivateKey,\n  getEncryptedBundles,\n  setEncryptedBundle,\n  removeEncryptedBundle,\n  clearAllEncryptedBundles,\n};\n","import { TKHQ } from \"./turnkey-core.js\";\nimport { Keypair, VersionedTransaction } from \"@solana/web3.js\";\nimport * as nobleEd25519 from \"@noble/ed25519\";\nimport * as nobleHashes from \"@noble/hashes/sha512\";\n\n// Persist keys in memory via mapping of { address --> pk }\nlet inMemoryKeys = {};\n\n// Decryption key -- held in memory only, never persisted to localStorage.\n// This is a P-256 private key in JWK format used to decrypt stored bundles.\nlet decryptionKey = null;\n\nexport const DEFAULT_TTL_MILLISECONDS = 1000 * 24 * 60 * 60; // 24 hours or 86,400,000 milliseconds\n\n// Instantiate these once (for perf)\nconst textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\n\n/**\n * Verifies the enclave signature on a v1.0.0 bundle and returns the parsed signed data.\n * @param {string} bundle - JSON-stringified bundle\n * @param {string} organizationId - Expected organization ID\n * @returns {Promise<Object>} - The parsed signed data {organizationId, encappedPublic, ciphertext}\n */\nasync function verifyAndParseBundleData(bundle, organizationId) {\n  const bundleObj = JSON.parse(bundle);\n\n  if (bundleObj.version !== \"v1.0.0\") {\n    throw new Error(`unsupported version: ${bundleObj.version}`);\n  }\n  if (!bundleObj.data) {\n    throw new Error('missing \"data\" in bundle');\n  }\n  if (!bundleObj.dataSignature) {\n    throw new Error('missing \"dataSignature\" in bundle');\n  }\n  if (!bundleObj.enclaveQuorumPublic) {\n    throw new Error('missing \"enclaveQuorumPublic\" in bundle');\n  }\n\n  if (!TKHQ.verifyEnclaveSignature) {\n    throw new Error(\"method not loaded\");\n  }\n  const verified = await TKHQ.verifyEnclaveSignature(\n    bundleObj.enclaveQuorumPublic,\n    bundleObj.dataSignature,\n    bundleObj.data\n  );\n  if (!verified) {\n    throw new Error(`failed to verify enclave signature: ${bundle}`);\n  }\n\n  const signedData = JSON.parse(\n    textDecoder.decode(TKHQ.uint8arrayFromHexString(bundleObj.data))\n  );\n\n  if (!organizationId) {\n    throw new Error(\n      `organization id is required. Please ensure you are using @turnkey/iframe-stamper >= v2.0.0 to pass \"organizationId\" for security purposes.`\n    );\n  } else if (\n    !signedData.organizationId ||\n    signedData.organizationId !== organizationId\n  ) {\n    throw new Error(\n      `organization id does not match expected value. Expected: ${organizationId}. Found: ${signedData.organizationId}.`\n    );\n  }\n\n  if (!signedData.encappedPublic) {\n    throw new Error('missing \"encappedPublic\" in bundle signed data');\n  }\n  if (!signedData.ciphertext) {\n    throw new Error('missing \"ciphertext\" in bundle signed data');\n  }\n\n  return signedData;\n}\n\n/**\n * Parse and decrypt the export bundle.\n * The `bundle` param is a JSON string of the encapsulated public\n * key, encapsulated public key signature, and the ciphertext.\n * @param {string} bundle\n * @param {string} organizationId\n * @param {Function} HpkeDecrypt\n */\nasync function decryptBundle(bundle, organizationId, HpkeDecrypt) {\n  const signedData = await verifyAndParseBundleData(bundle, organizationId);\n\n  const encappedKeyBuf = TKHQ.uint8arrayFromHexString(\n    signedData.encappedPublic\n  );\n  const ciphertextBuf = TKHQ.uint8arrayFromHexString(signedData.ciphertext);\n\n  // Decrypt the ciphertext\n  const embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n  return await HpkeDecrypt({\n    ciphertextBuf,\n    encappedKeyBuf,\n    receiverPrivJwk: embeddedKeyJwk,\n  });\n}\n\n/**\n * Function triggered when GET_EMBEDDED_PUBLIC_KEY event is received.\n * @param {string} requestId\n */\nasync function onGetPublicEmbeddedKey(requestId) {\n  const embeddedKeyJwk = TKHQ.getEmbeddedKey();\n\n  if (!embeddedKeyJwk) {\n    TKHQ.sendMessageUp(\"EMBEDDED_PUBLIC_KEY\", \"\", requestId); // no key == empty string\n\n    return;\n  }\n\n  const targetPubBuf = await TKHQ.p256JWKPrivateToPublic(embeddedKeyJwk);\n  const targetPubHex = TKHQ.uint8arrayToHexString(targetPubBuf);\n\n  // Send up EMBEDDED_PUBLIC_KEY message\n  TKHQ.sendMessageUp(\"EMBEDDED_PUBLIC_KEY\", targetPubHex, requestId);\n}\n\n/**\n * Encodes raw key bytes and loads them into the in-memory key store.\n * @param {string} address - Wallet address (case-sensitive)\n * @param {ArrayBuffer} keyBytes - Raw decrypted private key bytes\n * @param {string} keyFormat - \"SOLANA\" | \"HEXADECIMAL\"\n * @param {string} organizationId - Organization ID\n */\nasync function loadKeyIntoMemory(address, keyBytes, keyFormat, organizationId) {\n  let key;\n  const privateKeyBytes = new Uint8Array(keyBytes);\n\n  if (keyFormat === \"SOLANA\") {\n    const privateKeyHex = TKHQ.uint8arrayToHexString(\n      privateKeyBytes.subarray(0, 32)\n    );\n    const publicKeyBytes = TKHQ.getEd25519PublicKey(privateKeyHex);\n    key = await TKHQ.encodeKey(privateKeyBytes, keyFormat, publicKeyBytes);\n  } else {\n    key = await TKHQ.encodeKey(privateKeyBytes, keyFormat);\n  }\n\n  const keyAddress = address || \"default\";\n\n  // Cache keypair for improved signing perf\n  let cachedKeypair;\n  if (keyFormat === \"SOLANA\") {\n    cachedKeypair = Keypair.fromSecretKey(TKHQ.base58Decode(key));\n  } else if (keyFormat === \"HEXADECIMAL\") {\n    cachedKeypair = await createSolanaKeypair(\n      Array.from(TKHQ.uint8arrayFromHexString(key))\n    );\n  }\n\n  inMemoryKeys = {\n    ...inMemoryKeys,\n    [keyAddress]: {\n      organizationId,\n      privateKey: key,\n      format: keyFormat,\n      expiry: new Date().getTime() + DEFAULT_TTL_MILLISECONDS,\n      keypair: cachedKeypair,\n    },\n  };\n}\n\n/**\n * Function triggered when INJECT_KEY_EXPORT_BUNDLE event is received.\n * @param {string} requestId\n * @param {string} organizationId\n * @param {string} bundle\n * @param {string} keyFormat\n * @param {string} address\n * @param {Function} HpkeDecrypt // TODO: import this directly (instead of passing around)\n */\nasync function onInjectKeyBundle(\n  requestId,\n  organizationId,\n  bundle,\n  keyFormat,\n  address,\n  HpkeDecrypt\n) {\n  // Decrypt the export bundle\n  const keyBytes = await decryptBundle(bundle, organizationId, HpkeDecrypt);\n\n  // Load decrypted key into memory\n  await loadKeyIntoMemory(address, keyBytes, keyFormat, organizationId);\n\n  // Send up BUNDLE_INJECTED message\n  TKHQ.sendMessageUp(\"BUNDLE_INJECTED\", true, requestId);\n}\n\n/**\n * Function triggered when APPLY_SETTINGS event is received.\n * For now, the only settings that can be applied are for \"styles\".\n * Persist them in local storage so they can be applied on every\n * page load.\n * @param {string} settings: JSON-stringified settings\n * @param {string} requestId\n */\nasync function onApplySettings(settings, requestId) {\n  // Apply settings\n  const validSettings = TKHQ.applySettings(settings);\n\n  // Persist in local storage\n  TKHQ.setSettings(validSettings);\n\n  // Send up SETTINGS_APPLIED message\n  TKHQ.sendMessageUp(\"SETTINGS_APPLIED\", true, requestId);\n}\n\n/**\n * Function triggered when SIGN_TRANSACTION event is received.\n * @param {string} requestId\n * @param {string} transaction (serialized)\n * @param {string} address (case-sensitive --> enforce this, optional for backwards compatibility)\n */\nasync function onSignTransaction(requestId, serializedTransaction, address) {\n  // If no address provided, use \"default\"\n  const keyAddress = address || \"default\";\n  const key = inMemoryKeys[keyAddress];\n\n  // Validate key exists and is valid/non-expired\n  if (!validateKey(key, keyAddress, requestId)) {\n    return;\n  }\n\n  // Get or create keypair (uses cached keypair if available)\n  const keypair = await getOrCreateKeypair(key);\n\n  const transactionWrapper = JSON.parse(serializedTransaction);\n  const transactionToSign = transactionWrapper.transaction;\n  const transactionType = transactionWrapper.type;\n\n  let signedTransaction;\n\n  if (transactionType === \"SOLANA\") {\n    // Fetch the transaction and sign\n    const transactionBytes = TKHQ.uint8arrayFromHexString(transactionToSign);\n    const transaction = VersionedTransaction.deserialize(transactionBytes);\n    transaction.sign([keypair]);\n\n    signedTransaction = transaction.serialize();\n  } else {\n    throw new Error(\"unsupported transaction type\");\n  }\n\n  const signedTransactionHex = TKHQ.uint8arrayToHexString(signedTransaction);\n\n  TKHQ.sendMessageUp(\"TRANSACTION_SIGNED\", signedTransactionHex, requestId);\n}\n\n/**\n * Function triggered when SIGN_MESSAGE event is received.\n * @param {string} requestId\n * @param {string} message (serialized, JSON-stringified)\n * @param {string} address (case-sensitive --> enforce this, optional for backwards compatibility)\n */\nasync function onSignMessage(requestId, serializedMessage, address) {\n  // Backwards compatibility: if no address provided, use \"default\"\n  const keyAddress = address || \"default\";\n  const key = inMemoryKeys[keyAddress];\n\n  // Validate key exists and has not expired\n  if (!validateKey(key, keyAddress, requestId)) {\n    return;\n  }\n\n  const messageWrapper = JSON.parse(serializedMessage);\n  const messageToSign = messageWrapper.message;\n  const messageType = messageWrapper.type;\n  const messageBytes = textEncoder.encode(messageToSign);\n\n  let signatureHex;\n\n  // Get or create keypair (uses cached keypair if available)\n  const keypair = await getOrCreateKeypair(key);\n\n  if (messageType === \"SOLANA\") {\n    // Set up sha512 for nobleEd25519 (required for signing)\n    nobleEd25519.etc.sha512Sync = (...m) =>\n      nobleHashes.sha512(nobleEd25519.etc.concatBytes(...m));\n\n    // Extract the 32-byte private key from the 64-byte secretKey\n    // Solana keypair.secretKey format: [32-byte private key][32-byte public key]\n    const privateKey = keypair.secretKey.slice(0, 32);\n    // Sign the message using nobleEd25519\n    const signature = nobleEd25519.sign(messageBytes, privateKey);\n\n    // Note: Signature verification is skipped for performance. The signature will always be valid if signing succeeds with a valid keypair.\n    // Clients can verify the signature returned.\n\n    signatureHex = TKHQ.uint8arrayToHexString(signature);\n  } else {\n    TKHQ.sendMessageUp(\"ERROR\", \"unsupported message type\", requestId);\n\n    return;\n  }\n\n  TKHQ.sendMessageUp(\"MESSAGE_SIGNED\", signatureHex, requestId);\n}\n\n/**\n * Function triggered when CLEAR_EMBEDDED_PRIVATE_KEY event is received.\n * @param {string} requestId\n * @param {string} address - Optional: The address of the key to clear (case-sensitive). If not provided, clears all keys.\n */\nasync function onClearEmbeddedPrivateKey(requestId, address) {\n  // If no address is provided, clear all keys\n  if (!address) {\n    inMemoryKeys = {};\n    TKHQ.sendMessageUp(\"EMBEDDED_PRIVATE_KEY_CLEARED\", true, requestId);\n\n    return;\n  }\n\n  // Check if key exists for the specific address\n  if (!inMemoryKeys[address]) {\n    TKHQ.sendMessageUp(\n      \"ERROR\",\n      new Error(\n        `key not found for address ${address}. Note that address is case sensitive.`\n      ).toString(),\n      requestId\n    );\n\n    return;\n  }\n\n  // Clear the specific key from memory\n  delete inMemoryKeys[address];\n\n  TKHQ.sendMessageUp(\"EMBEDDED_PRIVATE_KEY_CLEARED\", true, requestId);\n}\n\n/**\n * Handler for STORE_ENCRYPTED_BUNDLE events.\n * Verifies the enclave signature on an encrypted bundle and stores\n * the encrypted payload in localStorage for later decryption.\n * If the decryption key is already in memory, also decrypts and loads\n * the key into memory immediately.\n * @param {string} requestId\n * @param {string} organizationId\n * @param {string} bundle - v1.0.0 bundle JSON\n * @param {string} keyFormat - \"SOLANA\" | \"HEXADECIMAL\"\n * @param {string} address - Wallet address\n * @param {Function} HpkeDecrypt\n */\nasync function onStoreEncryptedBundle(\n  requestId,\n  organizationId,\n  bundle,\n  keyFormat,\n  address,\n  HpkeDecrypt\n) {\n  if (!address) {\n    throw new Error(\"address is required for STORE_ENCRYPTED_BUNDLE\");\n  }\n\n  // Verify enclave signature and parse the signed data\n  const signedData = await verifyAndParseBundleData(bundle, organizationId);\n\n  const resolvedKeyFormat = keyFormat || \"HEXADECIMAL\";\n\n  // Store the encrypted fields in localStorage (just what's needed for decryption)\n  TKHQ.setEncryptedBundle(address, {\n    encappedPublic: signedData.encappedPublic,\n    ciphertext: signedData.ciphertext,\n    organizationId: organizationId,\n    keyFormat: resolvedKeyFormat,\n  });\n\n  // If the decryption key is already in memory, decrypt and load immediately\n  if (decryptionKey && HpkeDecrypt) {\n    const encappedKeyBuf = TKHQ.uint8arrayFromHexString(\n      signedData.encappedPublic\n    );\n    const ciphertextBuf = TKHQ.uint8arrayFromHexString(signedData.ciphertext);\n\n    const keyBytes = await HpkeDecrypt({\n      ciphertextBuf,\n      encappedKeyBuf,\n      receiverPrivJwk: decryptionKey,\n    });\n\n    await loadKeyIntoMemory(\n      address,\n      keyBytes,\n      resolvedKeyFormat,\n      organizationId\n    );\n  }\n\n  TKHQ.sendMessageUp(\"ENCRYPTED_BUNDLE_STORED\", true, requestId);\n}\n\n/**\n * Converts raw P-256 private key bytes (32-byte scalar) to a JWK.\n * Constructs a PKCS8 wrapper around the raw bytes, imports via WebCrypto\n * (which derives the public key), then exports as JWK.\n * @param {Uint8Array} rawPrivateKeyBytes - 32-byte P-256 private key scalar\n * @returns {Promise<JsonWebKey>} - Full P-256 ECDH private key JWK\n */\nasync function rawP256PrivateKeyToJwk(rawPrivateKeyBytes) {\n  if (rawPrivateKeyBytes.length !== 32) {\n    throw new Error(\n      `invalid decryption key length: expected 32 bytes, got ${rawPrivateKeyBytes.length}`\n    );\n  }\n\n  // PKCS8 DER prefix for a P-256 private key (without optional public key field)\n  // SEQUENCE {\n  //   INTEGER 0 (version)\n  //   SEQUENCE { OID ecPublicKey, OID P-256 }\n  //   OCTET STRING { SEQUENCE { INTEGER 1, OCTET STRING(32) <key> } }\n  // }\n  const pkcs8Prefix = new Uint8Array([\n    0x30, 0x41, 0x02, 0x01, 0x00, 0x30, 0x13, 0x06, 0x07, 0x2a, 0x86, 0x48,\n    0xce, 0x3d, 0x02, 0x01, 0x06, 0x08, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03,\n    0x01, 0x07, 0x04, 0x27, 0x30, 0x25, 0x02, 0x01, 0x01, 0x04, 0x20,\n  ]);\n\n  const pkcs8 = new Uint8Array(pkcs8Prefix.length + 32);\n  pkcs8.set(pkcs8Prefix);\n  pkcs8.set(rawPrivateKeyBytes, pkcs8Prefix.length);\n\n  const cryptoKey = await crypto.subtle.importKey(\n    \"pkcs8\",\n    pkcs8,\n    { name: \"ECDH\", namedCurve: \"P-256\" },\n    true,\n    [\"deriveBits\"]\n  );\n\n  return await crypto.subtle.exportKey(\"jwk\", cryptoKey);\n}\n\n/**\n * Handler for INJECT_DECRYPTION_KEY_BUNDLE events.\n * Decrypts the P-256 private key using the iframe's embedded key,\n * then iterates all stored encrypted bundles, HPKE-decrypts each one\n * with the key, and loads them into inMemoryKeys.\n * @param {string} requestId\n * @param {string} organizationId\n * @param {string} bundle - v1.0.0 bundle containing the private key\n * @param {Function} HpkeDecrypt\n */\nasync function onInjectDecryptionKeyBundle(\n  requestId,\n  organizationId,\n  bundle,\n  HpkeDecrypt\n) {\n  // Decrypt the private key using the iframe's embedded key.\n  // The decrypted payload is a raw 32-byte P-256 private key scalar.\n  const keyBytes = await decryptBundle(bundle, organizationId, HpkeDecrypt);\n\n  // Convert raw P-256 bytes to a full JWK (derives public key via WebCrypto)\n  const keyJwk = await rawP256PrivateKeyToJwk(new Uint8Array(keyBytes));\n\n  // Store in module-level variable (memory only)\n  decryptionKey = keyJwk;\n\n  // Iterate all stored encrypted bundles and decrypt each one\n  const storedBundles = TKHQ.getEncryptedBundles();\n  let decryptedCount = 0;\n\n  if (storedBundles) {\n    const addresses = Object.keys(storedBundles);\n\n    for (const addr of addresses) {\n      const bundleData = storedBundles[addr];\n\n      try {\n        const bundleOrgId = bundleData.organizationId;\n\n        if (organizationId !== bundleOrgId) continue; // skip bundles that don't match the organization ID of the decryption key\n\n        const encappedKeyBuf = TKHQ.uint8arrayFromHexString(\n          bundleData.encappedPublic\n        );\n        const ciphertextBuf = TKHQ.uint8arrayFromHexString(\n          bundleData.ciphertext\n        );\n\n        // HPKE-decrypt using the key\n        const keyBytes = await HpkeDecrypt({\n          ciphertextBuf,\n          encappedKeyBuf,\n          receiverPrivJwk: decryptionKey,\n        });\n\n        // Load the decrypted key into memory\n        await loadKeyIntoMemory(\n          addr,\n          keyBytes,\n          bundleData.keyFormat,\n          bundleData.organizationId\n        );\n\n        decryptedCount++;\n      } catch (e) {\n        TKHQ.logMessage(\n          `Failed to decrypt bundle for address ${addr}: ${e.toString()}`\n        );\n      }\n    }\n  }\n\n  TKHQ.sendMessageUp(\"DECRYPTION_KEY_INJECTED\", decryptedCount, requestId);\n}\n\n/**\n * Handler for BURN_SESSION events.\n * Clears the decryption key and all in-memory wallet keys.\n * Encrypted bundles in localStorage are preserved for the next session.\n * @param {string} requestId\n */\nfunction onBurnSession(requestId) {\n  decryptionKey = null;\n  inMemoryKeys = {};\n  TKHQ.sendMessageUp(\"SESSION_BURNED\", true, requestId);\n}\n\n/**\n * Handler for GET_STORED_WALLET_ADDRESSES events.\n * Returns a JSON array of all wallet addresses that have encrypted bundles in localStorage.\n * @param {string} requestId\n * @param {string} organizationId - Organization ID to filter addresses by (only return addresses with bundles matching the organization ID)\n */\nfunction onGetStoredWalletAddresses(requestId, organizationId) {\n  const bundles = TKHQ.getEncryptedBundles();\n  const addresses = bundles\n    ? Object.entries(bundles)\n        .filter(([, bundle]) => bundle.organizationId === organizationId)\n        .map(([address]) => address)\n    : [];\n  TKHQ.sendMessageUp(\n    \"STORED_WALLET_ADDRESSES\",\n    JSON.stringify(addresses),\n    requestId\n  );\n}\n\n/**\n * Handler for CLEAR_STORED_BUNDLES events.\n * Removes encrypted bundles from localStorage AND the corresponding\n * in-memory keys. If address is provided, removes only that address.\n * If no address, removes ALL encrypted bundles and ALL in-memory keys.\n * @param {string} requestId\n * @param {string} organizationId - Organization ID to filter addresses by (only remove bundles matching the organization ID)\n * @param {string|undefined} address - Optional wallet address\n */\nfunction onClearStoredBundles(requestId, address, organizationId) {\n  if (address) {\n    TKHQ.removeEncryptedBundle(address, organizationId);\n    delete inMemoryKeys[address];\n  } else {\n    TKHQ.clearAllEncryptedBundles(organizationId);\n    inMemoryKeys = {};\n  }\n  TKHQ.sendMessageUp(\"STORED_BUNDLES_CLEARED\", true, requestId);\n}\n\n// Utility functions\nasync function createSolanaKeypair(privateKey) {\n  const privateKeyBytes = TKHQ.parsePrivateKey(privateKey);\n\n  let keypair;\n  if (privateKeyBytes.length === 32) {\n    // 32-byte private key (seed)\n    keypair = Keypair.fromSeed(privateKeyBytes);\n  } else if (privateKeyBytes.length === 64) {\n    // 64-byte secret key (private + public)\n    keypair = Keypair.fromSecretKey(privateKeyBytes);\n  } else {\n    throw new Error(\n      `Invalid private key length: ${privateKeyBytes.length}. Expected 32 or 64 bytes.`\n    );\n  }\n\n  return keypair;\n}\n\n/**\n * Generates the error message for missing or expired keys.\n * @param {string} keyAddress - The address of the key\n * @returns {string} - The error message string\n */\nexport function getKeyNotFoundErrorMessage(keyAddress) {\n  return `key bytes have expired. Please re-inject export bundle for address ${keyAddress} into iframe. Note that address is case sensitive.`;\n}\n\n/**\n * Clears an expired key from memory. This is an internal helper function\n * that clears the key without sending messages to the parent frame.\n * @param {string} keyAddress - The address of the key to clear\n */\nfunction clearExpiredKey(keyAddress) {\n  if (inMemoryKeys[keyAddress]) {\n    delete inMemoryKeys[keyAddress];\n  }\n}\n\n/**\n * Clears all expired keys from memory.\n * This function iterates through all keys and removes any that have expired.\n */\nfunction clearAllExpiredKeys() {\n  const now = new Date().getTime();\n  const addressesToRemove = [];\n\n  for (const [address, key] of Object.entries(inMemoryKeys)) {\n    if (key.expiry && now >= key.expiry) {\n      addressesToRemove.push(address);\n    }\n  }\n\n  for (const address of addressesToRemove) {\n    clearExpiredKey(address);\n  }\n}\n\n/**\n * Validates that a key exists and has not expired.\n * Clears the key from memory if it has expired.\n * Throws error if validation fails (and caller will send message up back to parent).\n * @param {Object} key - The key object from inMemoryKeys\n * @param {string} keyAddress - The address of the key\n * @returns {boolean} - True if key is valid, false otherwise\n */\nfunction validateKey(key, keyAddress) {\n  if (!key) {\n    throw new Error(\n      `key bytes not found. Please re-inject export bundle for address ${keyAddress} into iframe. Note that address is case sensitive.`\n    ).toString();\n  }\n\n  const now = new Date().getTime();\n  if (now >= key.expiry) {\n    // Clear all expired keys before processing the signing request\n    clearAllExpiredKeys();\n    throw new Error(getKeyNotFoundErrorMessage(keyAddress)).toString();\n  }\n\n  return true;\n}\n\n/**\n * Gets or creates a Solana keypair from a key object.\n * Uses cached keypair if available, otherwise creates a new one.\n * @param {Object} key - The key object containing format and privateKey\n * @returns {Promise<Keypair>} - The Solana keypair\n */\nasync function getOrCreateKeypair(key) {\n  if (key.keypair) {\n    return key.keypair;\n  }\n\n  if (key.format === \"SOLANA\") {\n    return Keypair.fromSecretKey(TKHQ.base58Decode(key.privateKey));\n  } else {\n    return await createSolanaKeypair(\n      Array.from(TKHQ.uint8arrayFromHexString(key.privateKey))\n    );\n  }\n}\n\n/**\n * DOM Event handlers to power the export flow in standalone mode\n * Instead of receiving events from the parent page, forms trigger them.\n * This is useful for debugging as well.\n */\nfunction addDOMEventListeners() {\n  // only support injected keys, not wallets\n  document.getElementById(\"inject-key\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({\n        type: \"INJECT_KEY_EXPORT_BUNDLE\",\n        value: document.getElementById(\"key-export-bundle\").value,\n        keyFormat: document.getElementById(\"key-export-format\").value,\n        organizationId: document.getElementById(\"key-organization-id\").value,\n      });\n    },\n    false\n  );\n  document.getElementById(\"sign-transaction\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({\n        type: \"SIGN_TRANSACTION\",\n        value: document.getElementById(\"transaction-to-sign\").value,\n      });\n    },\n    false\n  );\n  document.getElementById(\"sign-message\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({\n        type: \"SIGN_MESSAGE\",\n        value: document.getElementById(\"message-to-sign\").value,\n      });\n    },\n    false\n  );\n  document.getElementById(\"reset\").addEventListener(\n    \"click\",\n    async (e) => {\n      e.preventDefault();\n      window.postMessage({ type: \"RESET_EMBEDDED_KEY\" });\n    },\n    false\n  );\n\n  // Add wallet injection support\n  const injectWalletBtn = document.getElementById(\"inject-wallet\");\n  if (injectWalletBtn) {\n    injectWalletBtn.addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"INJECT_WALLET_EXPORT_BUNDLE\",\n          value: document.getElementById(\"wallet-export-bundle\").value,\n          organizationId: document.getElementById(\"wallet-organization-id\")\n            .value,\n        });\n      },\n      false\n    );\n  }\n}\n\n/**\n * Message Event Handlers to process messages from the parent frame\n */\nfunction initMessageEventListener(HpkeDecrypt) {\n  return async function messageEventListener(event) {\n    if (event.data && event.data[\"type\"] == \"INJECT_KEY_EXPORT_BUNDLE\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"keyFormat\"]}, ${event.data[\"organizationId\"]}`\n      );\n      try {\n        await onInjectKeyBundle(\n          event.data[\"requestId\"],\n          event.data[\"organizationId\"],\n          event.data[\"value\"], // bundle\n          event.data[\"keyFormat\"],\n          event.data[\"address\"],\n          HpkeDecrypt\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"INJECT_WALLET_EXPORT_BUNDLE\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"organizationId\"]}`\n      );\n      try {\n        await onInjectKeyBundle(\n          event.data[\"requestId\"],\n          event.data[\"organizationId\"],\n          event.data[\"value\"],\n          undefined, // keyFormat - default to HEXADECIMAL\n          undefined, // address - default to \"default\"\n          HpkeDecrypt\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"APPLY_SETTINGS\") {\n      try {\n        await onApplySettings(event.data[\"value\"], event.data[\"requestId\"]);\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"RESET_EMBEDDED_KEY\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        TKHQ.onResetEmbeddedKey();\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString());\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"SIGN_TRANSACTION\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}`\n      );\n      try {\n        await onSignTransaction(\n          event.data[\"requestId\"],\n          event.data[\"value\"],\n          event.data[\"address\"] // signing address (case sensitive)\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"SIGN_MESSAGE\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}`\n      );\n      try {\n        await onSignMessage(\n          event.data[\"requestId\"],\n          event.data[\"value\"],\n          event.data[\"address\"] // signing address (case sensitive)\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"CLEAR_EMBEDDED_PRIVATE_KEY\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        await onClearEmbeddedPrivateKey(\n          event.data[\"requestId\"],\n          event.data[\"address\"]\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"GET_EMBEDDED_PUBLIC_KEY\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        await onGetPublicEmbeddedKey(event.data[\"requestId\"]);\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"STORE_ENCRYPTED_BUNDLE\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: address=${event.data[\"address\"]}`\n      );\n      try {\n        await onStoreEncryptedBundle(\n          event.data[\"requestId\"],\n          event.data[\"organizationId\"],\n          event.data[\"value\"],\n          event.data[\"keyFormat\"],\n          event.data[\"address\"],\n          HpkeDecrypt\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"INJECT_DECRYPTION_KEY_BUNDLE\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        await onInjectDecryptionKeyBundle(\n          event.data[\"requestId\"],\n          event.data[\"organizationId\"],\n          event.data[\"value\"],\n          HpkeDecrypt\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"BURN_SESSION\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        onBurnSession(event.data[\"requestId\"]);\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"GET_STORED_WALLET_ADDRESSES\") {\n      TKHQ.logMessage(` Received message ${event.data[\"type\"]}`);\n      try {\n        onGetStoredWalletAddresses(\n          event.data[\"requestId\"],\n          event.data[\"organizationId\"]\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n    if (event.data && event.data[\"type\"] == \"CLEAR_STORED_BUNDLES\") {\n      TKHQ.logMessage(\n        ` Received message ${event.data[\"type\"]}: address=${event.data[\"address\"]}`\n      );\n      try {\n        onClearStoredBundles(\n          event.data[\"requestId\"],\n          event.data[\"address\"],\n          event.data[\"organizationId\"]\n        );\n      } catch (e) {\n        TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n      }\n    }\n  };\n}\n\n/**\n * Set up event handlers for both DOM and message events\n * @param {Function} HpkeDecrypt\n */\nexport function initEventHandlers(HpkeDecrypt) {\n  const messageEventListener = initMessageEventListener(HpkeDecrypt);\n\n  // controllers to remove event listeners\n  const messageListenerController = new AbortController();\n  const turnkeyInitController = new AbortController();\n\n  // Add DOM event listeners for standalone mode\n  addDOMEventListeners();\n\n  // Add window message listener for iframe mode\n  window.addEventListener(\"message\", messageEventListener, {\n    capture: false,\n    signal: messageListenerController.signal,\n  });\n\n  // Handle MessageChannel initialization for iframe communication\n  window.addEventListener(\n    \"message\",\n    async function (event) {\n      /**\n       * @turnkey/iframe-stamper >= v2.1.0 is using a MessageChannel to communicate with the parent frame.\n       * The parent frame sends a TURNKEY_INIT_MESSAGE_CHANNEL event with the MessagePort.\n       * If we receive this event, we want to remove the message event listener that was added in the DOMContentLoaded event to avoid processing messages twice.\n       * We persist the MessagePort so we can use it to communicate with the parent window in subsequent calls to TKHQ.sendMessageUp\n       */\n      if (\n        event.data &&\n        event.data[\"type\"] == \"TURNKEY_INIT_MESSAGE_CHANNEL\" &&\n        event.ports?.[0]\n      ) {\n        // remove the message event listener that was added in the DOMContentLoaded event\n        messageListenerController.abort();\n\n        const iframeMessagePort = event.ports[0];\n        iframeMessagePort.onmessage = messageEventListener;\n\n        TKHQ.setParentFrameMessageChannelPort(iframeMessagePort);\n\n        await TKHQ.initEmbeddedKey(event.origin);\n        var embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n        var targetPubBuf = await TKHQ.p256JWKPrivateToPublic(embeddedKeyJwk);\n        var targetPubHex = TKHQ.uint8arrayToHexString(targetPubBuf);\n        document.getElementById(\"embedded-key\").value = targetPubHex;\n\n        TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", targetPubHex);\n\n        // remove the listener for TURNKEY_INIT_MESSAGE_CHANNEL after it's been processed\n        turnkeyInitController.abort();\n      }\n    },\n    { signal: turnkeyInitController.signal }\n  );\n\n  return { messageEventListener };\n}\n/**\n * Expose internal handlers for targeted testing.\n */\nexport {\n  onInjectKeyBundle,\n  onSignTransaction,\n  onSignMessage,\n  onClearEmbeddedPrivateKey,\n  onStoreEncryptedBundle,\n  onInjectDecryptionKeyBundle,\n  onBurnSession,\n  onGetStoredWalletAddresses,\n  onClearStoredBundles,\n};\n","/**\n * Crypto Utilities - Shared\n * Contains HPKE encryption and decryption functions\n */\n\nimport {\n  p256JWKPrivateToPublic,\n  additionalAssociatedData,\n  uint8arrayToHexString,\n} from \"./turnkey-core.js\";\nimport {\n  CipherSuite,\n  DhkemP256HkdfSha256,\n  HkdfSha256,\n  Aes256Gcm,\n} from \"@hpke/core\";\n\n// Pre-compute const (for perf)\nconst TURNKEY_HPKE_INFO = new TextEncoder().encode(\"turnkey_hpke\");\n\n/**\n * Decrypt the ciphertext (ArrayBuffer) given an encapsulation key (ArrayBuffer)\n * and the receivers private key (JSON Web Key).\n */\nexport async function HpkeDecrypt({\n  ciphertextBuf,\n  encappedKeyBuf,\n  receiverPrivJwk,\n}) {\n  const kemContext = new DhkemP256HkdfSha256();\n  var receiverPriv = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPrivJwk },\n    false\n  );\n\n  var suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  var recipientCtx = await suite.createRecipientContext({\n    recipientKey: receiverPriv,\n    enc: encappedKeyBuf,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  var receiverPubBuf = await p256JWKPrivateToPublic(receiverPrivJwk);\n  var aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n  var res;\n  try {\n    res = await recipientCtx.open(ciphertextBuf, aad);\n  } catch (e) {\n    throw new Error(\n      \"unable to decrypt bundle using embedded key. the bundle may be incorrect. failed with error: \" +\n        e.toString()\n    );\n  }\n  return res;\n}\n\n/**\n * Encrypt plaintext using HPKE with the receiver's public key.\n * @param {Object} params\n * @param {Uint8Array} params.plaintextBuf - Plaintext to encrypt\n * @param {JsonWebKey} params.receiverPubJwk - Receiver's public key in JWK format\n * @returns {Promise<string>} JSON stringified encrypted bundle with encappedPublic and ciphertext\n */\nexport async function HpkeEncrypt({ plaintextBuf, receiverPubJwk }) {\n  const kemContext = new DhkemP256HkdfSha256();\n  const receiverPub = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPubJwk },\n    true\n  );\n\n  const suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  const senderCtx = await suite.createSenderContext({\n    recipientPublicKey: receiverPub,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  // Need to import the key again as a JWK to export as a raw key, the format needed to\n  // create the aad with the newly generated raw encapped key.\n  const receiverPubCryptoKey = await crypto.subtle.importKey(\n    \"jwk\",\n    receiverPubJwk,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n  const receiverPubRaw = await crypto.subtle.exportKey(\n    \"raw\",\n    receiverPubCryptoKey\n  );\n  const receiverPubBuf = new Uint8Array(receiverPubRaw);\n\n  const encappedKeyBuf = new Uint8Array(senderCtx.enc);\n\n  const aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n\n  var ciphertextBuf;\n  try {\n    ciphertextBuf = await senderCtx.seal(plaintextBuf, aad);\n  } catch (e) {\n    throw new Error(\"failed to encrypt import bundle: \" + e.toString());\n  }\n\n  const ciphertextHex = uint8arrayToHexString(new Uint8Array(ciphertextBuf));\n  const encappedKeyBufHex = uint8arrayToHexString(encappedKeyBuf);\n  const encryptedBundle = JSON.stringify({\n    encappedPublic: encappedKeyBufHex,\n    ciphertext: ciphertextHex,\n  });\n  return encryptedBundle;\n}\n","// This file is the main entrypoint of the webpack-bundled application\n\n// Import relevant modules\nimport { TKHQ } from \"./turnkey-core.js\";\nimport { initEventHandlers } from \"./event-handlers.js\";\nimport { HpkeDecrypt } from \"@shared/crypto-utils.js\";\nimport \"./styles.css\";\n\n// Surface TKHQ for external access\nwindow.TKHQ = TKHQ;\n\n// Init app\ndocument.addEventListener(\"DOMContentLoaded\", async function () {\n  await TKHQ.initEmbeddedKey();\n  const embeddedKeyJwk = await TKHQ.getEmbeddedKey();\n  const targetPubBuf = await TKHQ.p256JWKPrivateToPublic(embeddedKeyJwk);\n  const targetPubHex = TKHQ.uint8arrayToHexString(targetPubBuf);\n  document.getElementById(\"embedded-key\").value = targetPubHex;\n\n  initEventHandlers(HpkeDecrypt);\n\n  // If styles are saved in local storage, sanitize and apply them\n  const styleSettings = TKHQ.getSettings();\n  if (styleSettings) {\n    TKHQ.applySettings(styleSettings);\n  }\n\n  TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", targetPubHex);\n});\n","module.exports = crypto;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"bundle.\" + {\"291\":\"3eaea85f4001b9cc63c3\",\"825\":\"aaba32bf7338e3d0f1cc\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","\n__webpack_require__.sriHashes = {\"291\":\"*-*-*-CHUNK-SRI-HASH-r3NPGwA4ft5fHgGXhVIptCiDVf06qPa+sxzG6L+8GwPuhn89e/\",\"825\":\"*-*-*-CHUNK-SRI-HASH-mfog3UJdGPOmSk4QZbKxsxHPFZtt298WnZNc1aQ1MCgc6YirFj\"};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkexport_and_sign\"] = self[\"webpackChunkexport_and_sign\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(560)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_toConsumableArray","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_slicedToArray","_arrayWithHoles","next","push","_iterableToArrayLimit","_nonIterableRest","toString","slice","constructor","name","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","TURNKEY_EMBEDDED_KEY","TURNKEY_SETTINGS","TURNKEY_ENCRYPTED_BUNDLES","parentFrameMessageChannelPort","getSubtleCrypto","globalThis","crypto","subtle","window","global","isDoublyIframed","undefined","location","ancestorOrigins","parent","top","_loadQuorumKey","_callee","quorumPublic","_context","Error","importKey","namedCurve","_initEmbeddedKey","_callee3","_context3","getEmbeddedKey","generateTargetKey","setEmbeddedKey","_generateTargetKey","_callee4","p256key","_context4","generateKey","exportKey","privateKey","jwtKey","getItemWithExpiry","JSON","parse","targetKey","setItemWithExpiry","stringify","getEncryptedBundles","data","localStorage","getItem","removeItem","key","ttl","item","expiry","Date","getTime","setItem","itemStr","hasOwnProperty","uint8arrayFromHexString","hexString","hexWithoutPrefix","startsWith","Uint8Array","match","map","h","parseInt","uint8arrayToHexString","buffer","x","padStart","join","additionalAssociatedData","senderPubBuf","receiverPubBuf","s","concat","logMessage","content","messageLog","document","getElementById","message","createElement","innerText","appendChild","p256JWKPrivateToPublic","_x6","_p256JWKPrivateToPublic","_callee6","jwkPrivate","jwkPrivateCopy","publicKey","_context6","_objectSpread","key_ops","base58Encode","bytes","result","digits","carry","j","k","base58Decode","alphabet","decodedBytes","leadingZeros","indexOf","currentByte","reverse","_encodeKey","_callee9","privateKeyBytes","keyFormat","publicKeyBytes","concatenatedBytes","_t2","_context9","set","console","warn","sharedInitEmbeddedKey","SharedTKHQ","validateStyles","styles","element","validStyles","cssValidationRegex","padding","margin","borderWidth","borderStyle","borderColor","borderRadius","fontSize","fontWeight","fontFamily","color","labelColor","backgroundColor","width","height","maxWidth","maxHeight","lineHeight","boxShadow","textAlign","overflowWrap","wordWrap","resize","entries","forEach","_ref3","_ref4","property","styleProperty","trim","styleRegexStr","styleRegex","RegExp","styleValue","loadQuorumKey","_x","_verifyEnclaveSignature","_callee2","enclaveQuorumPublic","publicSignature","signedData","TURNKEY_SIGNERS_ENCLAVES","environment","meta","TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY","encryptionQuorumPublicBuf","quorumKey","publicSignatureBuf","signedDataBuf","_context2","prod","preprod","querySelector","__TURNKEY_SIGNER_ENVIRONMENT__","fromDerSignature","verify","hash","TKHQ","initEmbeddedKey","onResetEmbeddedKey","encodeKey","_x0","_x1","_x10","sendMessageUp","type","requestId","postMessage","setParentFrameMessageChannelPort","port","normalizePadding","byteArray","targetLength","paddingLength","fill","expectedZeroCount","zeroCount","verifyEnclaveSignature","_x2","_x3","getEd25519PublicKey","privateKeyHex","nobleEd25519","sha512Sync","_nobleEd25519$etc","nobleHashes","concatBytes","applySettings","settings","validSettings","settingsObj","keyDivTextarea","_ref","_ref2","style","getSettings","setSettings","parsePrivateKey","error","setEncryptedBundle","address","bundleData","bundles","removeEncryptedBundle","organizationId","keys","clearAllEncryptedBundles","remaining","fromEntries","filter","inMemoryKeys","decryptionKey","textEncoder","TextEncoder","textDecoder","TextDecoder","verifyAndParseBundleData","_verifyAndParseBundleData","_callee8","bundle","bundleObj","_context8","version","dataSignature","decode","encappedPublic","ciphertext","decryptBundle","_x4","_x5","_decryptBundle","HpkeDecrypt","encappedKeyBuf","ciphertextBuf","embeddedKeyJwk","receiverPrivJwk","onGetPublicEmbeddedKey","_onGetPublicEmbeddedKey","_callee0","targetPubBuf","targetPubHex","_context0","loadKeyIntoMemory","_x7","_x8","_x9","_loadKeyIntoMemory","_callee1","keyBytes","keyAddress","cachedKeypair","_context1","subarray","Keypair","fromSecretKey","createSolanaKeypair","_defineProperty","format","keypair","onInjectKeyBundle","_x11","_x12","_x13","_x14","_onInjectKeyBundle","_callee10","_context10","onApplySettings","_x15","_x16","_onApplySettings","_callee11","_context11","onSignTransaction","_x17","_x18","_x19","_onSignTransaction","_callee12","serializedTransaction","transactionWrapper","transactionToSign","signedTransaction","transactionBytes","transaction","signedTransactionHex","_context12","validateKey","getOrCreateKeypair","VersionedTransaction","deserialize","sign","serialize","onSignMessage","_x20","_x21","_x22","_onSignMessage","_callee13","serializedMessage","messageWrapper","messageToSign","messageType","messageBytes","signatureHex","signature","_context13","encode","secretKey","onClearEmbeddedPrivateKey","_x23","_x24","_onClearEmbeddedPrivateKey","_callee14","_context14","onStoreEncryptedBundle","_x25","_x26","_x27","_x28","_x29","_x30","_onStoreEncryptedBundle","_callee15","resolvedKeyFormat","_context15","rawP256PrivateKeyToJwk","_x31","_rawP256PrivateKeyToJwk","_callee16","rawPrivateKeyBytes","pkcs8Prefix","pkcs8","cryptoKey","_context16","onInjectDecryptionKeyBundle","_x32","_x33","_x34","_x35","_onInjectDecryptionKeyBundle","_callee17","keyJwk","storedBundles","decryptedCount","addresses","_i3","_addresses","addr","bundleOrgId","_keyBytes","_t0","_context17","onBurnSession","onGetStoredWalletAddresses","onClearStoredBundles","_x36","_createSolanaKeypair","_callee18","_context18","fromSeed","clearExpiredKey","now","addressesToRemove","_i","_Object$entries","_Object$entries$_i","_i2","_addressesToRemove","clearAllExpiredKeys","getKeyNotFoundErrorMessage","_x37","_getOrCreateKeypair","_callee19","_context19","initEventHandlers","messageEventListener","_messageEventListener","event","_t","_t3","_t4","_t5","_t6","_t7","_t8","_t9","_x43","initMessageEventListener","messageListenerController","AbortController","turnkeyInitController","addEventListener","_ref5","preventDefault","_x38","_ref6","_x39","_ref7","_x40","_ref8","_x41","injectWalletBtn","_ref9","_callee5","_context5","_x42","addDOMEventListeners","capture","signal","_ref0","_callee7","_event$ports","iframeMessagePort","_context7","ports","abort","onmessage","origin","_x44","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","TURNKEY_HPKE_INFO","_HpkeDecrypt","kemContext","receiverPriv","suite","recipientCtx","aad","res","DhkemP256HkdfSha256","CipherSuite","kem","kdf","HkdfSha256","aead","Aes256Gcm","createRecipientContext","recipientKey","enc","info","open","styleSettings","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","splice","getter","__esModule","obj","mode","this","ns","def","current","getOwnPropertyNames","definition","get","chunkId","all","reduce","promises","miniCssF","g","Function","prop","url","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","nc","setAttribute","src","crossOrigin","integrity","sriHashes","onScriptComplete","prev","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","target","head","nmd","paths","children","installedChunks","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}