<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <meta charset="utf-8" />
    <title>Turnkey Export</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="turnkey-signer-environment"
      content="__TURNKEY_SIGNER_ENVIRONMENT__"
    />
  </head>

  <body>
    <h2>Export Key Material</h2>
    <p>
      <em
        >This public key will be sent along with a private key ID or wallet ID
        inside of a new <code>EXPORT_PRIVATE_KEY</code> or
        <code>EXPORT_WALLET</code> activity</em
      >
    </p>
    <form>
      <label>Embedded key</label>
      <input type="text" name="embedded-key" id="embedded-key" disabled />
      <button id="reset">Reset Key</button>
    </form>
    <br />
    <br />
    <br />
    <h2>Inject Key Export Bundle</h2>
    <p>
      <em
        >The export bundle comes from the parent page and is composed of a
        public key and an encrypted payload. The payload is encrypted to this
        document's embedded key (stored in local storage and displayed above).
        The scheme relies on
        <a target="_blank" href="https://datatracker.ietf.org/doc/rfc9180/"
          >HPKE (RFC 9180)</a
        ></em
      >.
    </p>
    <form>
      <label>Bundle</label>
      <input type="text" name="key-export-bundle" id="key-export-bundle" />
      <button id="inject-key">Inject Bundle</button>
      <br />
      <label>Key Format</label>
      <select id="key-export-format" name="key-export-format">
        <option value="HEXADECIMAL">Hexadecimal (Default)</option>
        <option value="SOLANA">Solana</option>
      </select>
      <br />
      <label>Organization Id</label>
      <input type="text" name="key-organization-id" id="key-organization-id" />
    </form>
    <br />
    <br />
    <h2>Inject Wallet Export Bundle</h2>
    <p>
      <em
        >The export bundle comes from the parent page and is composed of a
        public key and an encrypted payload. The payload is encrypted to this
        document's embedded key (stored in local storage and displayed above).
        The scheme relies on
        <a target="_blank" href="https://datatracker.ietf.org/doc/rfc9180/"
          >HPKE (RFC 9180)</a
        ></em
      >.
    </p>
    <form>
      <label>Bundle</label>
      <input
        type="text"
        name="wallet-export-bundle"
        id="wallet-export-bundle"
      />
      <button id="inject-wallet">Inject Bundle</button>
      <br />
      <label>Organization Id</label>
      <input
        type="text"
        name="wallet-organization-id"
        id="wallet-organization-id"
      />
    </form>
    <br />
    <br />
    <h2>Sign Transaction</h2>
    <p>
      <em>Input a serialized transaction to sign.</em>
    </p>
    <form>
      <label>Transaction</label>
      <input type="text" name="transaction-to-sign" id="transaction-to-sign" />
      <button id="sign-transaction">Sign</button>
    </form>
    <br />
    <br />
    <h2>Sign Message</h2>
    <p>
      <em>Input a serialized message to sign.</em>
    </p>
    <form>
      <label>Message</label>
      <input type="text" name="message-to-sign" id="message-to-sign" />
      <button id="sign-message">Sign</button>
    </form>
    <br />
    <br />
    <h2>Message log</h2>
    <p>
      <em
        >Below we display a log of the messages sent / received. The forms above
        send messages, and the code communicates results by sending events via
        the <code>postMessage</code> API.</em
      >
    </p>
    <div id="message-log"></div>
    <div id="key-div"></div>
  </body>
</html>
