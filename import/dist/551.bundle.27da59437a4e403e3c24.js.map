{"version":3,"file":"551.bundle.27da59437a4e403e3c24.js","mappings":"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","sources":["webpack://import/../shared/turnkey-core.js","webpack://import/./src/turnkey-core.js","webpack://import/../shared/crypto-utils.js"],"sourcesContent":["import { bech32 } from \"bech32\";\n\n/**\n * Turnkey Core Module - Shared\n * Contains all the core cryptographic and utility functions shared across frames\n */\n\n/** constants for LocalStorage */\nconst TURNKEY_EMBEDDED_KEY = \"TURNKEY_EMBEDDED_KEY\";\nconst TURNKEY_TARGET_EMBEDDED_KEY = \"TURNKEY_TARGET_EMBEDDED_KEY\";\nconst TURNKEY_SETTINGS = \"TURNKEY_SETTINGS\";\nconst TURNKEY_ENCRYPTED_BUNDLES = \"TURNKEY_ENCRYPTED_BUNDLES\";\n/** 48 hours in milliseconds */\nconst TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS = 1000 * 60 * 60 * 48;\nconst TURNKEY_EMBEDDED_KEY_ORIGIN = \"TURNKEY_EMBEDDED_KEY_ORIGIN\";\n\nlet parentFrameMessageChannelPort = null;\nvar cryptoProviderOverride = null;\n\n/*\n * Returns a reference to the WebCrypto subtle interface regardless of the host environment.\n */\nfunction getSubtleCrypto() {\n  if (cryptoProviderOverride && cryptoProviderOverride.subtle) {\n    return cryptoProviderOverride.subtle;\n  }\n  if (\n    typeof globalThis !== \"undefined\" &&\n    globalThis.crypto &&\n    globalThis.crypto.subtle\n  ) {\n    return globalThis.crypto.subtle;\n  }\n  if (typeof window !== \"undefined\" && window.crypto && window.crypto.subtle) {\n    return window.crypto.subtle;\n  }\n  if (typeof global !== \"undefined\" && global.crypto && global.crypto.subtle) {\n    return global.crypto.subtle;\n  }\n  if (typeof crypto !== \"undefined\" && crypto.subtle) {\n    return crypto.subtle;\n  }\n\n  return null;\n}\n\n/*\n * Allows tests to explicitly set the crypto provider (e.g. crypto.webcrypto) when the runtime\n * environment does not expose one on the global/window objects.\n */\nfunction setCryptoProvider(cryptoProvider) {\n  cryptoProviderOverride = cryptoProvider || null;\n}\n\n/* Security functions */\n\nfunction isDoublyIframed() {\n  if (window.location.ancestorOrigins !== undefined) {\n    // Does not exist in IE and firefox.\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Location/ancestorOrigins for how this works\n    return window.location.ancestorOrigins.length > 1;\n  } else {\n    return window.parent !== window.top;\n  }\n}\n\n/*\n * Loads the quorum public key as a CryptoKey.\n */\nasync function loadQuorumKey(quorumPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.importKey(\n    \"raw\",\n    quorumPublic,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"verify\"]\n  );\n}\n\n/*\n * Load a key to encrypt to as a CryptoKey and return it as a JSON Web Key.\n */\nasync function loadTargetKey(targetPublic) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const targetKey = await subtle.importKey(\n    \"raw\",\n    targetPublic,\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n\n  return await subtle.exportKey(\"jwk\", targetKey);\n}\n\n/**\n * Creates a new public/private key pair and persists it in localStorage\n */\nasync function initEmbeddedKey() {\n  if (isDoublyIframed()) {\n    throw new Error(\"Doubly iframed\");\n  }\n  const retrievedKey = await getEmbeddedKey();\n  if (retrievedKey === null) {\n    const targetKey = await generateTargetKey();\n    setEmbeddedKey(targetKey);\n  }\n  // Nothing to do, key is correctly initialized!\n}\n\n/*\n * Generate a key to encrypt to and export it as a JSON Web Key.\n */\nasync function generateTargetKey() {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  const p256key = await subtle.generateKey(\n    {\n      name: \"ECDH\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    [\"deriveBits\"]\n  );\n\n  return await subtle.exportKey(\"jwk\", p256key.privateKey);\n}\n\n/**\n * Gets the current embedded private key JWK. Returns `null` if not found.\n */\nfunction getEmbeddedKey() {\n  const jwtKey = getItemWithExpiry(TURNKEY_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the embedded private key JWK with the default expiration time.\n * @param {JsonWebKey} targetKey\n */\nfunction setEmbeddedKey(targetKey) {\n  setItemWithExpiry(\n    TURNKEY_EMBEDDED_KEY,\n    JSON.stringify(targetKey),\n    TURNKEY_EMBEDDED_KEY_TTL_IN_MILLIS\n  );\n}\n\n/**\n * Gets the current target embedded private key JWK. Returns `null` if not found.\n */\nfunction getTargetEmbeddedKey() {\n  const jwtKey = window.localStorage.getItem(TURNKEY_TARGET_EMBEDDED_KEY);\n  return jwtKey ? JSON.parse(jwtKey) : null;\n}\n\n/**\n * Sets the target embedded public key JWK.\n * @param {JsonWebKey} targetKey\n */\nfunction setTargetEmbeddedKey(targetKey) {\n  window.localStorage.setItem(\n    TURNKEY_TARGET_EMBEDDED_KEY,\n    JSON.stringify(targetKey)\n  );\n}\n\n/**\n * Resets the current embedded private key JWK.\n */\nfunction onResetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY);\n  window.localStorage.removeItem(TURNKEY_EMBEDDED_KEY_ORIGIN);\n}\n\n/**\n * Resets the current target embedded private key JWK.\n */\nfunction resetTargetEmbeddedKey() {\n  window.localStorage.removeItem(TURNKEY_TARGET_EMBEDDED_KEY);\n}\n\nfunction setParentFrameMessageChannelPort(port) {\n  parentFrameMessageChannelPort = port;\n}\n\n/**\n * Gets the current settings.\n */\nfunction getSettings() {\n  const settings = window.localStorage.getItem(TURNKEY_SETTINGS);\n  return settings ? JSON.parse(settings) : null;\n}\n\n/**\n * Sets the settings object.\n * @param {Object} settings\n */\nfunction setSettings(settings) {\n  window.localStorage.setItem(TURNKEY_SETTINGS, JSON.stringify(settings));\n}\n\n/**\n * Gets all encrypted bundles from localStorage.\n * Returns an object mapping address -> {encappedPublic, ciphertext, organizationId, keyFormat}\n * or null if no bundles are stored.\n * @returns {Object|null}\n */\nfunction getEncryptedBundles() {\n  const data = window.localStorage.getItem(TURNKEY_ENCRYPTED_BUNDLES);\n  return data ? JSON.parse(data) : null;\n}\n\n/**\n * Stores or updates an encrypted bundle for a given address.\n * @param {string} address - The wallet address\n * @param {Object} bundleData - {encappedPublic, ciphertext, organizationId, keyFormat}\n */\nfunction setEncryptedBundle(address, bundleData) {\n  const bundles = getEncryptedBundles() || {};\n  bundles[address] = bundleData;\n  window.localStorage.setItem(\n    TURNKEY_ENCRYPTED_BUNDLES,\n    JSON.stringify(bundles)\n  );\n}\n\n/**\n * Removes a single encrypted bundle by address.\n * @param {string} address - The wallet address to remove\n */\nfunction removeEncryptedBundle(address) {\n  const bundles = getEncryptedBundles();\n  if (bundles && bundles[address]) {\n    delete bundles[address];\n    if (Object.keys(bundles).length === 0) {\n      window.localStorage.removeItem(TURNKEY_ENCRYPTED_BUNDLES);\n    } else {\n      window.localStorage.setItem(\n        TURNKEY_ENCRYPTED_BUNDLES,\n        JSON.stringify(bundles)\n      );\n    }\n  }\n}\n\n/**\n * Removes all encrypted bundles from localStorage.\n */\nfunction clearAllEncryptedBundles() {\n  window.localStorage.removeItem(TURNKEY_ENCRYPTED_BUNDLES);\n}\n\n/**\n * Set an item in localStorage with an expiration time\n * @param {string} key\n * @param {string} value\n * @param {number} ttl expiration time in milliseconds\n */\nfunction setItemWithExpiry(key, value, ttl) {\n  const now = new Date();\n  const item = {\n    value: value,\n    expiry: now.getTime() + ttl,\n  };\n  window.localStorage.setItem(key, JSON.stringify(item));\n}\n\n/**\n * Get an item from localStorage. Returns `null` and\n * removes the item from localStorage if expired or\n * expiry time is missing.\n * @param {string} key\n */\nfunction getItemWithExpiry(key) {\n  const itemStr = window.localStorage.getItem(key);\n  if (!itemStr) {\n    return null;\n  }\n  const item = JSON.parse(itemStr);\n  if (\n    !Object.prototype.hasOwnProperty.call(item, \"expiry\") ||\n    !Object.prototype.hasOwnProperty.call(item, \"value\")\n  ) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  const now = new Date();\n  if (now.getTime() > item.expiry) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n  return item.value;\n}\n\n/**\n * Takes a hex string (e.g. \"e4567ab\" or \"0xe4567ab\") and returns an array buffer (Uint8Array)\n * @param {string} hexString - Hex string with or without \"0x\" prefix\n * @returns {Uint8Array}\n */\nfunction uint8arrayFromHexString(hexString) {\n  if (!hexString || typeof hexString !== \"string\") {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n\n  // Remove 0x prefix if present\n  const hexWithoutPrefix =\n    hexString.startsWith(\"0x\") || hexString.startsWith(\"0X\")\n      ? hexString.slice(2)\n      : hexString;\n\n  var hexRegex = /^[0-9A-Fa-f]+$/;\n  if (hexWithoutPrefix.length % 2 != 0 || !hexRegex.test(hexWithoutPrefix)) {\n    throw new Error(\"cannot create uint8array from invalid hex string\");\n  }\n  return new Uint8Array(\n    hexWithoutPrefix.match(/../g).map((h) => parseInt(h, 16))\n  );\n}\n\n/**\n * Takes a Uint8Array and returns a hex string\n * @param {Uint8Array} buffer\n * @return {string}\n */\nfunction uint8arrayToHexString(buffer) {\n  return [...buffer].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n}\n\n/**\n * Function to normalize padding of byte array with 0's to a target length\n */\nfunction normalizePadding(byteArray, targetLength) {\n  const paddingLength = targetLength - byteArray.length;\n\n  // Add leading 0's to array\n  if (paddingLength > 0) {\n    const padding = new Uint8Array(paddingLength).fill(0);\n    return new Uint8Array([...padding, ...byteArray]);\n  }\n\n  // Remove leading 0's from array\n  if (paddingLength < 0) {\n    const expectedZeroCount = paddingLength * -1;\n    let zeroCount = 0;\n    for (let i = 0; i < expectedZeroCount && i < byteArray.length; i++) {\n      if (byteArray[i] === 0) {\n        zeroCount++;\n      }\n    }\n    // Check if the number of zeros found equals the number of zeroes expected\n    if (zeroCount !== expectedZeroCount) {\n      throw new Error(\n        `invalid number of starting zeroes. Expected number of zeroes: ${expectedZeroCount}. Found: ${zeroCount}.`\n      );\n    }\n    return byteArray.slice(expectedZeroCount, expectedZeroCount + targetLength);\n  }\n  return byteArray;\n}\n\n/**\n * Additional Associated Data (AAD) in the format dictated by the enclave_encrypt crate.\n */\nfunction additionalAssociatedData(senderPubBuf, receiverPubBuf) {\n  const s = Array.from(new Uint8Array(senderPubBuf));\n  const r = Array.from(new Uint8Array(receiverPubBuf));\n  return new Uint8Array([...s, ...r]);\n}\n\n/**\n * Converts an ASN.1 DER-encoded ECDSA signature to the raw format that WebCrypto uses.\n */\nfunction fromDerSignature(derSignature) {\n  const derSignatureBuf = uint8arrayFromHexString(derSignature);\n\n  // Check and skip the sequence tag (0x30)\n  let index = 2;\n\n  // Parse 'r' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for r\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const rLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const r = derSignatureBuf.slice(index, index + rLength);\n  index += rLength; // Move to the start of s\n\n  // Parse 's' and check for integer tag (0x02)\n  if (derSignatureBuf[index] !== 0x02) {\n    throw new Error(\n      \"failed to convert DER-encoded signature: invalid tag for s\"\n    );\n  }\n  index++; // Move past the INTEGER tag\n  const sLength = derSignatureBuf[index];\n  index++; // Move past the length byte\n  const s = derSignatureBuf.slice(index, index + sLength);\n\n  // Normalize 'r' and 's' to 32 bytes each\n  const rPadded = normalizePadding(r, 32);\n  const sPadded = normalizePadding(s, 32);\n\n  // Concatenate and return the raw signature\n  return new Uint8Array([...rPadded, ...sPadded]);\n}\n\n/**\n * Function to verify enclave signature on import bundle received from the server.\n * @param {string} enclaveQuorumPublic uncompressed public key for the quorum key which produced the signature\n * @param {string} publicSignature signature bytes encoded as a hexadecimal string\n * @param {string} signedData signed bytes encoded as a hexadecimal string. This could be public key bytes directly, or JSON-encoded bytes\n */\nasync function verifyEnclaveSignature(\n  enclaveQuorumPublic,\n  publicSignature,\n  signedData\n) {\n  /** Turnkey Signer enclave's public keys */\n  const TURNKEY_SIGNERS_ENCLAVES = {\n    prod: \"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\",\n    preprod:\n      \"04f3422b8afbe425d6ece77b8d2469954715a2ff273ab7ac89f1ed70e0a9325eaa1698b4351fd1b23734e65c0b6a86b62dd49d70b37c94606aac402cbd84353212\",\n  };\n\n  // Use window.__TURNKEY_SIGNER_ENVIRONMENT__ if available (for testing), otherwise use the webpack replacement\n  const environment =\n    (typeof window !== \"undefined\" && window.__TURNKEY_SIGNER_ENVIRONMENT__) ||\n    \"__TURNKEY_SIGNER_ENVIRONMENT__\";\n  const TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY =\n    TURNKEY_SIGNERS_ENCLAVES[environment];\n\n  if (TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY === undefined) {\n    throw new Error(\n      `Configuration error: TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY is undefined`\n    );\n  }\n\n  // todo(olivia): throw error if enclave quorum public is null once server changes are deployed\n  if (enclaveQuorumPublic) {\n    if (enclaveQuorumPublic !== TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY) {\n      throw new Error(\n        `enclave quorum public keys from client and bundle do not match. Client: ${TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY}. Bundle: ${enclaveQuorumPublic}.`\n      );\n    }\n  }\n\n  const encryptionQuorumPublicBuf = new Uint8Array(\n    uint8arrayFromHexString(TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY)\n  );\n  const quorumKey = await loadQuorumKey(encryptionQuorumPublicBuf);\n  if (!quorumKey) {\n    throw new Error(\"failed to load quorum key\");\n  }\n\n  // The ECDSA signature is ASN.1 DER encoded but WebCrypto uses raw format\n  const publicSignatureBuf = fromDerSignature(publicSignature);\n  const signedDataBuf = uint8arrayFromHexString(signedData);\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  return await subtle.verify(\n    { name: \"ECDSA\", hash: \"SHA-256\" },\n    quorumKey,\n    publicSignatureBuf,\n    signedDataBuf\n  );\n}\n\n/**\n * Function to send a message.\n *\n * If this page is embedded as an iframe we'll send a postMessage\n * in one of two ways depending on the version of @turnkey/iframe-stamper:\n *   1. newer versions (>=v2.1.0) pass a MessageChannel MessagePort from the parent frame for postMessages.\n *   2. older versions (<v2.1.0) still use the contentWindow so we will postMessage to the window.parent for backwards compatibility.\n *\n * Otherwise we'll display it in the DOM.\n * @param type message type. Can be \"PUBLIC_KEY_CREATED\" or \"BUNDLE_INJECTED\"\n * @param value message value\n * @param requestId serves as an idempotency key to match incoming requests. Backwards compatible: if not provided, it isn't passed in.\n */\nfunction sendMessageUp(type, value, requestId) {\n  const message = {\n    type: type,\n    value: value,\n  };\n\n  // Only include requestId if it was provided\n  if (requestId) {\n    message.requestId = requestId;\n  }\n\n  if (parentFrameMessageChannelPort) {\n    parentFrameMessageChannelPort.postMessage(message);\n  } else if (window.parent !== window) {\n    window.parent.postMessage(\n      {\n        type: type,\n        value: value,\n      },\n      \"*\"\n    );\n  }\n  logMessage(`⬆️ Sent message ${type}: ${value}`);\n}\n\n/**\n * Function to log a message and persist it in the page's DOM.\n */\nfunction logMessage(content) {\n  const messageLog = document.getElementById(\"message-log\");\n  if (messageLog) {\n    const message = document.createElement(\"p\");\n    message.innerText = content;\n    messageLog.appendChild(message);\n  }\n}\n\n/**\n * Convert a JSON Web Key private key to a public key and export the public\n * key in raw format.\n * @return {Uint8array}\n */\nasync function p256JWKPrivateToPublic(jwkPrivate) {\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n  // make a copy so we don't modify the underlying object\n  const jwkPrivateCopy = { ...jwkPrivate };\n  // change jwk so it will be imported as a public key\n  delete jwkPrivateCopy.d;\n  jwkPrivateCopy.key_ops = [\"verify\"];\n\n  const publicKey = await subtle.importKey(\n    \"jwk\",\n    jwkPrivateCopy,\n    { name: \"ECDSA\", namedCurve: \"P-256\" },\n    true,\n    [\"verify\"]\n  );\n  const buffer = await subtle.exportKey(\"raw\", publicKey);\n  return new Uint8Array(buffer);\n}\n\n/**\n * Encodes a buffer into a base58-encoded string.\n * @param {Uint8Array} bytes The buffer to encode.\n * @return {string} The base58-encoded string.\n */\nfunction base58Encode(bytes) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  const alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  let result = \"\";\n  let digits = [0];\n  for (let i = 0; i < bytes.length; i++) {\n    let carry = bytes[i];\n    for (let j = 0; j < digits.length; ++j) {\n      carry += digits[j] << 8;\n      digits[j] = carry % 58;\n      carry = (carry / 58) | 0;\n    }\n\n    while (carry > 0) {\n      digits.push(carry % 58);\n      carry = (carry / 58) | 0;\n    }\n  }\n  // Convert digits to a base58 string\n  for (let k = 0; k < digits.length; k++) {\n    result = alphabet[digits[k]] + result;\n  }\n\n  // Add '1' for each leading 0 byte\n  for (let i = 0; bytes[i] === 0 && i < bytes.length - 1; i++) {\n    result = \"1\" + result;\n  }\n  return result;\n}\n\n/**\n * Decodes a base58-encoded string into a buffer\n * This function throws an error when the string contains invalid characters.\n * @param {string} s The base58-encoded string.\n * @return {Uint8Array} The decoded buffer.\n */\nfunction base58Decode(s) {\n  // See https://en.bitcoin.it/wiki/Base58Check_encoding\n  var alphabet = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\n  var decodedBytes = [];\n  var leadingZeros = [];\n  for (var i = 0; i < s.length; i++) {\n    if (alphabet.indexOf(s[i]) === -1) {\n      throw new Error(`cannot base58-decode: ${s[i]} isn't a valid character`);\n    }\n    var carry = alphabet.indexOf(s[i]);\n\n    // If the current base58 digit is 0, append a 0 byte.\n    // \"i == leadingZeros.length\" can only be true if we have not seen non-zero bytes so far.\n    // If we had seen a non-zero byte, carry wouldn't be 0, and i would be strictly more than `leadingZeros.length`\n    if (carry == 0 && i === leadingZeros.length) {\n      leadingZeros.push(0);\n    }\n\n    var j = 0;\n    while (j < decodedBytes.length || carry > 0) {\n      var currentByte = decodedBytes[j];\n\n      // shift the current byte 58 units and add the carry amount\n      // (or just add the carry amount if this is a new byte -- undefined case)\n      if (currentByte === undefined) {\n        currentByte = carry;\n      } else {\n        currentByte = currentByte * 58 + carry;\n      }\n\n      // find the new carry amount (1-byte shift of current byte value)\n      carry = currentByte >> 8;\n      // reset the current byte to the remainder (the carry amount will pass on the overflow)\n      decodedBytes[j] = currentByte % 256;\n      j++;\n    }\n  }\n\n  var result = leadingZeros.concat(decodedBytes.reverse());\n  return new Uint8Array(result);\n}\n\n/**\n * Decodes a base58check-encoded string and verifies the checksum.\n * Base58Check encoding includes a 4-byte checksum at the end to detect errors.\n * The checksum is the first 4 bytes of SHA256(SHA256(payload)).\n * This function throws an error if the checksum is invalid.\n * @param {string} s The base58check-encoded string.\n * @return {Promise<Uint8Array>} The decoded payload (without checksum).\n */\nasync function base58CheckDecode(s) {\n  const decoded = base58Decode(s);\n\n  if (decoded.length < 5) {\n    throw new Error(\n      `invalid base58check length: expected at least 5 bytes, got ${decoded.length}`\n    );\n  }\n\n  const payload = decoded.subarray(0, decoded.length - 4);\n  const checksum = decoded.subarray(decoded.length - 4);\n\n  const subtle = getSubtleCrypto();\n  if (!subtle) {\n    throw new Error(\"WebCrypto subtle API is unavailable\");\n  }\n\n  // Compute double SHA256 hash\n  const hash1Buf = await subtle.digest(\"SHA-256\", payload);\n  const hash1 = new Uint8Array(hash1Buf);\n  const hash2Buf = await subtle.digest(\"SHA-256\", hash1);\n  const hash2 = new Uint8Array(hash2Buf);\n  const computedChecksum = hash2.subarray(0, 4);\n\n  // Verify checksum\n  const mismatch =\n    (checksum[0] ^ computedChecksum[0]) |\n    (checksum[1] ^ computedChecksum[1]) |\n    (checksum[2] ^ computedChecksum[2]) |\n    (checksum[3] ^ computedChecksum[3]);\n  if (mismatch !== 0) {\n    throw new Error(\"invalid base58check checksum\");\n  }\n\n  return payload;\n}\n\n/**\n * Returns private key bytes from a private key, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {string} privateKey\n * @param {string} keyFormat Can be \"HEXADECIMAL\", \"SUI_BECH32\", \"BITCOIN_MAINNET_WIF\", \"BITCOIN_TESTNET_WIF\" or \"SOLANA\"\n * @return {Promise<Uint8Array>}\n */\nasync function decodeKey(privateKey, keyFormat) {\n  switch (keyFormat) {\n    case \"SOLANA\": {\n      const decodedKeyBytes = base58Decode(privateKey);\n      if (decodedKeyBytes.length !== 64) {\n        throw new Error(\n          `invalid key length. Expected 64 bytes. Got ${decodedKeyBytes.length}.`\n        );\n      }\n      return decodedKeyBytes.subarray(0, 32);\n    }\n    case \"HEXADECIMAL\":\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n    case \"BITCOIN_MAINNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0x80 = mainnet\n      if (version !== 0x80) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0x80 (mainnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"BITCOIN_TESTNET_WIF\": {\n      const payload = await base58CheckDecode(privateKey);\n\n      const version = payload[0];\n      const keyAndFlags = payload.subarray(1);\n\n      // 0xEF = testnet\n      if (version !== 0xef) {\n        throw new Error(\n          `invalid WIF version byte: ${version}. Expected 0xEF (testnet).`\n        );\n      }\n\n      // Check for common mistake: uncompressed keys\n      if (keyAndFlags.length === 32) {\n        throw new Error(\"uncompressed WIF keys not supported\");\n      }\n\n      // Validate compressed format\n      if (keyAndFlags.length !== 33 || keyAndFlags[32] !== 0x01) {\n        throw new Error(\"invalid WIF format: expected compressed private key\");\n      }\n\n      return keyAndFlags.subarray(0, 32);\n    }\n    case \"SUI_BECH32\": {\n      const { prefix, words } = bech32.decode(privateKey);\n\n      if (prefix !== \"suiprivkey\") {\n        throw new Error(\n          `invalid SUI private key human-readable part (HRP): expected \"suiprivkey\"`\n        );\n      }\n\n      const bytes = bech32.fromWords(words);\n      if (bytes.length !== 33) {\n        throw new Error(\n          `invalid SUI private key length: expected 33 bytes, got ${bytes.length}`\n        );\n      }\n\n      const schemeFlag = bytes[0];\n      const privkey = bytes.slice(1);\n\n      // schemeFlag = 0 is Ed25519; We currently only support Ed25519 keys for SUI.\n      if (schemeFlag !== 0) {\n        throw new Error(\n          `invalid SUI private key scheme flag: expected 0 (Ed25519). Turnkey only supports Ed25519 keys for SUI.`\n        );\n      }\n\n      return new Uint8Array(privkey);\n    }\n    default:\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      if (privateKey.startsWith(\"0x\")) {\n        return uint8arrayFromHexString(privateKey.slice(2));\n      }\n      return uint8arrayFromHexString(privateKey);\n  }\n}\n\n/**\n * Returns a private key from private key bytes, represented in\n * the encoding and format specified by `keyFormat`. Defaults to\n * hex-encoding if `keyFormat` isn't passed.\n * @param {Uint8Array} privateKeyBytes\n * @param {string} keyFormat Can be \"HEXADECIMAL\" or \"SOLANA\"\n */\nasync function encodeKey(privateKeyBytes, keyFormat, publicKeyBytes) {\n  switch (keyFormat) {\n    case \"SOLANA\":\n      if (!publicKeyBytes) {\n        throw new Error(\"public key must be specified for SOLANA key format\");\n      }\n      if (privateKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid private key length. Expected 32 bytes. Got ${privateKeyBytes.length}.`\n        );\n      }\n      if (publicKeyBytes.length !== 32) {\n        throw new Error(\n          `invalid public key length. Expected 32 bytes. Got ${publicKeyBytes.length}.`\n        );\n      }\n      {\n        const concatenatedBytes = new Uint8Array(64);\n        concatenatedBytes.set(privateKeyBytes, 0);\n        concatenatedBytes.set(publicKeyBytes, 32);\n        return base58Encode(concatenatedBytes);\n      }\n    case \"HEXADECIMAL\":\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n    default:\n      // keeping console.warn for debugging purposes.\n      // eslint-disable-next-line no-console\n      console.warn(\n        `invalid key format: ${keyFormat}. Defaulting to HEXADECIMAL.`\n      );\n      return \"0x\" + uint8arrayToHexString(privateKeyBytes);\n  }\n}\n\n// Helper to parse a private key into a Solana base58 private key.\n// To be used if a wallet account is exported without the `SOLANA` address format.\nfunction parsePrivateKey(privateKey) {\n  if (Array.isArray(privateKey)) {\n    return new Uint8Array(privateKey);\n  }\n\n  if (typeof privateKey === \"string\") {\n    // Remove 0x prefix if present\n    if (privateKey.startsWith(\"0x\")) {\n      privateKey = privateKey.slice(2);\n    }\n\n    // Check if it's hex-formatted correctly (i.e. 64 hex chars)\n    if (privateKey.length === 64 && /^[0-9a-fA-F]+$/.test(privateKey)) {\n      return uint8arrayFromHexString(privateKey);\n    }\n\n    // Otherwise assume it's base58 format (for Solana)\n    try {\n      return base58Decode(privateKey);\n    } catch (error) {\n      throw new Error(\n        \"Invalid private key format. Use hex (64 chars) or base58 format.\"\n      );\n    }\n  }\n\n  throw new Error(\"Private key must be a string (hex/base58) or number array\");\n}\n\n/**\n * Function to validate and sanitize the styles object using the accepted map of style keys and values (as regular expressions).\n * Any invalid style throws an error. Returns an object of valid styles.\n * @param {Object} styles\n * @param {HTMLElement} element - Optional element parameter (for import frame)\n * @return {Object}\n */\nfunction validateStyles(styles, element) {\n  const validStyles = {};\n\n  const cssValidationRegex = {\n    padding: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    margin: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    borderWidth: \"^(\\\\d+(px|em|rem) ?){1,4}$\",\n    borderStyle:\n      \"^(none|solid|dashed|dotted|double|groove|ridge|inset|outset)$\",\n    borderColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    borderRadius: \"^(\\\\d+(px|em|%|rem) ?){1,4}$\",\n    fontSize: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax))$\",\n    fontWeight: \"^(normal|bold|bolder|lighter|\\\\d{3})$\",\n    fontFamily: '^[^\";<>]*$', // checks for the absence of some characters that could lead to CSS/HTML injection\n    color:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    labelColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    backgroundColor:\n      \"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)|hsla?\\\\(\\\\d{1,3}, \\\\d{1,3}%, \\\\d{1,3}%(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\))$\",\n    width: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    height: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$\",\n    maxWidth: \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    maxHeight:\n      \"^(\\\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$\",\n    lineHeight:\n      \"^(\\\\d+(\\\\.\\\\d+)?(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|normal)$\",\n    boxShadow:\n      \"^(none|(\\\\d+(px|em|rem) ?){2,4} (#[0-9a-f]{3,8}|rgba?\\\\(\\\\d{1,3}, \\\\d{1,3}, \\\\d{1,3}(, \\\\d?(\\\\.\\\\d{1,2})?)?\\\\)) ?(inset)?)$\",\n    textAlign: \"^(left|right|center|justify|initial|inherit)$\",\n    overflowWrap: \"^(normal|break-word|anywhere)$\",\n    wordWrap: \"^(normal|break-word)$\",\n    resize: \"^(none|both|horizontal|vertical|block|inline)$\",\n  };\n\n  Object.entries(styles).forEach(([property, value]) => {\n    const styleProperty = property.trim();\n    if (styleProperty.length === 0) {\n      throw new Error(\"css style property cannot be empty\");\n    }\n    const styleRegexStr = cssValidationRegex[styleProperty];\n    if (!styleRegexStr) {\n      throw new Error(\n        `invalid or unsupported css style property: \"${styleProperty}\"`\n      );\n    }\n    const styleRegex = new RegExp(styleRegexStr);\n    const styleValue = value.trim();\n    if (styleValue.length == 0) {\n      throw new Error(`css style for \"${styleProperty}\" is empty`);\n    }\n    const isValidStyle = styleRegex.test(styleValue);\n    if (!isValidStyle) {\n      throw new Error(\n        `invalid css style value for property \"${styleProperty}\"`\n      );\n    }\n    validStyles[styleProperty] = styleValue;\n  });\n\n  return validStyles;\n}\n\n// Export all shared functions\nexport {\n  setCryptoProvider,\n  getSubtleCrypto,\n  isDoublyIframed,\n  loadQuorumKey,\n  loadTargetKey,\n  initEmbeddedKey,\n  generateTargetKey,\n  getEmbeddedKey,\n  setEmbeddedKey,\n  getTargetEmbeddedKey,\n  setTargetEmbeddedKey,\n  onResetEmbeddedKey,\n  resetTargetEmbeddedKey,\n  setParentFrameMessageChannelPort,\n  getSettings,\n  setSettings,\n  setItemWithExpiry,\n  getItemWithExpiry,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  normalizePadding,\n  additionalAssociatedData,\n  fromDerSignature,\n  verifyEnclaveSignature,\n  sendMessageUp,\n  logMessage,\n  p256JWKPrivateToPublic,\n  base58Encode,\n  base58Decode,\n  base58CheckDecode,\n  decodeKey,\n  encodeKey,\n  parsePrivateKey,\n  validateStyles,\n  getEncryptedBundles,\n  setEncryptedBundle,\n  removeEncryptedBundle,\n  clearAllEncryptedBundles,\n};\n","import * as SharedTKHQ from \"@shared/turnkey-core.js\";\n\nconst {\n  setCryptoProvider,\n  loadTargetKey,\n  getTargetEmbeddedKey,\n  setTargetEmbeddedKey,\n  resetTargetEmbeddedKey,\n  getSettings,\n  setSettings,\n  sendMessageUp,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  base58Decode,\n  base58CheckDecode,\n  decodeKey,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  fromDerSignature,\n  additionalAssociatedData,\n  verifyEnclaveSignature,\n  validateStyles,\n} = SharedTKHQ;\n\n/**\n * Function to apply settings on this page. For now, the only settings that can be applied\n * are for \"styles\". Upon successful application, return the valid, sanitized settings JSON string.\n * @param {string} settings\n * @return {string}\n */\nfunction applySettings(settings) {\n  const validSettings = {};\n  const settingsObj = JSON.parse(settings);\n\n  const passphraseLabel = document.getElementById(\"passphrase-label\");\n  const mnemonicLabel = document.getElementById(\"mnemonic-label\");\n  const passphraseTextarea = document.getElementById(\"passphrase\");\n\n  if (!passphraseLabel || !passphraseTextarea) {\n    throw new Error(\"no passphrase HTML elements found to apply settings to.\");\n  }\n  const plaintextTextarea = document.getElementById(\"plaintext\");\n  if (!plaintextTextarea) {\n    throw new Error(\n      \"no plaintext textarea HTML element found to apply settings to.\"\n    );\n  }\n\n  // Apply enablePassphrase setting\n  if (settingsObj.enablePassphrase === true) {\n    passphraseLabel.style.display = \"inline-block\";\n    passphraseTextarea.style.display = \"inline-block\";\n    passphraseTextarea.style.border = \"solid 1px #ccc\";\n    passphraseTextarea.style.borderRadius = \"4px\";\n\n    mnemonicLabel.style.display = \"inline-block\";\n    plaintextTextarea.style.border = \"solid 1px #ccc\";\n    plaintextTextarea.style.borderRadius = \"4px\";\n\n    validSettings[\"enablePassphrase\"] = true;\n  } else {\n    passphraseLabel.style.display = \"none\";\n    passphraseTextarea.style.display = \"none\";\n    mnemonicLabel.style.display = \"none\";\n\n    plaintextTextarea.style.border = \"none\";\n    validSettings[\"enablePassphrase\"] = false;\n  }\n\n  if (settingsObj.styles) {\n    // Validate, sanitize, and apply the styles to the \"plaintext\" textarea.\n    const validStyles = validateStyles(settingsObj.styles);\n    Object.entries(validStyles).forEach(([key, value]) => {\n      plaintextTextarea.style[key] = value;\n    });\n\n    if (validStyles.backgroundColor) {\n      // Apply background color to document and body as well.\n      document.documentElement.style.backgroundColor =\n        validStyles.backgroundColor;\n      document.body.style.backgroundColor = validStyles.backgroundColor;\n    }\n\n    if (validStyles.labelColor) {\n      document.getElementById(\"mnemonic-label\").style.color =\n        validStyles.labelColor;\n    }\n\n    validSettings[\"styles\"] = validStyles;\n  }\n\n  if (settingsObj.passphraseStyles) {\n    // Validate, sanitize, and apply the styles to the \"passphrase\" textarea.\n    const validStyles = validateStyles(settingsObj.passphraseStyles);\n    Object.entries(validStyles).forEach(([key, value]) => {\n      passphraseTextarea.style[key] = value;\n    });\n\n    if (validStyles.labelColor) {\n      document.getElementById(\"passphrase-label\").style.color =\n        validStyles.labelColor;\n    }\n\n    validSettings[\"passphraseStyles\"] = validStyles;\n  }\n\n  return JSON.stringify(validSettings);\n}\n\nexport {\n  setCryptoProvider,\n  loadTargetKey,\n  getTargetEmbeddedKey,\n  setTargetEmbeddedKey,\n  resetTargetEmbeddedKey,\n  getSettings,\n  setSettings,\n  sendMessageUp,\n  uint8arrayFromHexString,\n  uint8arrayToHexString,\n  base58Decode,\n  base58CheckDecode,\n  decodeKey,\n  setParentFrameMessageChannelPort,\n  normalizePadding,\n  fromDerSignature,\n  additionalAssociatedData,\n  verifyEnclaveSignature,\n  validateStyles,\n  applySettings,\n};\n","/**\n * Crypto Utilities - Shared\n * Contains HPKE encryption and decryption functions\n */\n\nimport {\n  p256JWKPrivateToPublic,\n  additionalAssociatedData,\n  uint8arrayToHexString,\n} from \"./turnkey-core.js\";\nimport {\n  CipherSuite,\n  DhkemP256HkdfSha256,\n  HkdfSha256,\n  Aes256Gcm,\n} from \"@hpke/core\";\n\n// Pre-compute const (for perf)\nconst TURNKEY_HPKE_INFO = new TextEncoder().encode(\"turnkey_hpke\");\n\n/**\n * Decrypt the ciphertext (ArrayBuffer) given an encapsulation key (ArrayBuffer)\n * and the receivers private key (JSON Web Key).\n */\nexport async function HpkeDecrypt({\n  ciphertextBuf,\n  encappedKeyBuf,\n  receiverPrivJwk,\n}) {\n  const kemContext = new DhkemP256HkdfSha256();\n  var receiverPriv = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPrivJwk },\n    false\n  );\n\n  var suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  var recipientCtx = await suite.createRecipientContext({\n    recipientKey: receiverPriv,\n    enc: encappedKeyBuf,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  var receiverPubBuf = await p256JWKPrivateToPublic(receiverPrivJwk);\n  var aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n  var res;\n  try {\n    res = await recipientCtx.open(ciphertextBuf, aad);\n  } catch (e) {\n    throw new Error(\n      \"unable to decrypt bundle using embedded key. the bundle may be incorrect. failed with error: \" +\n        e.toString()\n    );\n  }\n  return res;\n}\n\n/**\n * Encrypt plaintext using HPKE with the receiver's public key.\n * @param {Object} params\n * @param {Uint8Array} params.plaintextBuf - Plaintext to encrypt\n * @param {JsonWebKey} params.receiverPubJwk - Receiver's public key in JWK format\n * @returns {Promise<string>} JSON stringified encrypted bundle with encappedPublic and ciphertext\n */\nexport async function HpkeEncrypt({ plaintextBuf, receiverPubJwk }) {\n  const kemContext = new DhkemP256HkdfSha256();\n  const receiverPub = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPubJwk },\n    true\n  );\n\n  const suite = new CipherSuite({\n    kem: kemContext,\n    kdf: new HkdfSha256(),\n    aead: new Aes256Gcm(),\n  });\n\n  const senderCtx = await suite.createSenderContext({\n    recipientPublicKey: receiverPub,\n    info: TURNKEY_HPKE_INFO,\n  });\n\n  // Need to import the key again as a JWK to export as a raw key, the format needed to\n  // create the aad with the newly generated raw encapped key.\n  const receiverPubCryptoKey = await crypto.subtle.importKey(\n    \"jwk\",\n    receiverPubJwk,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n  const receiverPubRaw = await crypto.subtle.exportKey(\n    \"raw\",\n    receiverPubCryptoKey\n  );\n  const receiverPubBuf = new Uint8Array(receiverPubRaw);\n\n  const encappedKeyBuf = new Uint8Array(senderCtx.enc);\n\n  const aad = additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n\n  var ciphertextBuf;\n  try {\n    ciphertextBuf = await senderCtx.seal(plaintextBuf, aad);\n  } catch (e) {\n    throw new Error(\"failed to encrypt import bundle: \" + e.toString());\n  }\n\n  const ciphertextHex = uint8arrayToHexString(new Uint8Array(ciphertextBuf));\n  const encappedKeyBufHex = uint8arrayToHexString(encappedKeyBuf);\n  const encryptedBundle = JSON.stringify({\n    encappedPublic: encappedKeyBufHex,\n    ciphertext: ciphertextHex,\n  });\n  return encryptedBundle;\n}\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_OverloadYield","k","_toConsumableArray","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","toString","slice","constructor","name","test","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","TURNKEY_TARGET_EMBEDDED_KEY","TURNKEY_SETTINGS","parentFrameMessageChannelPort","cryptoProviderOverride","getSubtleCrypto","subtle","globalThis","crypto","window","global","setCryptoProvider","cryptoProvider","loadQuorumKey","_x","_loadQuorumKey","_regeneratorRuntime","mark","_callee","quorumPublic","wrap","_context","prev","next","Error","importKey","namedCurve","abrupt","sent","stop","loadTargetKey","_x2","_loadTargetKey","_callee2","targetPublic","targetKey","_context2","exportKey","getTargetEmbeddedKey","jwtKey","localStorage","getItem","JSON","parse","setTargetEmbeddedKey","setItem","stringify","resetTargetEmbeddedKey","removeItem","setParentFrameMessageChannelPort","port","getSettings","settings","setSettings","uint8arrayFromHexString","hexString","hexWithoutPrefix","startsWith","Uint8Array","match","map","h","parseInt","uint8arrayToHexString","buffer","x","padStart","join","normalizePadding","byteArray","targetLength","paddingLength","padding","fill","concat","expectedZeroCount","zeroCount","additionalAssociatedData","senderPubBuf","receiverPubBuf","s","fromDerSignature","derSignature","derSignatureBuf","index","rLength","sLength","rPadded","sPadded","verifyEnclaveSignature","_x3","_x4","_x5","_verifyEnclaveSignature","_callee5","enclaveQuorumPublic","publicSignature","signedData","TURNKEY_SIGNERS_ENCLAVES","environment","TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY","encryptionQuorumPublicBuf","quorumKey","publicSignatureBuf","signedDataBuf","_context5","prod","preprod","__TURNKEY_SIGNER_ENVIRONMENT__","undefined","verify","hash","sendMessageUp","type","requestId","message","postMessage","parent","content","messageLog","document","getElementById","createElement","innerText","appendChild","logMessage","base58Decode","alphabet","decodedBytes","leadingZeros","indexOf","carry","push","j","currentByte","result","reverse","base58CheckDecode","_x7","_base58CheckDecode","_callee7","decoded","payload","checksum","hash1Buf","hash1","hash2Buf","hash2","computedChecksum","_context7","subarray","digest","decodeKey","_x8","_x9","_decodeKey","_callee8","privateKey","keyFormat","decodedKeyBytes","version","keyAndFlags","_payload","_version","_keyAndFlags","_bech32$decode","prefix","words","bytes","schemeFlag","privkey","_context8","t0","bech32","decode","fromWords","console","warn","validateStyles","styles","element","validStyles","cssValidationRegex","margin","borderWidth","borderStyle","borderColor","borderRadius","fontSize","fontWeight","fontFamily","color","labelColor","backgroundColor","width","height","maxWidth","maxHeight","lineHeight","boxShadow","textAlign","overflowWrap","wordWrap","resize","entries","forEach","_ref","_ref2","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","property","styleProperty","trim","styleRegexStr","styleRegex","RegExp","styleValue","SharedTKHQ","applySettings","validSettings","settingsObj","passphraseLabel","mnemonicLabel","passphraseTextarea","plaintextTextarea","enablePassphrase","style","display","border","_slicedToArray","key","documentElement","body","passphraseStyles","_ref3","_ref4","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","TURNKEY_HPKE_INFO","TextEncoder","encode","HpkeEncrypt","_HpkeEncrypt","plaintextBuf","receiverPubJwk","kemContext","receiverPub","suite","senderCtx","receiverPubCryptoKey","receiverPubRaw","encappedKeyBuf","aad","ciphertextBuf","ciphertextHex","encappedKeyBufHex","encryptedBundle","DhkemP256HkdfSha256","CipherSuite","kem","kdf","HkdfSha256","aead","Aes256Gcm","createSenderContext","recipientPublicKey","info","enc","seal","encappedPublic","ciphertext"],"sourceRoot":""}