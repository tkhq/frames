{"version":3,"file":"index.bundle.fa4b8f8eab66cd51d789.js","mappings":"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","sources":["webpack://import/webpack/runtime/chunk loaded","webpack://import/webpack/runtime/create fake namespace object","webpack://import/webpack/runtime/load script","webpack://import/./src/index.js","webpack://import/webpack/bootstrap","webpack://import/webpack/runtime/define property getters","webpack://import/webpack/runtime/ensure chunk","webpack://import/webpack/runtime/get javascript chunk filename","webpack://import/webpack/runtime/get mini-css chunk filename","webpack://import/webpack/runtime/global","webpack://import/webpack/runtime/hasOwnProperty shorthand","webpack://import/webpack/runtime/make namespace object","webpack://import/webpack/runtime/publicPath","webpack://import/webpack/runtime/jsonp chunk loading","webpack://import/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"import:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import \"./styles.css\";\nimport * as hpke from \"@hpke/core\";\nimport * as TKHQ from \"./turnkey-core.js\";\n\n// Make TKHQ available globally for backwards compatibility\nwindow.TKHQ = TKHQ;\n\n// persist the MessageChannel object so we can use it to communicate with the parent window\nvar iframeMessagePort = null;\n\n// controllers to remove event listeners\nconst messageListenerController = new AbortController();\nconst turnkeyInitController = new AbortController();\n\n/**\n * Message Event Handlers to process messages from the parent frame\n */\nvar messageEventListener = async function (event) {\n  if (event.data && event.data[\"type\"] == \"INJECT_IMPORT_BUNDLE\") {\n    try {\n      await onInjectImportBundle(\n        event.data[\"value\"],\n        event.data[\"organizationId\"],\n        event.data[\"userId\"],\n        event.data[\"requestId\"]\n      );\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"EXTRACT_WALLET_ENCRYPTED_BUNDLE\") {\n    try {\n      await onExtractWalletEncryptedBundle(event.data[\"requestId\"]);\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"EXTRACT_KEY_ENCRYPTED_BUNDLE\") {\n    try {\n      await onExtractKeyEncryptedBundle(\n        event.data[\"keyFormat\"],\n        event.data[\"requestId\"]\n      );\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n  if (event.data && event.data[\"type\"] == \"APPLY_SETTINGS\") {\n    try {\n      await onApplySettings(event.data[\"value\"], event.data[\"requestId\"]);\n    } catch (e) {\n      TKHQ.sendMessageUp(\"ERROR\", e.toString(), event.data[\"requestId\"]);\n    }\n  }\n};\n\n/**\n * Broadcast that the frame is ready and set up the message event listeners\n */\ndocument.addEventListener(\n  \"DOMContentLoaded\",\n  async function () {\n    window.addEventListener(\"message\", messageEventListener, {\n      capture: false,\n      signal: messageListenerController.signal,\n    });\n\n    if (!messageListenerController.signal.aborted) {\n      // If styles are saved in local storage, sanitize and apply them.\n      const styleSettings = TKHQ.getSettings();\n      if (styleSettings) {\n        TKHQ.applySettings(styleSettings);\n      }\n      // This is a workaround for how @turnkey/iframe-stamper is initialized. Currently,\n      // init() waits for a public key to be initialized that can be used to send to the server\n      // which will encrypt messages to this public key.\n      // In the case of import, this public key is not used because the client encrypts messages\n      // to the server's public key.\n      TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", \"\");\n\n      const plaintextTextarea = document.getElementById(\"plaintext\");\n      if (!plaintextTextarea) return;\n      // Clear clipboard after paste to avoid sensitive data lingering in clipboard.\n\n      plaintextTextarea.addEventListener(\"paste\", async () => {\n        // Let the paste happen first\n        try {\n          // Check clipboard-write permission first. In new versions of iframe-stamper, we add this permission when creating the iframe. In older versions, this permission is not added.\n          const permStatus = await navigator.permissions\n            .query({ name: \"clipboard-write\" }) // This is required to avoid error on clipboard write\n            .catch(() => null);\n\n          // Proceed only if granted or promptable\n          if (\n            permStatus?.state === \"granted\" ||\n            permStatus?.state === \"prompt\"\n          ) {\n            await navigator.clipboard.writeText(\"\");\n          }\n        } catch {\n          // Silently ignore any errors â€” no warnings or console noise\n        }\n      });\n    }\n  },\n  false\n);\n\nwindow.addEventListener(\n  \"message\",\n  async function (event) {\n    /**\n     * @turnkey/iframe-stamper >= v2.1.0 is using a MessageChannel to communicate with the parent frame.\n     * The parent frame sends a TURNKEY_INIT_MESSAGE_CHANNEL event with the MessagePort.\n     * If we receive this event, we want to remove the message event listener that was added in the DOMContentLoaded event to avoid processing messages twice.\n     * We persist the MessagePort so we can use it to communicate with the parent window in subsequent calls to TKHQ.sendMessageUp\n     */\n    if (\n      event.data &&\n      event.data[\"type\"] == \"TURNKEY_INIT_MESSAGE_CHANNEL\" &&\n      event.ports?.[0]\n    ) {\n      // remove the message event listener that was added in the DOMContentLoaded event\n      messageListenerController.abort();\n\n      iframeMessagePort = event.ports[0];\n      iframeMessagePort.onmessage = messageEventListener;\n\n      TKHQ.setParentFrameMessageChannelPort(iframeMessagePort);\n\n      // This is a workaround for how @turnkey/iframe-stamper is initialized. Currently,\n      // init() waits for a public key to be initialized that can be used to send to the server\n      // which will encrypt messages to this public key.\n      // In the case of import, this public key is not used because the client encrypts messages\n      // to the server's public key.\n      TKHQ.sendMessageUp(\"PUBLIC_KEY_READY\", \"\");\n\n      // remove the listener for TURNKEY_INIT_MESSAGE_CHANNEL after it's been processed\n      turnkeyInitController.abort();\n    }\n  },\n  { signal: turnkeyInitController.signal }\n);\n\n// make sure the mnemonic does not include our splitter (\\n--PASS--\\n) string or \\n characters\nfunction validateMnemonic(mnemonic) {\n  if (mnemonic.includes(\"\\n--PASS--\\n\")) {\n    throw new Error('mnemonic cannot include the string \"\\\\n--PASS--\\\\n\"');\n  }\n  if (mnemonic.includes(\"\\n\")) {\n    throw new Error(\"mnemonic cannot include newline characters\");\n  }\n}\n\n/**\n * Function triggered when INJECT_IMPORT_BUNDLE event is received.\n * Parses the `import_bundle` and stores the target public key as a JWK\n * in local storage. Sends true upon success.\n * @param {string} bundle\n * Example bundle: {\"targetPublic\":\"0491ccb68758b822a6549257f87769eeed37c6cb68a6c6255c5f238e2b6e6e61838c8ac857f2e305970a6435715f84e5a2e4b02a4d1e5289ba7ec7910e47d2d50f\",\"targetPublicSignature\":\"3045022100cefc333c330c9fa300d1aa10a439a76539b4d6967301638ab9edc9fd9468bfdb0220339bba7e2b00b45d52e941d068ecd3bfd16fd1926da69dd7769893268990d62f\",\"enclaveQuorumPublic\":\"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\"}\n * @param {string} organizationId\n * @param {string} userId\n * @param {string} requestId\n */\nasync function onInjectImportBundle(bundle, organizationId, userId, requestId) {\n  let targetPublicBuf;\n  let verified;\n\n  // Parse the import bundle\n  const bundleObj = JSON.parse(bundle);\n\n  switch (bundleObj.version) {\n    case \"v1.0.0\": {\n      // Validate fields exist\n      if (!bundleObj.data) {\n        throw new Error('missing \"data\" in bundle');\n      }\n      if (!bundleObj.dataSignature) {\n        throw new Error('missing \"dataSignature\" in bundle');\n      }\n      if (!bundleObj.enclaveQuorumPublic) {\n        throw new Error('missing \"enclaveQuorumPublic\" in bundle');\n      }\n\n      // Verify enclave signature\n      if (!TKHQ.verifyEnclaveSignature) {\n        throw new Error(\"method not loaded\");\n      }\n      verified = await TKHQ.verifyEnclaveSignature(\n        bundleObj.enclaveQuorumPublic,\n        bundleObj.dataSignature,\n        bundleObj.data\n      );\n      if (!verified) {\n        throw new Error(`failed to verify enclave signature: ${bundle}`);\n      }\n\n      // Parse the signed data. The data is produced by JSON encoding followed by hex encoding. We reverse this here.\n      const signedData = JSON.parse(\n        new TextDecoder().decode(TKHQ.uint8arrayFromHexString(bundleObj.data))\n      );\n\n      // Validate fields match\n      if (!organizationId) {\n        // TODO: throw error if organization id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"organizationId\" for security purposes.'\n        );\n      } else if (\n        !signedData.organizationId ||\n        signedData.organizationId !== organizationId\n      ) {\n        throw new Error(\n          `organization id does not match expected value. Expected: ${organizationId}. Found: ${signedData.organizationId}.`\n        );\n      }\n      if (!userId) {\n        // TODO: throw error if user id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"userId\" for security purposes.'\n        );\n      } else if (!signedData.userId || signedData.userId !== userId) {\n        throw new Error(\n          `user id does not match expected value. Expected: ${userId}. Found: ${signedData.userId}.`\n        );\n      }\n\n      if (!signedData.targetPublic) {\n        throw new Error('missing \"targetPublic\" in bundle signed data');\n      }\n\n      // Load target public key generated from enclave and set in local storage\n      targetPublicBuf = TKHQ.uint8arrayFromHexString(signedData.targetPublic);\n      break;\n    }\n    default:\n      throw new Error(`unsupported version: ${bundleObj.version}`);\n  }\n\n  const targetPublicKeyJwk = await TKHQ.loadTargetKey(\n    new Uint8Array(targetPublicBuf)\n  );\n  TKHQ.setTargetEmbeddedKey(targetPublicKeyJwk);\n\n  // Send up BUNDLE_INJECTED message\n  TKHQ.sendMessageUp(\"BUNDLE_INJECTED\", true, requestId);\n}\n\n/**\n * Function triggered when EXTRACT_WALLET_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the text entered in the\n * `plaintext` textarea element. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n * @param {string} requestId\n */\nasync function onExtractWalletEncryptedBundle(requestId) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext wallet mnemonic\n  const plaintext = document.getElementById(\"plaintext\").value.trim();\n  if (!plaintext) {\n    throw new Error(\"no wallet mnemonic entered\");\n  }\n\n  const passphrase = document.getElementById(\"passphrase\").value;\n\n  validateMnemonic(plaintext);\n\n  const combined =\n    passphrase === \"\" ? plaintext : `${plaintext}\\n--PASS--\\n${passphrase}`;\n  const plaintextBuf = new TextEncoder().encode(combined);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  TKHQ.sendMessageUp(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle, requestId);\n}\n\n/**\n * Function triggered when EXTRACT_KEY_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the text entered in the\n * `plaintext` textarea element. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n * @param {string} keyFormat\n * @param {string} requestId\n */\nasync function onExtractKeyEncryptedBundle(keyFormat, requestId) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext private key\n  const plaintext = document.getElementById(\"plaintext\").value.trim();\n  if (!plaintext) {\n    throw new Error(\"no private key entered\");\n  }\n  const plaintextBuf = TKHQ.decodeKey(plaintext, keyFormat);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  TKHQ.sendMessageUp(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle, requestId);\n}\n\n/**\n * Function triggered when APPLY_SETTINGS event is received.\n * For now, the only settings that can be applied are for \"styles\".\n * Persist them in local storage so they can be applied on every\n * page load.\n * @param {string} settings: JSON-stringified settings\n * @param {string} requestId\n */\nasync function onApplySettings(settings, requestId) {\n  // Apply settings\n  const validSettings = TKHQ.applySettings(settings);\n\n  // Persist in local storage\n  TKHQ.setSettings(validSettings);\n\n  // Send up SETTINGS_APPLIED message\n  TKHQ.sendMessageUp(\"SETTINGS_APPLIED\", true, requestId);\n}\n\nasync function HpkeEncrypt({ plaintextBuf, receiverPubJwk }) {\n  const kemContext = new hpke.DhkemP256HkdfSha256();\n  const receiverPub = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPubJwk },\n    true\n  );\n\n  const suite = new hpke.CipherSuite({\n    kem: kemContext,\n    kdf: new hpke.HkdfSha256(),\n    aead: new hpke.Aes256Gcm(),\n  });\n\n  const senderCtx = await suite.createSenderContext({\n    recipientPublicKey: receiverPub,\n    info: new TextEncoder().encode(\"turnkey_hpke\"),\n  });\n\n  // Need to import the key again as a JWK to export as a raw key, the format needed to\n  // create the aad with the newly generated raw encapped key.\n  const receiverPubCryptoKey = await crypto.subtle.importKey(\n    \"jwk\",\n    receiverPubJwk,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n  const receiverPubRaw = await crypto.subtle.exportKey(\n    \"raw\",\n    receiverPubCryptoKey\n  );\n  const receiverPubBuf = new Uint8Array(receiverPubRaw);\n\n  const encappedKeyBuf = new Uint8Array(senderCtx.enc);\n\n  const aad = TKHQ.additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n\n  var ciphertextBuf;\n  try {\n    ciphertextBuf = await senderCtx.seal(plaintextBuf, aad);\n  } catch (e) {\n    throw new Error(\"failed to encrypt import bundle: \" + e.toString());\n  }\n\n  const ciphertextHex = TKHQ.uint8arrayToHexString(\n    new Uint8Array(ciphertextBuf)\n  );\n  const encappedKeyBufHex = TKHQ.uint8arrayToHexString(encappedKeyBuf);\n  const encryptedBundle = JSON.stringify({\n    encappedPublic: encappedKeyBufHex,\n    ciphertext: ciphertextHex,\n  });\n  return encryptedBundle;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.\" + {\"291\":\"b62abe64ba4ebf68e89b\",\"825\":\"3a4aff0e743a7540fe25\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimport\"] = self[\"webpackChunkimport\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96,76], () => (__webpack_require__(954)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","window","TKHQ","iframeMessagePort","messageListenerController","AbortController","turnkeyInitController","messageEventListener","_ref","_regeneratorRuntime","mark","_callee","event","wrap","_context","prev","next","data","onInjectImportBundle","t0","toString","onExtractWalletEncryptedBundle","t1","onExtractKeyEncryptedBundle","t2","onApplySettings","t3","stop","_x","validateMnemonic","mnemonic","includes","Error","_x3","_x4","_x5","_x6","_onInjectImportBundle","_callee5","bundle","organizationId","userId","requestId","targetPublicBuf","bundleObj","signedData","targetPublicKeyJwk","_context5","JSON","parse","version","dataSignature","enclaveQuorumPublic","sent","concat","TextDecoder","decode","console","warn","targetPublic","abrupt","Uint8Array","_x7","_onExtractWalletEncryptedBundle","_callee6","plaintext","passphrase","combined","plaintextBuf","encryptedBundle","_context6","document","getElementById","trim","TextEncoder","encode","HpkeEncrypt","receiverPubJwk","_x8","_x9","_onExtractKeyEncryptedBundle","_callee7","keyFormat","_context7","_x10","_x11","_onApplySettings","_callee8","settings","validSettings","_context8","_x12","_HpkeEncrypt","_callee9","_ref5","kemContext","receiverPub","suite","senderCtx","receiverPubCryptoKey","receiverPubRaw","receiverPubBuf","encappedKeyBuf","aad","ciphertextBuf","ciphertextHex","encappedKeyBufHex","_context9","hpke","importKey","_objectSpread","kem","kdf","aead","createSenderContext","recipientPublicKey","info","crypto","subtle","name","namedCurve","exportKey","enc","seal","stringify","encappedPublic","ciphertext","addEventListener","_callee3","styleSettings","plaintextTextarea","_context3","capture","signal","aborted","_callee2","permStatus","_context2","navigator","permissions","query","state","clipboard","writeText","_ref4","_callee4","_event$ports","_context4","ports","abort","onmessage","_x2","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","obj","mode","this","__esModule","ns","def","current","indexOf","getOwnPropertyNames","forEach","definition","get","chunkId","all","reduce","promises","miniCssF","g","globalThis","Function","prop","hasOwnProperty","url","push","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","nc","setAttribute","src","onScriptComplete","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","type","target","head","appendChild","installedChunks","installedChunkData","promise","reject","error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}