{"version":3,"file":"standalone.bundle.c4c01a7dd7c83bd60221.js","mappings":";uBAAIA,ECCAC,EADAC,ECAAC,EACAC,E,i1GCAJ,IAAAC,EAAAC,EAAAC,EAAA,mBAAAC,OAAAA,OAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,GAAAA,EAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,EAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAC,KAAAvB,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,CAAA,YAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAAO,OAAAvB,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAQ,EAAAjB,EAAA,GAAAN,EAAA,GAAAI,EAAAmB,IAAArB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAG,IAAAnB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,GAAAA,EAAAqB,KAAAjB,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAqB,EAAAhB,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,CAAA,iBAAAE,EAAAW,EAAAQ,GAAA,GAAAT,EAAA,QAAAU,UAAA,oCAAAR,GAAA,IAAAD,GAAAK,EAAAL,EAAAQ,GAAAhB,EAAAQ,EAAAL,EAAAa,GAAAxB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,EAAAA,EAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,EAAAA,EAAA0B,KAAAnB,EAAAI,IAAA,MAAAc,UAAA,wCAAAzB,EAAA2B,KAAA,OAAA3B,EAAAW,EAAAX,EAAA4B,MAAApB,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAA0B,KAAAnB,GAAAC,EAAA,IAAAG,EAAAc,UAAA,oCAAApB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,CAAA,UAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAyB,KAAAvB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,CAAA,SAAAe,EAAA,UAAAa,MAAA5B,EAAA2B,KAAAV,EAAA,GAAAhB,EAAAI,EAAAE,IAAA,GAAAI,CAAA,KAAAS,EAAA,YAAAV,IAAA,UAAAmB,IAAA,UAAAC,IAAA,CAAA9B,EAAAY,OAAAmB,eAAA,IAAAvB,EAAA,GAAAL,GAAAH,EAAAA,EAAA,GAAAG,QAAAW,EAAAd,EAAA,GAAAG,EAAA,yBAAAH,GAAAW,EAAAmB,EAAArB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAoB,eAAApB,OAAAoB,eAAAjC,EAAA+B,IAAA/B,EAAAkC,UAAAH,EAAAhB,EAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,CAAA,QAAA8B,EAAApB,UAAAqB,EAAAhB,EAAAH,EAAA,cAAAmB,GAAAhB,EAAAgB,EAAA,cAAAD,GAAAA,EAAAK,YAAA,oBAAApB,EAAAgB,EAAAzB,EAAA,qBAAAS,EAAAH,GAAAG,EAAAH,EAAAN,EAAA,aAAAS,EAAAH,EAAAR,EAAA,yBAAAW,EAAAH,EAAA,oDAAAwB,EAAA,kBAAAC,EAAA7B,EAAA8B,EAAAtB,EAAA,cAAAD,EAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAA0B,eAAA,IAAA/B,EAAA,gBAAAR,GAAAQ,EAAA,EAAAO,EAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,SAAAK,EAAAJ,EAAAE,GAAAW,EAAAf,EAAAE,EAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,EAAA,GAAAE,EAAAM,EAAAA,EAAAR,EAAAE,EAAA,CAAA2B,MAAAzB,EAAAqC,YAAAxC,EAAAyC,cAAAzC,EAAA0C,UAAA1C,IAAAD,EAAAE,GAAAE,GAAAE,EAAA,UAAAA,EAAA,WAAAA,EAAA,cAAAS,EAAAf,EAAAE,EAAAE,EAAAH,EAAA,UAAA2C,EAAA5C,EAAAsB,GAAA,KAAAF,EAAApB,EAAA,KAAA6C,EAAAvB,CAAA,UAAAwB,EAAA1C,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAAqB,KAAA,OAAAzB,GAAA,YAAAJ,EAAAI,EAAA,CAAAI,EAAAoB,KAAA3B,EAAAW,GAAAmC,QAAAC,QAAApC,GAAAqC,KAAA/C,EAAAI,EAAA,UAAA4C,EAAA9C,GAAA,sBAAAH,EAAA,KAAAD,EAAAmD,UAAA,WAAAJ,QAAA,SAAA7C,EAAAI,GAAA,IAAAe,EAAAjB,EAAAgD,MAAAnD,EAAAD,GAAA,SAAAqD,EAAAjD,GAAA0C,EAAAzB,EAAAnB,EAAAI,EAAA+C,EAAAC,EAAA,OAAAlD,EAAA,UAAAkD,EAAAlD,GAAA0C,EAAAzB,EAAAnB,EAAAI,EAAA+C,EAAAC,EAAA,QAAAlD,EAAA,CAAAiD,OAAA,MASA,SAASE,EAAWC,GAClB,IAAMC,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,KACvCD,EAAQE,UAAYN,EACpBC,EAAWM,YAAYH,EACzB,CAKA,SAASI,EAAwBC,EAAMpC,GAClB,OAAfqC,OAAOC,KACTD,OAAOC,IAAIC,YACT,CACEH,KAAMA,EACNpC,MAAOA,GAET,KAGJ0B,EAAW,mBAADc,OAAoBJ,EAAI,MAAAI,OAAKxC,GACzC,CA8GA,SASeyC,EAAoBC,EAAAC,EAAAC,GAAA,OAAAC,EAAAtB,MAAC,KAADD,UAAA,CAmFnC,SAAAuB,IAFC,OAEDA,EAAAxB,EAAAyB,IAAAC,KAnFA,SAAAC,EAAoCC,EAAQC,EAAgBC,GAAM,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,IAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAK1DN,EAAYO,KAAKC,MAAMZ,GAAOQ,EAAAK,GAE5BT,EAAUU,QAAON,EAAAE,KAClB,WADkBF,EAAAK,GACV,qBAENT,EAAUW,KAAM,CAAFP,EAAAE,KAAA,cACX,IAAIM,MAAM,4BAA2B,UAExCZ,EAAUa,cAAe,CAAFT,EAAAE,KAAA,cACpB,IAAIM,MAAM,qCAAoC,UAEjDZ,EAAUc,oBAAqB,CAAFV,EAAAE,KAAA,eAC1B,IAAIM,MAAM,2CAA0C,WAIvDG,EAAAA,uBAA6B,CAAFX,EAAAE,KAAA,eACxB,IAAIM,MAAM,qBAAoB,eAAAR,EAAAE,KAAA,GAErBS,EAAAA,uBACff,EAAUc,oBACVd,EAAUa,cACVb,EAAUW,MACX,QAJO,GAAAP,EAAAY,KAKO,CAAFZ,EAAAE,KAAA,eACL,IAAIM,MAAM,uCAADzB,OAAwCS,IAAS,QAQlE,GAJMK,EAAaM,KAAKC,OACtB,IAAIS,aAAcC,OAAOH,EAAAA,wBAA6Bf,EAAUW,QAI7Dd,EAAgB,CAAFO,EAAAE,KAAA,SAEjBa,QAAQC,KACN,sHACAhB,EAAAE,KAAA,oBAEDL,EAAWJ,gBACZI,EAAWJ,iBAAmBA,EAAc,CAAAO,EAAAE,KAAA,eAEtC,IAAIM,MAAM,4DAADzB,OAC+CU,EAAc,aAAAV,OAAYc,EAAWJ,eAAc,MAChH,WAEEC,EAAQ,CAAFM,EAAAE,KAAA,SAETa,QAAQC,KACN,8GACAhB,EAAAE,KAAA,oBACQL,EAAWH,QAAUG,EAAWH,SAAWA,EAAM,CAAAM,EAAAE,KAAA,eACrD,IAAIM,MAAM,oDAADzB,OACuCW,EAAM,aAAAX,OAAYc,EAAWH,OAAM,MACxF,WAGEG,EAAWoB,aAAc,CAAFjB,EAAAE,KAAA,eACpB,IAAIM,MAAM,gDAA+C,QAIO,OAAxEb,EAAkBgB,EAAAA,wBAA6Bd,EAAWoB,cAAcjB,EAAAkB,OAAA,0BAGlE,IAAIV,MAAM,wBAADzB,OAAyBa,EAAUU,UAAU,eAAAN,EAAAE,KAAA,GAG/BS,EAAAA,cAC/B,IAAIQ,WAAWxB,IAChB,QAFKG,EAAkBE,EAAAY,KAGxBD,EAAAA,qBAA0Bb,GAG1BpB,EAAwB,mBAAmB,GAAM,yBAAAsB,EAAAoB,OAAA,EAAA7B,EAAA,KAClDzB,MAAA,KAAAD,UAAA,UAUcwD,EAA8BC,GAAA,OAAAC,EAAAzD,MAAC,KAADD,UAAA,CA2B7C,SAAA0D,IAFC,OAEDA,EAAA3D,EAAAyB,IAAAC,KA3BA,SAAAkC,EAA8CC,GAAc,IAAA3B,EAAA4B,EAAAC,EAAAC,EAAA,OAAAvC,IAAAU,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,OAEJ,GAC5B,OADpBJ,EAAqBa,EAAAA,wBACG,CAAAkB,EAAA3B,KAAA,cACtB,IAAIM,MAAM,uBAAsB,OAID,GAAjCkB,EAAYD,EAAeK,OACjB,CAAFD,EAAA3B,KAAA,cACN,IAAIM,MAAM,8BAA6B,OAI/C,OAFMmB,GAAe,IAAII,aAAcC,OAAON,GAE9CG,EAAA3B,KAAA,EAC8B+B,EAAY,CACxCN,aAAAA,EACAO,eAAgBpC,IAChB,OAHI8B,EAAeC,EAAAjB,KAMrBD,EAAAA,yBAGAjC,EAAwB,6BAA8BkD,GAAiB,yBAAAC,EAAAT,OAAA,EAAAI,EAAA,KACxE1D,MAAA,KAAAD,UAAA,UAUcsE,EAA2BC,EAAAC,GAAA,OAAAC,EAAAxE,MAAC,KAADD,UAAA,UAAAyE,IAyBzC,OAzByCA,EAAA1E,EAAAyB,IAAAC,KAA1C,SAAAiD,EAA2Cd,EAAgBe,GAAS,IAAA1C,EAAA4B,EAAAC,EAAAC,EAAA,OAAAvC,IAAAU,KAAA,SAAA0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,OAEZ,GAC5B,OADpBJ,EAAqBa,EAAAA,wBACG,CAAA8B,EAAAvC,KAAA,cACtB,IAAIM,MAAM,uBAAsB,OAID,GAAjCkB,EAAYD,EAAeK,OACjB,CAAFW,EAAAvC,KAAA,cACN,IAAIM,MAAM,0BAAyB,OAI3C,OAFMmB,EAAehB,EAAAA,UAAee,EAAWc,GAE/CC,EAAAvC,KAAA,EAC8B+B,EAAY,CACxCN,aAAAA,EACAO,eAAgBpC,IAChB,OAHI8B,EAAea,EAAA7B,KAMrBD,EAAAA,yBAGAjC,EAAwB,6BAA8BkD,GAAiB,yBAAAa,EAAArB,OAAA,EAAAmB,EAAA,KACxEzE,MAAA,KAAAD,UAAA,UAEcoE,EAAWS,GAAA,OAAAC,EAAA7E,MAAC,KAADD,UAAA,UAAA8E,IAyDzB,OAzDyBA,EAAA/E,EAAAyB,IAAAC,KAA1B,SAAAsD,EAAAC,GAAA,IAAAlB,EAAAO,EAAAY,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA7B,EAAA,OAAAvC,IAAAU,KAAA,SAAA2D,GAAA,cAAAA,EAAAzD,KAAAyD,EAAAxD,MAAA,OACmD,OADtByB,EAAYkB,EAAZlB,aAAcO,EAAcW,EAAdX,eACnCY,EAAa,IAAIa,EAAAA,GAA0BD,EAAAxD,KAAA,EACvB4C,EAAWc,UACnC,MAAKC,EAAA,GACA3B,IACL,GACD,OAMC,OAVIa,EAAWW,EAAA9C,KAMXoC,EAAQ,IAAIW,EAAAA,GAAiB,CACjCG,IAAKhB,EACLiB,IAAK,IAAIJ,EAAAA,GACTK,KAAM,IAAIL,EAAAA,KACVD,EAAAxD,KAAA,EAEsB8C,EAAMiB,oBAAoB,CAChDC,mBAAoBnB,EACpBoB,MAAM,IAAIpC,aAAcC,OAAO,kBAC/B,OAHa,OAATiB,EAASS,EAAA9C,KAAA8C,EAAAxD,KAAG,GAOiBkE,OAAOC,OAAOT,UAC/C,MACA1B,EACA,CACEoC,KAAM,QACNC,WAAY,UAEd,EACA,IACD,QATyB,OAApBrB,EAAoBQ,EAAA9C,KAAA8C,EAAAxD,KAAG,GAUAkE,OAAOC,OAAOG,UACzC,MACAtB,GACD,QAKwE,OARnEC,EAAcO,EAAA9C,KAIdwC,EAAiB,IAAIjC,WAAWgC,GAEhCE,EAAiB,IAAIlC,WAAW8B,EAAUwB,KAE1CnB,EAAM3C,EAAAA,yBAA8B0C,EAAgBD,GAAeM,EAAAzD,KAAA,GAAAyD,EAAAxD,KAAA,GAIjD+C,EAAUyB,KAAK/C,EAAc2B,GAAI,QAAvDC,EAAaG,EAAA9C,KAAA8C,EAAAxD,KAAG,GAAH,oBAAAwD,EAAAzD,KAAG,GAAHyD,EAAArD,GAAAqD,EAAA,UAEP,IAAIlD,MAAM,oCAAsCkD,EAAArD,GAAEsE,YAAW,QAUnE,OAPInB,EAAgB7C,EAAAA,sBACpB,IAAIQ,WAAWoC,IAEXE,EAAoB9C,EAAAA,sBAA2B0C,GAC/CzB,EAAkBzB,KAAKyE,UAAU,CACrCC,eAAgBpB,EAChBqB,WAAYtB,IACZE,EAAAxC,OAAA,SACKU,GAAe,yBAAA8B,EAAAtC,OAAA,EAAAwB,EAAA,oBACvB9E,MAAA,KAAAD,UAAA,CAnWDe,OAAO+B,KAAOA,EA4BdvC,SAAS2G,iBACP,mBAAkBnH,EAAAyB,IAAAC,KAClB,SAAA0F,IAAA,OAAA3F,IAAAU,KAAA,SAAAkF,GAAA,cAAAA,EAAAhF,KAAAgF,EAAA/E,MAAA,OAMExB,EAAwB,mBAAoB,IAI5CE,OAAOmG,iBACL,UAAS,eAAAG,EAAAtH,EAAAyB,IAAAC,KACT,SAAA6F,EAAgBC,GAAK,OAAA/F,IAAAU,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,WACfkF,EAAM7E,MAA8B,wBAAtB6E,EAAM7E,KAAW,KAA2B,CAAA8E,EAAAnF,KAAA,SAG1D,OAFFjC,EAAW,uBAADc,OACeqG,EAAM7E,KAAW,KAAC,MAAAxB,OAAKqG,EAAM7E,KAAY,MAAC,MAAAxB,OAAKqG,EAAM7E,KAAqB,eAAC,MAAAxB,OAAKqG,EAAM7E,KAAa,SAC1H8E,EAAApF,KAAA,EAAAoF,EAAAnF,KAAA,EAEMlB,EACJoG,EAAM7E,KAAY,MAClB6E,EAAM7E,KAAqB,eAC3B6E,EAAM7E,KAAa,QACpB,OAAA8E,EAAAnF,KAAA,gBAAAmF,EAAApF,KAAA,EAAAoF,EAAAhF,GAAAgF,EAAA,SAED3G,EAAwB,QAAS2G,EAAAhF,GAAEsE,YAAY,YAKjDS,EAAM7E,MACgB,mCAAtB6E,EAAM7E,KAAW,KAAsC,CAAA8E,EAAAnF,KAAA,SAIrD,OAFFjC,EAAW,uBAADc,OACeqG,EAAM7E,KAAW,KAAC,MAAAxB,OAAKqG,EAAM7E,KAAY,QAChE8E,EAAApF,KAAA,GAAAoF,EAAAnF,KAAA,GAEMmB,EAA+B+D,EAAM7E,KAAY,OAAE,QAAA8E,EAAAnF,KAAA,iBAAAmF,EAAApF,KAAA,GAAAoF,EAAAC,GAAAD,EAAA,UAEzD3G,EAAwB,QAAS2G,EAAAC,GAAEX,YAAY,YAIjDS,EAAM7E,MACgB,gCAAtB6E,EAAM7E,KAAW,KAAmC,CAAA8E,EAAAnF,KAAA,SAIlD,OAFFjC,EAAW,uBAADc,OACeqG,EAAM7E,KAAW,KAAC,MAAAxB,OAAKqG,EAAM7E,KAAY,MAAC,MAAAxB,OAAKqG,EAAM7E,KAAgB,YAC5F8E,EAAApF,KAAA,GAAAoF,EAAAnF,KAAA,GAEMiC,EACJiD,EAAM7E,KAAY,MAClB6E,EAAM7E,KAAgB,WACvB,QAAA8E,EAAAnF,KAAA,iBAAAmF,EAAApF,KAAA,GAAAoF,EAAAE,GAAAF,EAAA,UAED3G,EAAwB,QAAS2G,EAAAE,GAAEZ,YAAY,yBAAAU,EAAAjE,OAAA,EAAA+D,EAAA,iCAGpD,gBAAAK,GAAA,OAAAN,EAAApH,MAAA,KAAAD,UAAA,EA9CQ,IA+CT,GAQFO,SAASC,eAAe,wBAAwB0G,iBAC9C,QAAO,eAAAU,EAAA7H,EAAAyB,IAAAC,KACP,SAAAoG,EAAOhL,GAAC,OAAA2E,IAAAU,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,OACNxF,EAAEkL,iBACFhH,OAAOE,YAAY,CACjBH,KAAM,uBACNpC,MAAO6B,SAASC,eAAe,iBAAiB9B,MAChDkD,eAAgBrB,SAASC,eAAe,mBAAmB9B,MAC3DmD,OAAQtB,SAASC,eAAe,WAAW9B,QAC1C,wBAAAoJ,EAAAvE,OAAA,EAAAsE,EAAA,IACJ,gBAAAG,GAAA,OAAAJ,EAAA3H,MAAA,KAAAD,UAAA,EATM,IAUP,GAEFO,SAASC,eAAe,yBAAyB0G,iBAC/C,QAAO,eAAAe,EAAAlI,EAAAyB,IAAAC,KACP,SAAAyG,EAAOrL,GAAC,OAAA2E,IAAAU,KAAA,SAAAiG,GAAA,cAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,OACNxF,EAAEkL,iBACFhH,OAAOE,YAAY,CACjBH,KAAM,kCACNpC,MAAO6B,SAASC,eAAe,oBAAoB9B,QAClD,wBAAAyJ,EAAA5E,OAAA,EAAA2E,EAAA,IACJ,gBAAAE,GAAA,OAAAH,EAAAhI,MAAA,KAAAD,UAAA,EAPM,IAQP,GAEFO,SAASC,eAAe,sBAAsB0G,iBAC5C,QAAO,eAAAmB,EAAAtI,EAAAyB,IAAAC,KACP,SAAA6G,EAAOzL,GAAC,OAAA2E,IAAAU,KAAA,SAAAqG,GAAA,cAAAA,EAAAnG,KAAAmG,EAAAlG,MAAA,OACNxF,EAAEkL,iBACFhH,OAAOE,YAAY,CACjBH,KAAM,+BACNpC,MAAO6B,SAASC,eAAe,iBAAiB9B,MAChDiG,UAAWpE,SAASC,eAAe,qBAAqB9B,QACvD,wBAAA6J,EAAAhF,OAAA,EAAA+E,EAAA,IACJ,gBAAAE,GAAA,OAAAH,EAAApI,MAAA,KAAAD,UAAA,EARM,IASP,GACA,wBAAAoH,EAAA7D,OAAA,EAAA4D,EAAA,KAEJ,E,GCzIEsB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBvJ,EAAI6J,EJzBpBxM,EAAW,GACfkM,EAAoBO,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASlM,EAAI,EAAGA,EAAIb,EAAS6B,OAAQhB,IAAK,CAGzC,IAFA,IAAK8L,EAAUC,EAAIC,GAAY7M,EAASa,GACpCmM,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS9K,OAAQoL,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAa3L,OAAOgM,KAAKhB,EAAoBO,GAAGU,MAAOC,GAASlB,EAAoBO,EAAEW,GAAKT,EAASM,KAC9IN,EAASU,OAAOJ,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbhN,EAASqN,OAAOxM,IAAK,GACrB,IAAIN,EAAIqM,SACEP,IAAN9L,IAAiBmM,EAASnM,EAC/B,CACD,CACA,OAAOmM,CAnBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIhM,EAAIb,EAAS6B,OAAQhB,EAAI,GAAKb,EAASa,EAAI,GAAG,GAAKgM,EAAUhM,IAAKb,EAASa,GAAKb,EAASa,EAAI,GACrGb,EAASa,GAAK,CAAC8L,EAAUC,EAAIC,ICL3B3M,EAAWgB,OAAOmB,eAAkBiL,GAASpM,OAAOmB,eAAeiL,GAASA,GAASA,EAAa,UAQtGpB,EAAoB5L,EAAI,SAAS4B,EAAOqL,GAEvC,GADU,EAAPA,IAAUrL,EAAQsL,KAAKtL,IAChB,EAAPqL,EAAU,OAAOrL,EACpB,GAAoB,iBAAVA,GAAsBA,EAAO,CACtC,GAAW,EAAPqL,GAAarL,EAAMuL,WAAY,OAAOvL,EAC1C,GAAW,GAAPqL,GAAoC,mBAAfrL,EAAMoB,KAAqB,OAAOpB,CAC5D,CACA,IAAIwL,EAAKxM,OAAOC,OAAO,MACvB+K,EAAoB3L,EAAEmN,GACtB,IAAIC,EAAM,CAAC,EACX1N,EAAiBA,GAAkB,CAAC,KAAMC,EAAS,CAAC,GAAIA,EAAS,IAAKA,EAASA,IAC/E,IAAI,IAAI0N,EAAiB,EAAPL,GAAYrL,GAA0B,iBAAX0L,GAAyC,mBAAXA,MAA4B3N,EAAe4N,QAAQD,GAAUA,EAAU1N,EAAS0N,GAC1J1M,OAAO4M,oBAAoBF,GAASG,QAASX,GAASO,EAAIP,GAAO,IAAOlL,EAAMkL,IAI/E,OAFAO,EAAa,QAAI,IAAM,EACvBzB,EAAoBvK,EAAE+L,EAAIC,GACnBD,CACR,EIxBAxB,EAAoBvK,EAAI,CAAC2K,EAAS0B,KACjC,IAAI,IAAIZ,KAAOY,EACX9B,EAAoBvL,EAAEqN,EAAYZ,KAASlB,EAAoBvL,EAAE2L,EAASc,IAC5ElM,OAAO0B,eAAe0J,EAASc,EAAK,CAAEtK,YAAY,EAAMmL,IAAKD,EAAWZ,MCJ3ElB,EAAoB7K,EAAI,CAAC,EAGzB6K,EAAoB7L,EAAK6N,GACjB9K,QAAQ+K,IAAIjN,OAAOgM,KAAKhB,EAAoB7K,GAAG+M,OAAO,CAACC,EAAUjB,KACvElB,EAAoB7K,EAAE+L,GAAKc,EAASG,GAC7BA,GACL,KCNJnC,EAAoBjL,EAAKiN,GAEZA,EAAU,WAAa,CAAC,IAAM,uBAAuB,IAAM,wBAAwBA,GAAW,MCF3GhC,EAAoBoC,SAAYJ,MCDhChC,EAAoBqC,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOhB,MAAQ,IAAIiB,SAAS,cAAb,EAChB,CAAE,MAAOpO,GACR,GAAsB,iBAAXkE,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB2H,EAAoBvL,EAAI,CAAC2M,EAAKoB,IAAUxN,OAAOH,UAAU4N,eAAe3M,KAAKsL,EAAKoB,GRA9EvO,EAAa,CAAC,EACdC,EAAoB,UAExB8L,EAAoBpK,EAAI,CAAC8M,EAAK3M,EAAMmL,EAAKc,KACxC,GAAG/N,EAAWyO,GAAQzO,EAAWyO,GAAKC,KAAK5M,OAA3C,CACA,IAAI6M,EAAQC,EACZ,QAAW1C,IAARe,EAEF,IADA,IAAI4B,EAAUjL,SAASkL,qBAAqB,UACpCpO,EAAI,EAAGA,EAAImO,EAAQnN,OAAQhB,IAAK,CACvC,IAAIqO,EAAIF,EAAQnO,GAChB,GAAGqO,EAAEC,aAAa,QAAUP,GAAOM,EAAEC,aAAa,iBAAmB/O,EAAoBgN,EAAK,CAAE0B,EAASI,EAAG,KAAO,CACpH,CAEGJ,IACHC,GAAa,GACbD,EAAS/K,SAASG,cAAc,WAEzBkL,QAAU,QACblD,EAAoBmD,IACvBP,EAAOQ,aAAa,QAASpD,EAAoBmD,IAElDP,EAAOQ,aAAa,eAAgBlP,EAAoBgN,GAExD0B,EAAOS,IAAMX,GAEdzO,EAAWyO,GAAO,CAAC3M,GACnB,IAAIuN,EAAmB,CAAC5J,EAAMmF,KAE7B+D,EAAOW,QAAUX,EAAOY,OAAS,KACjCC,aAAaC,GACb,IAAIC,EAAU1P,EAAWyO,GAIzB,UAHOzO,EAAWyO,GAClBE,EAAOgB,YAAchB,EAAOgB,WAAWC,YAAYjB,GACnDe,GAAWA,EAAQ9B,QAASnB,GAAQA,EAAG7B,IACpCnF,EAAM,OAAOA,EAAKmF,IAElB6E,EAAUI,WAAWR,EAAiB5N,KAAK,UAAMyK,EAAW,CAAE/H,KAAM,UAAW2L,OAAQnB,IAAW,MACtGA,EAAOW,QAAUD,EAAiB5N,KAAK,KAAMkN,EAAOW,SACpDX,EAAOY,OAASF,EAAiB5N,KAAK,KAAMkN,EAAOY,QACnDX,GAAchL,SAASmM,KAAK9L,YAAY0K,EAnCkB,GSH3D5C,EAAoB3L,EAAK+L,IACH,oBAAX9L,QAA0BA,OAAOI,aAC1CM,OAAO0B,eAAe0J,EAAS9L,OAAOI,YAAa,CAAEsB,MAAO,WAE7DhB,OAAO0B,eAAe0J,EAAS,aAAc,CAAEpK,OAAO,KCLvDgK,EAAoB5K,EAAI,I,MCKxB,IAAI6O,EAAkB,CACrB,IAAK,GAGNjE,EAAoB7K,EAAE4L,EAAI,CAACiB,EAASG,KAElC,IAAI+B,EAAqBlE,EAAoBvL,EAAEwP,EAAiBjC,GAAWiC,EAAgBjC,QAAW7B,EACtG,GAA0B,IAAvB+D,EAGF,GAAGA,EACF/B,EAASQ,KAAKuB,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAIjN,QAAQ,CAACC,EAASiN,IAAYF,EAAqBD,EAAgBjC,GAAW,CAAC7K,EAASiN,IAC1GjC,EAASQ,KAAKuB,EAAmB,GAAKC,GAGtC,IAAIzB,EAAM1C,EAAoB5K,EAAI4K,EAAoBjL,EAAEiN,GAEpDqC,EAAQ,IAAIpK,MAgBhB+F,EAAoBpK,EAAE8M,EAfF7D,IACnB,GAAGmB,EAAoBvL,EAAEwP,EAAiBjC,KAEf,KAD1BkC,EAAqBD,EAAgBjC,MACRiC,EAAgBjC,QAAW7B,GACrD+D,GAAoB,CACtB,IAAII,EAAYzF,IAAyB,SAAfA,EAAMzG,KAAkB,UAAYyG,EAAMzG,MAChEmM,EAAU1F,GAASA,EAAMkF,QAAUlF,EAAMkF,OAAOV,IACpDgB,EAAMtM,QAAU,iBAAmBiK,EAAU,cAAgBsC,EAAY,KAAOC,EAAU,IAC1FF,EAAMtG,KAAO,iBACbsG,EAAMjM,KAAOkM,EACbD,EAAMG,QAAUD,EAChBL,EAAmB,GAAGG,EACvB,GAGuC,SAAWrC,EAASA,EAE/D,GAYHhC,EAAoBO,EAAEQ,EAAKiB,GAA0C,IAA7BiC,EAAgBjC,GAGxD,IAAIyC,EAAuB,CAACC,EAA4B1K,KACvD,IAGIiG,EAAU+B,GAHTvB,EAAUkE,EAAaC,GAAW5K,EAGhBrF,EAAI,EAC3B,GAAG8L,EAASoE,KAAMC,GAAgC,IAAxBb,EAAgBa,IAAa,CACtD,IAAI7E,KAAY0E,EACZ3E,EAAoBvL,EAAEkQ,EAAa1E,KACrCD,EAAoBvJ,EAAEwJ,GAAY0E,EAAY1E,IAGhD,GAAG2E,EAAS,IAAIpE,EAASoE,EAAQ5E,EAClC,CAEA,IADG0E,GAA4BA,EAA2B1K,GACrDrF,EAAI8L,EAAS9K,OAAQhB,IACzBqN,EAAUvB,EAAS9L,GAChBqL,EAAoBvL,EAAEwP,EAAiBjC,IAAYiC,EAAgBjC,IACrEiC,EAAgBjC,GAAS,KAE1BiC,EAAgBjC,GAAW,EAE5B,OAAOhC,EAAoBO,EAAEC,IAG1BuE,EAAqBC,KAAyB,mBAAIA,KAAyB,oBAAK,GACpFD,EAAmBlD,QAAQ4C,EAAqB/O,KAAK,KAAM,IAC3DqP,EAAmBpC,KAAO8B,EAAqB/O,KAAK,KAAMqP,EAAmBpC,KAAKjN,KAAKqP,G,KClFvF,IAAIE,EAAsBjF,EAAoBO,OAAEJ,EAAW,CAAC,GAAG,IAAK,IAAOH,EAAoB,MAC/FiF,EAAsBjF,EAAoBO,EAAE0E,E","sources":["webpack://import/webpack/runtime/chunk loaded","webpack://import/webpack/runtime/create fake namespace object","webpack://import/webpack/runtime/load script","webpack://import/./src/standalone.js","webpack://import/webpack/bootstrap","webpack://import/webpack/runtime/define property getters","webpack://import/webpack/runtime/ensure chunk","webpack://import/webpack/runtime/get javascript chunk filename","webpack://import/webpack/runtime/get mini-css chunk filename","webpack://import/webpack/runtime/global","webpack://import/webpack/runtime/hasOwnProperty shorthand","webpack://import/webpack/runtime/make namespace object","webpack://import/webpack/runtime/publicPath","webpack://import/webpack/runtime/jsonp chunk loading","webpack://import/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"import:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import \"./standalone-styles.css\";\nimport * as hpke from \"@hpke/core\";\nimport * as TKHQ from \"./turnkey-core.js\";\n\n// Make TKHQ available globally\nwindow.TKHQ = TKHQ;\n\n/**\n * Function to log a message and persist it in the page's DOM.\n */\nfunction logMessage(content) {\n  const messageLog = document.getElementById(\"message-log\");\n  const message = document.createElement(\"p\");\n  message.innerText = content;\n  messageLog.appendChild(message);\n}\n\n/**\n * Standalone-specific sendMessageUp that logs to DOM instead\n */\nfunction sendMessageUpStandalone(type, value) {\n  if (window.top !== null) {\n    window.top.postMessage(\n      {\n        type: type,\n        value: value,\n      },\n      \"*\"\n    );\n  }\n  logMessage(`⬆️ Sent message ${type}: ${value}`);\n}\n\ndocument.addEventListener(\n  \"DOMContentLoaded\",\n  async () => {\n    // This is a workaround for how @turnkey/iframe-stamper is initialized. Currently,\n    // init() waits for a public key to be initialized that can be used to send to the server\n    // which will encrypt messages to this public key.\n    // In the case of import, this public key is not used because the client encrypts messages\n    // to the server's public key.\n    sendMessageUpStandalone(\"PUBLIC_KEY_READY\", \"\");\n\n    // TODO: find a way to filter messages and ensure they're coming from the parent window?\n    // We do not want to arbitrarily receive messages from all origins.\n    window.addEventListener(\n      \"message\",\n      async function (event) {\n        if (event.data && event.data[\"type\"] == \"INJECT_IMPORT_BUNDLE\") {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"organizationId\"]}, ${event.data[\"userId\"]}`\n          );\n          try {\n            await onInjectImportBundle(\n              event.data[\"value\"],\n              event.data[\"organizationId\"],\n              event.data[\"userId\"]\n            );\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n        // TODO: deprecate EXTRACT_WALLET_ENCRYPTED_BUNDLE in favor of EXTRACT_ENCRYPTED_BUNDLE\n        if (\n          event.data &&\n          event.data[\"type\"] == \"EXTRACT_WALLET_ENCRYPTED_BUNDLE\"\n        ) {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}`\n          );\n          try {\n            await onExtractWalletEncryptedBundle(event.data[\"value\"]);\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n        if (\n          event.data &&\n          event.data[\"type\"] == \"EXTRACT_KEY_ENCRYPTED_BUNDLE\"\n        ) {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"keyFormat\"]}`\n          );\n          try {\n            await onExtractKeyEncryptedBundle(\n              event.data[\"value\"],\n              event.data[\"keyFormat\"]\n            );\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n      },\n      false\n    );\n\n    /**\n     * Event handlers to power the import flow in standalone mode\n     * Instead of receiving events from the parent page, forms trigger them.\n     * This is useful for debugging as well.\n     */\n    document.getElementById(\"inject-import-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"INJECT_IMPORT_BUNDLE\",\n          value: document.getElementById(\"import-bundle\").value,\n          organizationId: document.getElementById(\"organization-id\").value,\n          userId: document.getElementById(\"user-id\").value,\n        });\n      },\n      false\n    );\n    document.getElementById(\"encrypt-wallet-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"EXTRACT_WALLET_ENCRYPTED_BUNDLE\",\n          value: document.getElementById(\"wallet-plaintext\").value,\n        });\n      },\n      false\n    );\n    document.getElementById(\"encrypt-key-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"EXTRACT_KEY_ENCRYPTED_BUNDLE\",\n          value: document.getElementById(\"key-plaintext\").value,\n          keyFormat: document.getElementById(\"key-import-format\").value,\n        });\n      },\n      false\n    );\n  },\n  false\n);\n\n/**\n * Function triggered when INJECT_IMPORT_BUNDLE event is received.\n * Parses the `import_bundle` and stores the target public key as a JWK\n * in local storage. Sends true upon success.\n * @param {string} bundle\n * Example bundle: {\"targetPublic\":\"0491ccb68758b822a6549257f87769eeed37c6cb68a6c6255c5f238e2b6e6e61838c8ac857f2e305970a6435715f84e5a2e4b02a4d1e5289ba7ec7910e47d2d50f\",\"targetPublicSignature\":\"3045022100cefc333c330c9fa300d1aa10a439a76539b4d6967301638ab9edc9fd9468bfdb0220339bba7e2b00b45d52e941d068ecd3bfd16fd1926da69dd7769893268990d62f\",\"enclaveQuorumPublic\":\"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\"}\n * @param {string} organizationId\n * @param {string} userId\n */\nasync function onInjectImportBundle(bundle, organizationId, userId) {\n  let targetPublicBuf;\n  let verified;\n\n  // Parse the import bundle\n  const bundleObj = JSON.parse(bundle);\n\n  switch (bundleObj.version) {\n    case \"v1.0.0\":\n      // Validate fields exist\n      if (!bundleObj.data) {\n        throw new Error('missing \"data\" in bundle');\n      }\n      if (!bundleObj.dataSignature) {\n        throw new Error('missing \"dataSignature\" in bundle');\n      }\n      if (!bundleObj.enclaveQuorumPublic) {\n        throw new Error('missing \"enclaveQuorumPublic\" in bundle');\n      }\n\n      // Verify enclave signature\n      if (!TKHQ.verifyEnclaveSignature) {\n        throw new Error(\"method not loaded\");\n      }\n      verified = await TKHQ.verifyEnclaveSignature(\n        bundleObj.enclaveQuorumPublic,\n        bundleObj.dataSignature,\n        bundleObj.data\n      );\n      if (!verified) {\n        throw new Error(`failed to verify enclave signature: ${bundle}`);\n      }\n\n      // Parse the signed data. The data is produced by JSON encoding followed by hex encoding. We reverse this here.\n      const signedData = JSON.parse(\n        new TextDecoder().decode(TKHQ.uint8arrayFromHexString(bundleObj.data))\n      );\n\n      // Validate fields match\n      if (!organizationId) {\n        // TODO: throw error if organization id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"organizationId\" for security purposes.'\n        );\n      } else if (\n        !signedData.organizationId ||\n        signedData.organizationId !== organizationId\n      ) {\n        throw new Error(\n          `organization id does not match expected value. Expected: ${organizationId}. Found: ${signedData.organizationId}.`\n        );\n      }\n      if (!userId) {\n        // TODO: throw error if user id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"userId\" for security purposes.'\n        );\n      } else if (!signedData.userId || signedData.userId !== userId) {\n        throw new Error(\n          `user id does not match expected value. Expected: ${userId}. Found: ${signedData.userId}.`\n        );\n      }\n\n      if (!signedData.targetPublic) {\n        throw new Error('missing \"targetPublic\" in bundle signed data');\n      }\n\n      // Load target public key generated from enclave and set in local storage\n      targetPublicBuf = TKHQ.uint8arrayFromHexString(signedData.targetPublic);\n      break;\n    default:\n      throw new Error(`unsupported version: ${bundleObj.version}`);\n  }\n\n  const targetPublicKeyJwk = await TKHQ.loadTargetKey(\n    new Uint8Array(targetPublicBuf)\n  );\n  TKHQ.setTargetEmbeddedKey(targetPublicKeyJwk);\n\n  // Send up BUNDLE_INJECTED message\n  sendMessageUpStandalone(\"BUNDLE_INJECTED\", true);\n}\n\n/**\n * Function triggered when EXTRACT_WALLET_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the plaintextValue. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n */\nasync function onExtractWalletEncryptedBundle(plaintextValue) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext wallet mnemonic\n  const plaintext = plaintextValue.trim();\n  if (!plaintext) {\n    throw new Error(\"no wallet mnemonic entered\");\n  }\n  const plaintextBuf = new TextEncoder().encode(plaintext);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  sendMessageUpStandalone(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle);\n}\n\n/**\n * Function triggered when EXTRACT_KEY_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the plaintextValue. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n */\nasync function onExtractKeyEncryptedBundle(plaintextValue, keyFormat) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext private key\n  const plaintext = plaintextValue.trim();\n  if (!plaintext) {\n    throw new Error(\"no private key entered\");\n  }\n  const plaintextBuf = TKHQ.decodeKey(plaintext, keyFormat);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  sendMessageUpStandalone(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle);\n}\n\nasync function HpkeEncrypt({ plaintextBuf, receiverPubJwk }) {\n  const kemContext = new hpke.DhkemP256HkdfSha256();\n  const receiverPub = await kemContext.importKey(\n    \"jwk\",\n    { ...receiverPubJwk },\n    true\n  );\n\n  const suite = new hpke.CipherSuite({\n    kem: kemContext,\n    kdf: new hpke.HkdfSha256(),\n    aead: new hpke.Aes256Gcm(),\n  });\n\n  const senderCtx = await suite.createSenderContext({\n    recipientPublicKey: receiverPub,\n    info: new TextEncoder().encode(\"turnkey_hpke\"),\n  });\n\n  // Need to import the key again as a JWK to export as a raw key, the format needed to\n  // create the aad with the newly generated raw encapped key.\n  const receiverPubCryptoKey = await crypto.subtle.importKey(\n    \"jwk\",\n    receiverPubJwk,\n    {\n      name: \"ECDSA\",\n      namedCurve: \"P-256\",\n    },\n    true,\n    []\n  );\n  const receiverPubRaw = await crypto.subtle.exportKey(\n    \"raw\",\n    receiverPubCryptoKey\n  );\n  const receiverPubBuf = new Uint8Array(receiverPubRaw);\n\n  const encappedKeyBuf = new Uint8Array(senderCtx.enc);\n\n  const aad = TKHQ.additionalAssociatedData(encappedKeyBuf, receiverPubBuf);\n\n  var ciphertextBuf;\n  try {\n    ciphertextBuf = await senderCtx.seal(plaintextBuf, aad);\n  } catch (e) {\n    throw new Error(\"failed to encrypt import bundle: \" + e.toString());\n  }\n\n  const ciphertextHex = TKHQ.uint8arrayToHexString(\n    new Uint8Array(ciphertextBuf)\n  );\n  const encappedKeyBufHex = TKHQ.uint8arrayToHexString(encappedKeyBuf);\n  const encryptedBundle = JSON.stringify({\n    encappedPublic: encappedKeyBufHex,\n    ciphertext: ciphertextHex,\n  });\n  return encryptedBundle;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.\" + {\"291\":\"b62abe64ba4ebf68e89b\",\"825\":\"3a4aff0e743a7540fe25\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t362: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimport\"] = self[\"webpackChunkimport\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96,76], () => (__webpack_require__(635)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","logMessage","content","messageLog","document","getElementById","message","createElement","innerText","appendChild","sendMessageUpStandalone","type","window","top","postMessage","concat","onInjectImportBundle","_x5","_x6","_x7","_onInjectImportBundle","_regeneratorRuntime","mark","_callee6","bundle","organizationId","userId","targetPublicBuf","bundleObj","signedData","targetPublicKeyJwk","wrap","_context6","prev","next","JSON","parse","t0","version","data","Error","dataSignature","enclaveQuorumPublic","TKHQ","sent","TextDecoder","decode","console","warn","targetPublic","abrupt","Uint8Array","stop","onExtractWalletEncryptedBundle","_x8","_onExtractWalletEncryptedBundle","_callee7","plaintextValue","plaintext","plaintextBuf","encryptedBundle","_context7","trim","TextEncoder","encode","HpkeEncrypt","receiverPubJwk","onExtractKeyEncryptedBundle","_x9","_x10","_onExtractKeyEncryptedBundle","_callee8","keyFormat","_context8","_x11","_HpkeEncrypt","_callee9","_ref6","kemContext","receiverPub","suite","senderCtx","receiverPubCryptoKey","receiverPubRaw","receiverPubBuf","encappedKeyBuf","aad","ciphertextBuf","ciphertextHex","encappedKeyBufHex","_context9","hpke","importKey","_objectSpread","kem","kdf","aead","createSenderContext","recipientPublicKey","info","crypto","subtle","name","namedCurve","exportKey","enc","seal","toString","stringify","encappedPublic","ciphertext","addEventListener","_callee5","_context5","_ref2","_callee","event","_context","t1","t2","_x","_ref3","_callee2","_context2","preventDefault","_x2","_ref4","_callee3","_context3","_x3","_ref5","_callee4","_context4","_x4","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","obj","mode","this","__esModule","ns","def","current","indexOf","getOwnPropertyNames","forEach","definition","get","chunkId","all","reduce","promises","miniCssF","g","globalThis","Function","prop","hasOwnProperty","url","push","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","setAttribute","src","onScriptComplete","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","target","head","installedChunks","installedChunkData","promise","reject","error","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}