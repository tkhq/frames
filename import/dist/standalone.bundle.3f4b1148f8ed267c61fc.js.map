{"version":3,"file":"standalone.bundle.3f4b1148f8ed267c61fc.js","mappings":"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","sources":["webpack://import/webpack/runtime/chunk loaded","webpack://import/webpack/runtime/create fake namespace object","webpack://import/webpack/runtime/load script","webpack://import/./src/standalone.js","webpack://import/webpack/bootstrap","webpack://import/webpack/runtime/define property getters","webpack://import/webpack/runtime/ensure chunk","webpack://import/webpack/runtime/get javascript chunk filename","webpack://import/webpack/runtime/get mini-css chunk filename","webpack://import/webpack/runtime/global","webpack://import/webpack/runtime/hasOwnProperty shorthand","webpack://import/webpack/runtime/make namespace object","webpack://import/webpack/runtime/publicPath","webpack://import/webpack/runtime/jsonp chunk loading","webpack://import/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"import:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import \"./standalone-styles.css\";\nimport * as TKHQ from \"./turnkey-core.js\";\nimport { HpkeEncrypt } from \"@shared/crypto-utils.js\";\n\n// Make TKHQ available globally\nwindow.TKHQ = TKHQ;\n\n/**\n * Function to log a message and persist it in the page's DOM.\n */\nfunction logMessage(content) {\n  const messageLog = document.getElementById(\"message-log\");\n  const message = document.createElement(\"p\");\n  message.innerText = content;\n  messageLog.appendChild(message);\n}\n\n/**\n * Standalone-specific sendMessageUp that logs to DOM instead\n */\nfunction sendMessageUpStandalone(type, value) {\n  if (window.top !== null) {\n    window.top.postMessage(\n      {\n        type: type,\n        value: value,\n      },\n      \"*\"\n    );\n  }\n  logMessage(`⬆️ Sent message ${type}: ${value}`);\n}\n\ndocument.addEventListener(\n  \"DOMContentLoaded\",\n  async () => {\n    // This is a workaround for how @turnkey/iframe-stamper is initialized. Currently,\n    // init() waits for a public key to be initialized that can be used to send to the server\n    // which will encrypt messages to this public key.\n    // In the case of import, this public key is not used because the client encrypts messages\n    // to the server's public key.\n    sendMessageUpStandalone(\"PUBLIC_KEY_READY\", \"\");\n\n    // TODO: find a way to filter messages and ensure they're coming from the parent window?\n    // We do not want to arbitrarily receive messages from all origins.\n    window.addEventListener(\n      \"message\",\n      async function (event) {\n        if (event.data && event.data[\"type\"] == \"INJECT_IMPORT_BUNDLE\") {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"organizationId\"]}, ${event.data[\"userId\"]}`\n          );\n          try {\n            await onInjectImportBundle(\n              event.data[\"value\"],\n              event.data[\"organizationId\"],\n              event.data[\"userId\"]\n            );\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n        // TODO: deprecate EXTRACT_WALLET_ENCRYPTED_BUNDLE in favor of EXTRACT_ENCRYPTED_BUNDLE\n        if (\n          event.data &&\n          event.data[\"type\"] == \"EXTRACT_WALLET_ENCRYPTED_BUNDLE\"\n        ) {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}`\n          );\n          try {\n            await onExtractWalletEncryptedBundle(event.data[\"value\"]);\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n        if (\n          event.data &&\n          event.data[\"type\"] == \"EXTRACT_KEY_ENCRYPTED_BUNDLE\"\n        ) {\n          logMessage(\n            `⬇️ Received message ${event.data[\"type\"]}: ${event.data[\"value\"]}, ${event.data[\"keyFormat\"]}`\n          );\n          try {\n            await onExtractKeyEncryptedBundle(\n              event.data[\"value\"],\n              event.data[\"keyFormat\"]\n            );\n          } catch (e) {\n            sendMessageUpStandalone(\"ERROR\", e.toString());\n          }\n        }\n      },\n      false\n    );\n\n    /**\n     * Event handlers to power the import flow in standalone mode\n     * Instead of receiving events from the parent page, forms trigger them.\n     * This is useful for debugging as well.\n     */\n    document.getElementById(\"inject-import-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"INJECT_IMPORT_BUNDLE\",\n          value: document.getElementById(\"import-bundle\").value,\n          organizationId: document.getElementById(\"organization-id\").value,\n          userId: document.getElementById(\"user-id\").value,\n        });\n      },\n      false\n    );\n    document.getElementById(\"encrypt-wallet-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"EXTRACT_WALLET_ENCRYPTED_BUNDLE\",\n          value: document.getElementById(\"wallet-plaintext\").value,\n        });\n      },\n      false\n    );\n    document.getElementById(\"encrypt-key-bundle\").addEventListener(\n      \"click\",\n      async (e) => {\n        e.preventDefault();\n        window.postMessage({\n          type: \"EXTRACT_KEY_ENCRYPTED_BUNDLE\",\n          value: document.getElementById(\"key-plaintext\").value,\n          keyFormat: document.getElementById(\"key-import-format\").value,\n        });\n      },\n      false\n    );\n  },\n  false\n);\n\n/**\n * Function triggered when INJECT_IMPORT_BUNDLE event is received.\n * Parses the `import_bundle` and stores the target public key as a JWK\n * in local storage. Sends true upon success.\n * @param {string} bundle\n * Example bundle: {\"targetPublic\":\"0491ccb68758b822a6549257f87769eeed37c6cb68a6c6255c5f238e2b6e6e61838c8ac857f2e305970a6435715f84e5a2e4b02a4d1e5289ba7ec7910e47d2d50f\",\"targetPublicSignature\":\"3045022100cefc333c330c9fa300d1aa10a439a76539b4d6967301638ab9edc9fd9468bfdb0220339bba7e2b00b45d52e941d068ecd3bfd16fd1926da69dd7769893268990d62f\",\"enclaveQuorumPublic\":\"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569\"}\n * @param {string} organizationId\n * @param {string} userId\n */\nasync function onInjectImportBundle(bundle, organizationId, userId) {\n  let targetPublicBuf;\n  let verified;\n\n  // Parse the import bundle\n  const bundleObj = JSON.parse(bundle);\n\n  switch (bundleObj.version) {\n    case \"v1.0.0\": {\n      // Validate fields exist\n      if (!bundleObj.data) {\n        throw new Error('missing \"data\" in bundle');\n      }\n      if (!bundleObj.dataSignature) {\n        throw new Error('missing \"dataSignature\" in bundle');\n      }\n      if (!bundleObj.enclaveQuorumPublic) {\n        throw new Error('missing \"enclaveQuorumPublic\" in bundle');\n      }\n\n      // Verify enclave signature\n      if (!TKHQ.verifyEnclaveSignature) {\n        throw new Error(\"method not loaded\");\n      }\n      verified = await TKHQ.verifyEnclaveSignature(\n        bundleObj.enclaveQuorumPublic,\n        bundleObj.dataSignature,\n        bundleObj.data\n      );\n      if (!verified) {\n        throw new Error(`failed to verify enclave signature: ${bundle}`);\n      }\n\n      // Parse the signed data. The data is produced by JSON encoding followed by hex encoding. We reverse this here.\n      const signedData = JSON.parse(\n        new TextDecoder().decode(TKHQ.uint8arrayFromHexString(bundleObj.data))\n      );\n\n      // Validate fields match\n      if (!organizationId) {\n        // TODO: throw error if organization id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"organizationId\" for security purposes.'\n        );\n      } else if (\n        !signedData.organizationId ||\n        signedData.organizationId !== organizationId\n      ) {\n        throw new Error(\n          `organization id does not match expected value. Expected: ${organizationId}. Found: ${signedData.organizationId}.`\n        );\n      }\n      if (!userId) {\n        // TODO: throw error if user id is undefined once we've fully transitioned to v1.0.0 server messages and v2.0.0 iframe-stamper\n        console.warn(\n          'we highly recommend a version of @turnkey/iframe-stamper >= v2.0.0 to pass \"userId\" for security purposes.'\n        );\n      } else if (!signedData.userId || signedData.userId !== userId) {\n        throw new Error(\n          `user id does not match expected value. Expected: ${userId}. Found: ${signedData.userId}.`\n        );\n      }\n\n      if (!signedData.targetPublic) {\n        throw new Error('missing \"targetPublic\" in bundle signed data');\n      }\n\n      // Load target public key generated from enclave and set in local storage\n      targetPublicBuf = TKHQ.uint8arrayFromHexString(signedData.targetPublic);\n      break;\n    }\n    default:\n      throw new Error(`unsupported version: ${bundleObj.version}`);\n  }\n\n  const targetPublicKeyJwk = await TKHQ.loadTargetKey(\n    new Uint8Array(targetPublicBuf)\n  );\n  TKHQ.setTargetEmbeddedKey(targetPublicKeyJwk);\n\n  // Send up BUNDLE_INJECTED message\n  sendMessageUpStandalone(\"BUNDLE_INJECTED\", true);\n}\n\n/**\n * Function triggered when EXTRACT_WALLET_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the plaintextValue. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n */\nasync function onExtractWalletEncryptedBundle(plaintextValue) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext wallet mnemonic\n  const plaintext = plaintextValue.trim();\n  if (!plaintext) {\n    throw new Error(\"no wallet mnemonic entered\");\n  }\n  const plaintextBuf = new TextEncoder().encode(plaintext);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  sendMessageUpStandalone(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle);\n}\n\n/**\n * Function triggered when EXTRACT_KEY_ENCRYPTED_BUNDLE event is received.\n * Prerequisite: This function uses the target public key in local storage that is imported\n * from the INJECT_IMPORT_BUNDLE event.\n * Uses the target public key in local storage to encrypt the plaintextValue. Upon successful encryption, sends\n * an `encrypted_bundle` containing the ciphertext and encapped public key.\n * Example bundle: {\"encappedPublic\":\"0497f33f3306f67f4402d4824e15b63b04786b6558d417aac2fef69051e46fa7bfbe776b142e4ded4f02097617a7588e93c53b71f900a4a8831a31be6f95e5f60f\",\"ciphertext\":\"c17c3085505f3c094f0fa61791395b83ab1d8c90bdf9f12a64fc6e2e9cba266beb528f65c88bd933e36e6203752a9b63e6a92290a0ab6bf0ed591cf7bfa08006001e2cc63870165dc99ec61554ffdc14dea7d567e62cceed29314ae6c71a013843f5c06146dee5bf9c1d\"}\n */\nasync function onExtractKeyEncryptedBundle(plaintextValue, keyFormat) {\n  // Get target embedded key from previous step (onInjectImportBundle)\n  const targetPublicKeyJwk = TKHQ.getTargetEmbeddedKey();\n  if (targetPublicKeyJwk == null) {\n    throw new Error(\"no target key found\");\n  }\n\n  // Get plaintext private key\n  const plaintext = plaintextValue.trim();\n  if (!plaintext) {\n    throw new Error(\"no private key entered\");\n  }\n  const plaintextBuf = TKHQ.decodeKey(plaintext, keyFormat);\n\n  // Encrypt the bundle using the enclave target public key\n  const encryptedBundle = await HpkeEncrypt({\n    plaintextBuf,\n    receiverPubJwk: targetPublicKeyJwk,\n  });\n\n  // Reset target embedded key after using for encryption\n  TKHQ.resetTargetEmbeddedKey();\n\n  // Send up ENCRYPTED_BUNDLE_EXTRACTED message\n  sendMessageUpStandalone(\"ENCRYPTED_BUNDLE_EXTRACTED\", encryptedBundle);\n}\n\n// HpkeEncrypt is now imported from @shared/crypto-utils.js\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.\" + {\"219\":\"cb48f48e7cbe16f9bccc\",\"477\":\"836629fd3e7ec383b771\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t362: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimport\"] = self[\"webpackChunkimport\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96,551], () => (__webpack_require__(635)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","logMessage","content","messageLog","document","getElementById","message","createElement","innerText","appendChild","sendMessageUpStandalone","type","window","top","postMessage","concat","onInjectImportBundle","_x5","_x6","_x7","_onInjectImportBundle","_regeneratorRuntime","mark","_callee6","bundle","organizationId","userId","targetPublicBuf","bundleObj","signedData","targetPublicKeyJwk","wrap","_context6","prev","next","JSON","parse","t0","version","data","Error","dataSignature","enclaveQuorumPublic","TKHQ","sent","TextDecoder","decode","console","warn","targetPublic","abrupt","Uint8Array","stop","onExtractWalletEncryptedBundle","_x8","_onExtractWalletEncryptedBundle","_callee7","plaintextValue","plaintext","plaintextBuf","encryptedBundle","_context7","trim","TextEncoder","encode","HpkeEncrypt","receiverPubJwk","onExtractKeyEncryptedBundle","_x9","_x10","_onExtractKeyEncryptedBundle","_callee8","keyFormat","_context8","addEventListener","_callee5","_context5","_ref2","_callee","event","_context","toString","t1","t2","_x","_ref3","_callee2","_context2","preventDefault","_x2","_ref4","_callee3","_context3","_x3","_ref5","_callee4","_context4","_x4","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","obj","mode","this","__esModule","ns","def","current","indexOf","getOwnPropertyNames","forEach","definition","get","chunkId","all","reduce","promises","miniCssF","g","globalThis","Function","prop","hasOwnProperty","url","push","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","setAttribute","src","onScriptComplete","onerror","onload","clearTimeout","timeout","doneFns","parentNode","removeChild","setTimeout","target","head","installedChunks","installedChunkData","promise","reject","error","errorType","realSrc","name","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}