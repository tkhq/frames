/*! For license information please see common.bundle.3144caf03f98797301c3.js.LICENSE.txt */
"use strict";(self.webpackChunkimport=self.webpackChunkimport||[]).push([[76],{482:(e,r,t)=>{t.r(r),t.d(r,{additionalAssociatedData:()=>B,applySettings:()=>q,base58CheckDecode:()=>R,base58Decode:()=>F,decodeKey:()=>K,fromDerSignature:()=>Y,getSettings:()=>P,getTargetEmbeddedKey:()=>_,loadTargetKey:()=>A,normalizePadding:()=>M,resetTargetEmbeddedKey:()=>U,sendMessageUp:()=>V,setCryptoProvider:()=>I,setParentFrameMessageChannelPort:()=>H,setSettings:()=>j,setTargetEmbeddedKey:()=>O,uint8arrayFromHexString:()=>$,uint8arrayToHexString:()=>W,validateStyles:()=>J,verifyEnclaveSignature:()=>L});var n=t(343);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){var e=f(),r=e.m(a),t=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function n(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===t||"GeneratorFunction"===(r.displayName||r.name))}var o={throw:1,return:2,break:3,continue:3};function d(e){var r,t;return function(n){r||(r={stop:function(){return t(n.a,2)},catch:function(){return n.v},abrupt:function(e,r){return t(n.a,o[e],r)},delegateYield:function(e,o,a){return r.resultName=o,t(n.d,i(e),a)},finish:function(e){return t(n.f,e)}},t=function(e,t,o){n.p=r.prev,n.n=r.next;try{return e(t,o)}finally{r.next=n.n}}),r.resultName&&(r[r.resultName]=n.v,r.resultName=void 0),r.sent=n.v,r.next=n.n;try{return e.call(this,r)}finally{n.p=r.prev,n.n=r.next}}}return(a=function(){return{wrap:function(r,t,n,o){return e.w(d(r),t,n,o&&o.reverse())},isGeneratorFunction:n,mark:e.m,awrap:function(e,r){return new p(e,r)},AsyncIterator:l,async:function(e,r,t,o,a){return(n(r)?s:u)(d(e),r,t,o,a)},keys:c,values:i}})()}function i(e){if(null!=e){var r=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError(o(e)+" is not iterable")}function c(e){var r=Object(e),t=[];for(var n in r)t.unshift(n);return function e(){for(;t.length;)if((n=t.pop())in r)return e.value=n,e.done=!1,e;return e.done=!0,e}}function u(e,r,t,n,o){var a=s(e,r,t,n,o);return a.next().then(function(e){return e.done?e.value:a.next()})}function s(e,r,t,n,o){return new l(f().w(e,r,t,n),o||Promise)}function l(e,r){function t(n,o,a,i){try{var c=e[n](o),u=c.value;return u instanceof p?r.resolve(u.v).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):r.resolve(u).then(function(e){c.value=e,a(c)},function(e){return t("throw",e,a,i)})}catch(e){i(e)}}var n;this.next||(d(l.prototype),d(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),d(this,"_invoke",function(e,o,a){function i(){return new r(function(r,n){t(e,a,r,n)})}return n=n?n.then(i,i):i()},!0)}function f(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return d(s,"_invoke",function(t,n,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(r,t){return a=r,c=0,u=e,d.n=t,i}};function p(t,n){for(c=t,u=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,a=l[r],p=d.p,y=a[2];t>3?(o=y===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,d.v=n,d.n=a[1]):p<y&&(o=t<3||a[0]>n||n>y)&&(a[4]=t,a[5]=n,d.n=y,c=0))}if(o||t>1)return i;throw f=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(r=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),r=a[o]){if(!(r=r.call(a,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,c<2&&(c=0)}else 1===c&&(r=a.return)&&r.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((r=(f=d.n<0)?u:t.call(n,d))!==i)break}catch(r){a=e,c=1,u=r}finally{s=1}}return{value:r,done:f}}}(t,o,a),!0),s}var i={};function c(){}function u(){}function s(){}r=Object.getPrototypeOf;var l=[][n]?r(r([][n]())):(d(r={},n,function(){return this}),r),p=s.prototype=c.prototype=Object.create(l);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,d(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=s,d(p,"constructor",s),d(s,"constructor",u),u.displayName="GeneratorFunction",d(s,o,"GeneratorFunction"),d(p),d(p,o,"Generator"),d(p,n,function(){return this}),d(p,"toString",function(){return"[object Generator]"}),(f=function(){return{w:a,m:y}})()}function d(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}d=function(e,r,t,n){function a(r,t){d(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},d(e,r,t,n)}function p(e,r){this.v=e,this.k=r}function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,c=[],u=!0,s=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,r)||h(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){if(e){if("string"==typeof e)return m(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,r):void 0}}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function v(e,r,t,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(n,o)}function w(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e){v(a,n,o,i,c,"next",e)}function c(e){v(a,n,o,i,c,"throw",e)}i(void 0)})}}var g="TURNKEY_TARGET_EMBEDDED_KEY",x="TURNKEY_SETTINGS",E=null,k=null;function S(){return k&&k.subtle?k.subtle:"undefined"!=typeof globalThis&&globalThis.crypto&&globalThis.crypto.subtle?globalThis.crypto.subtle:"undefined"!=typeof window&&window.crypto&&window.crypto.subtle?window.crypto.subtle:void 0!==t.g&&t.g.crypto&&t.g.crypto.subtle?t.g.crypto.subtle:"undefined"!=typeof crypto&&crypto.subtle?crypto.subtle:null}function I(e){k=e||null}function A(e){return T.apply(this,arguments)}function T(){return(T=w(a().mark(function e(r){var t,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S()){e.next=3;break}throw new Error("WebCrypto subtle API is unavailable");case 3:return e.next=5,t.importKey("raw",r,{name:"ECDH",namedCurve:"P-256"},!0,[]);case 5:return n=e.sent,e.next=8,t.exportKey("jwk",n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=w(a().mark(function e(r){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S()){e.next=3;break}throw new Error("WebCrypto subtle API is unavailable");case 3:return e.next=5,t.importKey("raw",r,{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){var e=window.localStorage.getItem(g);return e?JSON.parse(e):null}function O(e){window.localStorage.setItem(g,JSON.stringify(e))}function U(){window.localStorage.removeItem(g)}function P(){var e=window.localStorage.getItem(x);return e?JSON.parse(e):null}function j(e){window.localStorage.setItem(x,JSON.stringify(e))}function $(e){if(!e||e.length%2!=0||!/^[0-9A-Fa-f]+$/.test(e))throw new Error("cannot create uint8array from invalid hex string");return new Uint8Array(e.match(/../g).map(function(e){return parseInt(e,16)}))}function W(e){return b(e).map(function(e){return e.toString(16).padStart(2,"0")}).join("")}function F(e){for(var r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t=[],n=[],o=0;o<e.length;o++){if(-1===r.indexOf(e[o]))throw new Error("cannot base58-decode: ".concat(e[o]," isn't a valid character"));var a=r.indexOf(e[o]);0==a&&o===n.length&&n.push(0);for(var i=0;i<t.length||a>0;){var c=t[i];a=(c=void 0===c?a:58*c+a)>>8,t[i]=c%256,i++}}var u=n.concat(t.reverse());return new Uint8Array(u)}function R(e){return D.apply(this,arguments)}function D(){return(D=w(a().mark(function e(r){var t,n,o,i,c,u,s,l,f;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=F(r)).length<5)){e.next=3;break}throw new Error("invalid base58check length: expected at least 5 bytes, got ".concat(t.length));case 3:if(n=t.subarray(0,t.length-4),o=t.subarray(t.length-4),i=S()){e.next=8;break}throw new Error("WebCrypto subtle API is unavailable");case 8:return e.next=10,i.digest("SHA-256",n);case 10:return c=e.sent,u=new Uint8Array(c),e.next=14,i.digest("SHA-256",u);case 14:if(s=e.sent,l=new Uint8Array(s),f=l.subarray(0,4),0===(o[0]^f[0]|o[1]^f[1]|o[2]^f[2]|o[3]^f[3])){e.next=20;break}throw new Error("invalid base58check checksum");case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e,r){return G.apply(this,arguments)}function G(){return(G=w(a().mark(function e(r,t){var o,i,c,u,s,l,f,d,p,y,b,h,m;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="SOLANA"===e.t0?3:"HEXADECIMAL"===e.t0?7:"BITCOIN_MAINNET_WIF"===e.t0?10:"BITCOIN_TESTNET_WIF"===e.t0?22:"SUI_BECH32"===e.t0?34:45;break;case 3:if(64===(o=F(r)).length){e.next=6;break}throw new Error("invalid key length. Expected 64 bytes. Got ".concat(o.length,"."));case 6:return e.abrupt("return",o.subarray(0,32));case 7:if(!r.startsWith("0x")){e.next=9;break}return e.abrupt("return",$(r.slice(2)));case 9:case 48:return e.abrupt("return",$(r));case 10:return e.next=12,R(r);case 12:if(i=e.sent,c=i[0],u=i.subarray(1),128===c){e.next=17;break}throw new Error("invalid WIF version byte: ".concat(c,". Expected 0x80 (mainnet)."));case 17:if(32!==u.length){e.next=19;break}throw new Error("uncompressed WIF keys not supported");case 19:if(33===u.length&&1===u[32]){e.next=21;break}throw new Error("invalid WIF format: expected compressed private key");case 21:return e.abrupt("return",u.subarray(0,32));case 22:return e.next=24,R(r);case 24:if(s=e.sent,l=s[0],f=s.subarray(1),239===l){e.next=29;break}throw new Error("invalid WIF version byte: ".concat(l,". Expected 0xEF (testnet)."));case 29:if(32!==f.length){e.next=31;break}throw new Error("uncompressed WIF keys not supported");case 31:if(33===f.length&&1===f[32]){e.next=33;break}throw new Error("invalid WIF format: expected compressed private key");case 33:return e.abrupt("return",f.subarray(0,32));case 34:if(d=n.I.decode(r),p=d.prefix,y=d.words,"suiprivkey"===p){e.next=37;break}throw new Error('invalid SUI private key human-readable part (HRP): expected "suiprivkey"');case 37:if(33===(b=n.I.fromWords(y)).length){e.next=40;break}throw new Error("invalid SUI private key length: expected 33 bytes, got ".concat(b.length));case 40:if(h=b[0],m=b.slice(1),0===h){e.next=44;break}throw new Error("invalid SUI private key scheme flag: expected 0 (Ed25519). Turnkey only supports Ed25519 keys for SUI.");case 44:return e.abrupt("return",new Uint8Array(m));case 45:if(console.warn("invalid key format: ".concat(t,". Defaulting to HEXADECIMAL.")),!r.startsWith("0x")){e.next=48;break}return e.abrupt("return",$(r.slice(2)));case 49:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e){E=e}function M(e,r){var t=r-e.length;if(t>0){var n=new Uint8Array(t).fill(0);return new Uint8Array([].concat(b(n),b(e)))}if(t<0){for(var o=-1*t,a=0,i=0;i<o&&i<e.length;i++)0===e[i]&&a++;if(a!==o)throw new Error("invalid number of starting zeroes. Expected number of zeroes: ".concat(o,". Found: ").concat(a,"."));return e.slice(o,o+r)}return e}function B(e,r){var t=Array.from(new Uint8Array(e)),n=Array.from(new Uint8Array(r));return new Uint8Array([].concat(t,n))}function Y(e){var r=$(e),t=2;if(2!==r[t])throw new Error("failed to convert DER-encoded signature: invalid tag for r");var n=r[++t];t++;var o=r.slice(t,t+n);if(2!==r[t+=n])throw new Error("failed to convert DER-encoded signature: invalid tag for s");var a=r[++t];t++;var i=r.slice(t,t+a),c=M(o,32),u=M(i,32);return new Uint8Array([].concat(b(c),b(u)))}function L(e,r,t){return z.apply(this,arguments)}function z(){return(z=w(a().mark(function e(r,t,n){var o,i,c,u,s,l,f,d;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o={prod:"04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569",preprod:"04f3422b8afbe425d6ece77b8d2469954715a2ff273ab7ac89f1ed70e0a9325eaa1698b4351fd1b23734e65c0b6a86b62dd49d70b37c94606aac402cbd84353212"},i="undefined"!=typeof window&&window.__TURNKEY_SIGNER_ENVIRONMENT__||"__TURNKEY_SIGNER_ENVIRONMENT__",void 0!==(c=o[i])){e.next=5;break}throw new Error("Configuration error: TURNKEY_SIGNER_ENCLAVE_QUORUM_PUBLIC_KEY is undefined");case 5:if(!r){e.next=8;break}if(r===c){e.next=8;break}throw new Error("enclave quorum public keys from client and bundle do not match. Client: ".concat(c,". Bundle: ").concat(r,"."));case 8:return u=new Uint8Array($(c)),e.next=11,C(u);case 11:if(s=e.sent){e.next=14;break}throw new Error("failed to load quorum key");case 14:if(l=Y(t),f=$(n),d=S()){e.next=19;break}throw new Error("WebCrypto subtle API is unavailable");case 19:return e.next=21,d.verify({name:"ECDSA",hash:"SHA-256"},s,l,f);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e,r){var t={},n={padding:"^(\\d+(px|em|%|rem) ?){1,4}$",margin:"^(\\d+(px|em|%|rem) ?){1,4}$",borderWidth:"^(\\d+(px|em|rem) ?){1,4}$",borderStyle:"^(none|solid|dashed|dotted|double|groove|ridge|inset|outset)$",borderColor:"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\(\\d{1,3}, \\d{1,3}, \\d{1,3}(, \\d?(\\.\\d{1,2})?)?\\)|hsla?\\(\\d{1,3}, \\d{1,3}%, \\d{1,3}%(, \\d?(\\.\\d{1,2})?)?\\))$",borderRadius:"^(\\d+(px|em|%|rem) ?){1,4}$",fontSize:"^(\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax))$",fontWeight:"^(normal|bold|bolder|lighter|\\d{3})$",fontFamily:'^[^";<>]*$',color:"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\(\\d{1,3}, \\d{1,3}, \\d{1,3}(, \\d?(\\.\\d{1,2})?)?\\)|hsla?\\(\\d{1,3}, \\d{1,3}%, \\d{1,3}%(, \\d?(\\.\\d{1,2})?)?\\))$",labelColor:"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\(\\d{1,3}, \\d{1,3}, \\d{1,3}(, \\d?(\\.\\d{1,2})?)?\\)|hsla?\\(\\d{1,3}, \\d{1,3}%, \\d{1,3}%(, \\d?(\\.\\d{1,2})?)?\\))$",backgroundColor:"^(transparent|inherit|initial|#[0-9a-f]{3,8}|rgba?\\(\\d{1,3}, \\d{1,3}, \\d{1,3}(, \\d?(\\.\\d{1,2})?)?\\)|hsla?\\(\\d{1,3}, \\d{1,3}%, \\d{1,3}%(, \\d?(\\.\\d{1,2})?)?\\))$",width:"^(\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$",height:"^(\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|auto)$",maxWidth:"^(\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$",maxHeight:"^(\\d+(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|none)$",lineHeight:"^(\\d+(\\.\\d+)?(px|em|rem|%|vh|vw|in|cm|mm|pt|pc|ex|ch|vmin|vmax)|normal)$",boxShadow:"^(none|(\\d+(px|em|rem) ?){2,4} (#[0-9a-f]{3,8}|rgba?\\(\\d{1,3}, \\d{1,3}, \\d{1,3}(, \\d?(\\.\\d{1,2})?)?\\)) ?(inset)?)$",textAlign:"^(left|right|center|justify|initial|inherit)$",overflowWrap:"^(normal|break-word|anywhere)$",wordWrap:"^(normal|break-word)$",resize:"^(none|both|horizontal|vertical|block|inline)$"};return Object.entries(e).forEach(function(e){var r=y(e,2),o=r[0],a=r[1],i=o.trim();if(0===i.length)throw new Error("css style property cannot be empty");var c=n[i];if(!c)throw new Error('invalid or unsupported css style property: "'.concat(i,'"'));var u=new RegExp(c),s=a.trim();if(0==s.length)throw new Error('css style for "'.concat(i,'" is empty'));if(!u.test(s))throw new Error('invalid css style value for property "'.concat(i,'"'));t[i]=s}),t}function q(e){var r={},t=JSON.parse(e),n=document.getElementById("passphrase-label"),o=document.getElementById("mnemonic-label"),a=document.getElementById("passphrase");if(!n||!a)throw new Error("no passphrase HTML elements found to apply settings to.");var i=document.getElementById("plaintext");if(!i)throw new Error("no plaintext textarea HTML element found to apply settings to.");if(!0===t.enablePassphrase?(n.style.display="inline-block",a.style.display="inline-block",a.style.border="solid 1px #ccc",a.style.borderRadius="4px",o.style.display="inline-block",i.style.border="solid 1px #ccc",i.style.borderRadius="4px",r.enablePassphrase=!0):(n.style.display="none",a.style.display="none",o.style.display="none",i.style.border="none",r.enablePassphrase=!1),t.styles){var c=J(t.styles);Object.entries(c).forEach(function(e){var r=y(e,2),t=r[0],n=r[1];i.style[t]=n}),c.backgroundColor&&(document.documentElement.style.backgroundColor=c.backgroundColor,document.body.style.backgroundColor=c.backgroundColor),c.labelColor&&(document.getElementById("mnemonic-label").style.color=c.labelColor),r.styles=c}if(t.passphraseStyles){var u=J(t.passphraseStyles);Object.entries(u).forEach(function(e){var r=y(e,2),t=r[0],n=r[1];a.style[t]=n}),u.labelColor&&(document.getElementById("passphrase-label").style.color=u.labelColor),r.passphraseStyles=u}return JSON.stringify(r)}function V(e,r,t){var n={type:e,value:r};t&&(n.requestId=t),E?E.postMessage(n):window.parent!==window&&window.parent.postMessage({type:e,value:r},"*")}}}]);
//# sourceMappingURL=common.bundle.3144caf03f98797301c3.js.map